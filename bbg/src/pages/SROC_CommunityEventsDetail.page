<apex:page showHeader="false" sidebar="false" standardStylesheets="false" applyHtmlTag="false" applyBodyTag="false" docType="html-5.0" standardController="CORECONNECT__CC_Community_Content__c" extensions="CORECONNECT.CC_CommunityFTSCDetailController,SROC_GetUserTimeZone" action="{!SaveCurrentToCookie}">
 
<apex:composition template="{!$Site.Template}">

    <apex:define name="pagetitle"><apex:outputText value="{!CORECONNECT__CC_Community_Content__c.Name}"  /></apex:define>

    <apex:define name="body" > 

      <header class="container page-heading">
        <apex:outputLink value="{!$Page.SROC_CommunityEvents}"> Events </apex:outputLink>
        |
        <apex:outputLink value="{!$CurrentPage.URL}"> {!CORECONNECT__CC_Community_Content__c.Name} </apex:outputLink>
        <br/>
        <apex:outputPanel rendered="{!$Permission.CORECONNECT__Create_ScheduledContent}">
            <a href="{!$Page.SROC_CreateContent}#submit-ScheduledContent" class="btn btn-info btn-lg pull-right hidden-xs"><span class="icon-submit"></span> {!$Label.CORECONNECT__CC_ScheduledContent_Detail_Submit_FreeText_ScheduledContent}</a>
        </apex:outputPanel>
        <div class="h1 inline">Events</div>
        <div class="breadcrumb inline">
          <a href="{!$Page.SROC_CommunityEvents}">{!$Label.CORECONNECT__CC_ScheduledContent_Detail_Back_To_ScheduledContent}</a>
        </div>
      </header>

      <article class="container box ScheduledContent-details">
        <div class="row">
          <div class="ScheduledContent-body body">
            <header class="ScheduledContent-header clearfix">
              <div class="text">
                <h1><apex:outputText value="{!CORECONNECT__CC_Community_Content__c.Name}" /></h1>
               
                <ul class="list-unstyled">
                  
                  <apex:outputPanel rendered="{!CORECONNECT__CC_Community_Content__c.CORECONNECT__Location_City__c != '' && CORECONNECT__CC_Community_Content__c.CORECONNECT__Location_State_Province__c != ''}" > 
                  <li>
                    <apex:outputText value="{!CORECONNECT__CC_Community_Content__c.CORECONNECT__Location_City__c}, {!CORECONNECT__CC_Community_Content__c.CORECONNECT__Location_State_Province__c}" /> 
                  </li> 
                  </apex:outputPanel>
                  
                  
                  <apex:outputPanel rendered="{!CORECONNECT__CC_Community_Content__c.CORECONNECT__Location_Street_1__c != ''}" > 
                  <li>
                    <apex:outputText value="{!CORECONNECT__CC_Community_Content__c.CORECONNECT__Location_Street_1__c}" /> 
                  </li> 
                  </apex:outputPanel>
                  
                  <apex:outputPanel rendered="{!CORECONNECT__CC_Community_Content__c.CORECONNECT__Location_Street_2__c != ''}" > 
                  <li>
                    <apex:outputText value="{!CORECONNECT__CC_Community_Content__c.CORECONNECT__Location_Street_2__c}" /> 
                  </li> 
                  </apex:outputPanel>
                  
                  <apex:outputPanel rendered="{!CORECONNECT__CC_Community_Content__c.CORECONNECT__Location_Street_3__c != ''}" > 
                  <li>
                    <apex:outputText value="{!CORECONNECT__CC_Community_Content__c.CORECONNECT__Location_Street_3__c}" /> 
                  </li> 
                  </apex:outputPanel>
                  <apex:outputPanel rendered="true">
                    <li>
                      <apex:outputLink target="_blank" value="https://www.google.com/maps/search/{!URLENCODE(CORECONNECT__CC_Community_Content__c.CORECONNECT__Location_Street_1__c + ' ' + CORECONNECT__CC_Community_Content__c.CORECONNECT__Location_Street_2__c + ' ' + CORECONNECT__CC_Community_Content__c.CORECONNECT__Location_Street_3__c + ' ' +
                      CORECONNECT__CC_Community_Content__c.CORECONNECT__Location_City__c + ' ' +  
                      CORECONNECT__CC_Community_Content__c.CORECONNECT__Location_Postal_Code__c + ' ' +  
                      CORECONNECT__CC_Community_Content__c.CORECONNECT__Location_Country__c)}">Map It</apex:outputLink>
                    </li>
                  </apex:outputPanel>  
                  <apex:outputPanel rendered="{!CORECONNECT__CC_Community_Content__c.CORECONNECT__ScheduledContent_Type__c != ''}" > <li><apex:outputText value="{!CORECONNECT__CC_Community_Content__c.CORECONNECT__ScheduledContent_Type__c}"   /> </li> </apex:outputPanel>
                 
                  <apex:outputPanel >
                  <li>
                    <apex:outputText value="{!ScheduledContentDaysBetweenStartEnd} DAY EVENT"/>
                  </li>
                  </apex:outputPanel>
                  <apex:outputPanel >
                  <li> 
                    <apex:outputText rendered="{!CORECONNECT__CC_Community_Content__c.CORECONNECT__Is_All_Day_ScheduledContent__c == true}" value=" All Day" />
                    <apex:outputText rendered="{!CORECONNECT__CC_Community_Content__c.CORECONNECT__Is_All_Day_ScheduledContent__c == false}">
                        From: {!IF(ScheduledContentStartMonthAndYear == ScheduledContentEndMonthAndYear && ScheduledcontentstartDayInMonth == ScheduledcontentendDayInMonth,
                         '',
                         ScheduledContentStartDateDiffDay + ' at ') + ScheduledContentStartTime}
                    </apex:outputText>
                   </li>
                   </apex:outputPanel>
                   <apex:outputPanel >
                   <li>
                    <apex:outputText rendered="{!CORECONNECT__CC_Community_Content__c.CORECONNECT__Is_All_Day_ScheduledContent__c==false}">
                        To: {!IF(ScheduledContentStartMonthAndYear == ScheduledContentEndMonthAndYear && ScheduledcontentstartDayInMonth == ScheduledcontentEndDayInMonth,
                        '',
                         ScheduledContentEndDateDiffDay + ' at ') + ScheduledContentEndTime}
                    </apex:outputText>
                   </li>
                   </apex:outputPanel>
                   <li>
                      <apex:outputText value=" {!userTimezone.displayName}"/>
                   </li>
                  
                </ul>

                <div class="ScheduledContent-actions">
                  <apex:outputPanel rendered="{!CORECONNECT__CC_Community_Content__c.CORECONNECT__RSVP_Link__c != ''}" layout="none">
                    <p><a href="{!CORECONNECT__CC_Community_Content__c.CORECONNECT__RSVP_Link__c}" class="btn btn-primary btn-sm" rel="external">{!$Label.CORECONNECT__CC_ScheduledContent_Detail_RSVP}</a></p>
                  </apex:outputPanel>

                  <p class="hidden-android">
                    <a href="{!$Page.CORECONNECT__CC_CommunityScheduledContentICS}?id={!CORECONNECT__CC_Community_Content__c.Id}" class="btn btn-default btn-sm">{!$Label.CORECONNECT__CC_ScheduledContent_Detail_Add_To_Calendar}</a>
                    <small>{!$Label.CORECONNECT__CC_ScheduledContent_Detail_ICS}</small>
                  </p>
                </div>
              </div>

              <div class="ScheduledContent-date" itemprop="startDate" datetime="2014-07-07T08:00">
                <span class="dow">{!ScheduledcontentstartDayInMonth}</span>
                <span class="m">{!ScheduledcontentstartMonth}</span>
                <span class="d">{!ScheduledcontentstartDate}</span>
                <apex:outputText escape="false" value="<hr/>" rendered="{!IF((ScheduledContentStartMonthAndYear == ScheduledContentEndMonthAndYear && ScheduledcontentstartDayInMonth == ScheduledcontentEndDayInMonth) || ScheduledContentEndMonthAndYear == '','false','true')}"/>
                <span class="dow">{!IF(ScheduledContentStartMonthAndYear == ScheduledContentEndMonthAndYear && ScheduledcontentstartDayInMonth == ScheduledcontentEndDayInMonth && ScheduledContentEndMonthAndYear != '','',ScheduledcontentEndDayInMonth)}</span>
                <span class="m">{!IF(ScheduledContentStartMonthAndYear == ScheduledContentEndMonthAndYear && ScheduledcontentstartDayInMonth == ScheduledcontentEndDayInMonth && ScheduledContentEndMonthAndYear != '','',ScheduledcontentEndMonth)}</span>
                <span class="d">{!IF(ScheduledContentStartMonthAndYear == ScheduledContentEndMonthAndYear && ScheduledcontentstartDayInMonth == ScheduledcontentEndDayInMonth && ScheduledContentEndMonthAndYear != '','',ScheduledcontentEndDate)}</span>
              </div>

            </header>

            <apex:outputPanel rendered="{!AttachmentId != null}">
              <div class="image pull-right col-xs-12 col-sm-8 col-md-6">
                <img src="{!URLFOR($Action.Attachment.Download, AttachmentId)}" alt="" class="img-responsive" />
              </div>
            </apex:outputPanel>

            <div class="ScheduledContent-body-description">
              <apex:outputField value="{!CORECONNECT__CC_Community_Content__c.CORECONNECT__Description__c}"  />
            </div>

          </div>

        </div>
        
        <apex:outputPanel rendered="{!$Profile.Name != GuestProfileName}">
            <section id="comments">
              <div class="row">
                <div class="comments col-sm-8 col-md-9">
                  <h2>{!$Label.CORECONNECT__CC_ScheduledContent_Detail_Comments}</h2>
                  <chatter:feedWithFollowers entityId="{!CORECONNECT__CC_Community_Content__c.Id}" />
                </div>
              </div>
            </section>
        </apex:outputPanel>
        
        <aside class="sidebar col-sm-4 col-md-3">
            
          <c:SROC_CommunityEventRSVP id="eventRSVPId"/>  
        </aside>
        
        
        
      </article><!-- /.ScheduledContent-details -->

    </apex:define>
  </apex:composition>
</apex:page>