<apex:page controller="ts2.SubmittalProcess" showHeader="false" language="{!UserInfoLanguage}">

	<apex:composition template="{!$Site.Template}">
	<apex:define name="body">

		<apex:outputPanel rendered="{!HasFatalMessages}" layout="none">
			<div id="atsErrorPageBox">
				<apex:messages styleClass="atsErrorPageMessage" layout="table"/>
			</div>
		</apex:outputPanel>

		<apex:outputPanel rendered="{!NOT(HasFatalMessages)}" layout="none">
			<apex:form id="atsForm" styleClass="atsForm">
				<span class="atsError">
					<!-- BEGIN FORM ERROR MESSAGES -->
					<apex:messages styleClass="atsError" layout="table" globalOnly="true" />
					<!-- END FORM ERROR MESSAGES -->
				</span>

				<apex:pageBlock rendered="{!NOT(Processed)}">
					<apex:pageBlockButtons >
						<apex:commandButton value="{!$Label.SubmittalProcessButtonAccept}" title="{!$Label.SubmittalProcessButtonAccept}" action="{!accept}" rendered="{!NOT(ShowRejectReason)}" rerender="atsForm" />
						<apex:commandButton value="{!$Label.SubmittalProcessButtonReject}" title="{!$Label.SubmittalProcessButtonReject}" action="{!reject}" rerender="atsForm" />
						<apex:commandButton value="{!$Label.Cancel}" title="{!$Label.Cancel}" action="{!cancel}" rendered="{!ShowRejectReason}" immediate="true" rerender="atsForm" />
					</apex:pageBlockButtons>

					<apex:outputPanel rendered="{!ShowRejectReason}" layout="none">
						<apex:pageBlockSection columns="1">
							<apex:pageBlockSectionItem >
								<apex:outputLabel value="{!$ObjectType.ts2__Submittal__c.Fields.ts2__Reject_Reason__c.Label}" />
								<apex:selectList value="{!Submittal_RejectReason_Active}" size="1" required="true" >
									<apex:selectOptions value="{!Submittal_RejectReasons}" />
								</apex:selectList>
							</apex:pageBlockSectionItem>
						</apex:pageBlockSection>
					</apex:outputPanel>

					<apex:outputPanel rendered="{!NOT(ShowRejectReason)}" layout="none">
						<apex:pageBlockSection title="{!$Label.SubmittalProcessSectionHiringManager}" columns="1">
							<apex:pageBlockSectionItem >
								<apex:outputLabel value="{!$ObjectType.User.Fields.Name.Label}" />
								<apex:outputText value="{!Submittal_HiringManager_Name}" />
							</apex:pageBlockSectionItem>
							<apex:pageBlockSectionItem >
								<apex:outputLabel value="" />
								<apex:outputText value="{!$Label.SubmittalProcessTextInstructions}">
									<apex:param value="{!$ObjectType.ts2__Submittal__c.Label}" />
								</apex:outputText>
							</apex:pageBlockSectionItem>
						</apex:pageBlockSection>

						<apex:pageBlockSection title="{!$Label.SubmittalProcessSectionCandidate}" columns="1">
							<apex:pageBlockSectionItem >
								<apex:outputLabel value="{!$ObjectType.Contact.Fields.Name.Label}" />
								<apex:outputText value="{!Submittal_Candidate_Name}" />
							</apex:pageBlockSectionItem>
							<apex:pageBlockSectionItem >
								<apex:outputLabel value="{!$ObjectType.Contact.Fields.ts2__Experience_Summary__c.Label}" />
								<apex:outputText value="{!Submittal_Candidate_ExpirienceSummary}" />
							</apex:pageBlockSectionItem>
<!--
							<apex:pageBlockSectionItem >
								<apex:outputLabel value="" />
								<apex:outputLink rendered="{!NOT(ISBLANK(ResumeAttachmentId))}" value="{!URLFOR($Action.Attachment.Download, ResumeAttachmentId)}">{!$Label.SubmittalProcessLinkResume}</apex:outputLink>
							</apex:pageBlockSectionItem>
-->
						</apex:pageBlockSection>

						<apex:pageBlockSection title="{!$Label.SubmittalProcessSectionJob}" columns="1">
							<apex:pageBlockSectionItem >
								<apex:outputLabel value="{!$ObjectType.ts2__Job__c.Fields.Name.Label}" />
								<apex:outputText value="{!Submittal_Job_Name}" />
							</apex:pageBlockSectionItem>
							<apex:pageBlockSectionItem >
								<apex:outputLabel value="{!$ObjectType.ts2__Job__c.Fields.ts2__Job_Description__c.Label}" />
								<apex:outputText value="{!Submittal_Job_Description}" escape="false" />
							</apex:pageBlockSectionItem>
						</apex:pageBlockSection>

						<apex:pageBlockSection title="{!$Label.SubmittalProcessSectionComments}" columns="1">
							<apex:inputTextarea value="{!Comments.Body}" rows="10" style="width: 100%" />
						</apex:pageBlockSection>
					</apex:outputPanel>

				</apex:pageBlock>
			</apex:form>
		</apex:outputPanel>

	</apex:define>
	</apex:composition>

</apex:page>