<apex:page standardController="Contact" extensions="ts2.ShowResumeController" action="{!InitResumeAction}" showHeader="false" sidebar="false" >

<body>
	<apex:pagemessages />
	<apex:outputpanel layout="None" rendered="{!ResumeTypePDF}">
		<script type='text/javascript'>
			function embedPDF(){
				var Height = document.documentElement.clientHeight;
				var Pdf = document.getElementById("PdfView");
				if (Pdf != null) {
					Pdf.height = (Height-4)+'px;'
				}
			}
			window.onload = embedPDF;
		</script>
		<apex:outputPanel layout="none" rendered="{!ShowAttachedResume}">
			<object id="PdfView" data="/servlet/servlet.FileDownload?file={!URLENCODE(ResumeAttachmentId)}#view=FitV&scrollbars=1&toolbar=1&statusbar=1&messages=1&navpanes=1" type="application/pdf" width="100%" height="100%">
				<p><apex:outputText value="{!$Label.ResumeViewerPluginNotInstalled1}" />&nbsp;<apex:outputLink value="/servlet/servlet.FileDownload?file={!URLENCODE(ResumeAttachmentId)}"><apex:outputText value="{!$Label.ResumeViewerPluginNotInstalled2}" /></apex:outputLink></p>
			</object>
		</apex:outputPanel>
	</apex:outputpanel>

	<apex:outputpanel layout="None" rendered="{!ResumeTypePNG}">
		<script>
			function RenderImage(Id,countPages,documentURL){
				var ImgItems = document.getElementById(Id);
				ImgItems.innerHTML = '';
				var Width = document.documentElement.clientWidth;
				for (i=1; i<=countPages; i++) {
					var image = document.createElement('img');
					ImgItems.innerHTML += '<a name='+i+'></a>';
					image.setAttribute('src', 'https://{!serverName}/mobile/getimageforced.aspx?document=' + documentURL + '&pageNumber=' + i);
					image.setAttribute('width', (Width > 1600) ? '80%' : '100%');
					ImgItems.appendChild(image);
					ImgItems.innerHTML +='<br>';
				}
			}
		</script>

		<div id="Images" style="text-align: center;"></div>
		<script>RenderImage('Images',{!PageCounter},'{!URLENCODE(FlashDocumentUrl)}')</script>
	</apex:outputpanel>
</body>

</apex:page>