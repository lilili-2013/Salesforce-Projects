<apex:page standardController="ts2__Job__c" extensions="ts2extams.ApplicationStatusController" title="{!$Label.AMS_LABEL_MainPageTitle}{!JobNameList.Name}" action="{!SetSelectedRecords}" showHeader="true" sideBar="{!NOT($Setup.ts2__ApplicantManagementSystem__c.Enable_AMS_Popup__c)}">
	<title>{!$Label.AMS_LABEL_MainPageTitle}{!JobNameList.Name}</title>
	<apex:includeScript value="/soap/ajax/21.0/connection.js" />
	<apex:includeScript value="/soap/ajax/21.0/apex.js" />
	<apex:includeScript value="{!URLFOR($Resource.ts2extams__UIRes, 'res/js/jquery-1.6.min.js')}" />
	<apex:stylesheet value="{!URLFOR($Resource.ts2extams__UIRes, 'res/css/std_style.css')}"/>
	<style>
		.activeTab {background-color: #236FBD; color:white; background-image:none}
		.inactiveTab { background-color: lightgrey; color:black; background-image:none}
		.tabclass {
			background: url("/img/alohaSkin/grid_headerbg.gif") repeat-x scroll 0 bottom #FFFFFF;
			border-width: 0 0 1px 1px;
			color: #000000;
			font-size: 0.9em;
			font-weight: bold;
			padding: 5px 2px 4px 5px;
		}
		.linkCss{
			color:#015BA7;
			text-decoration: none;
			font-size: 1.2em;
		}
		.linkCss: hover {
			text-decoration: underline;
		}
		.tabclassNoPadding {
			background: url("/img/alohaSkin/grid_headerbg.gif") repeat-x scroll 0 bottom #FFFFFF;
			border-width: 0 0 1px 1px;
			color: #000000;
			font-size: 0.9em;
			font-weight: bold;
		}
		.outputtextCSS {display: block; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
		.outputtextCSSFormula {display: block; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
		.outputtextnoCSS{}
		.tabclassShow {padding: 5px 2px 4px 5px;}
		.tabclassover {
			background:#FFFFFF;
			border-width: 0 0 1px 1px;
			color: #0000FF;
			font-color:#0000FF;
			font-size: 0.9em;
			font-weight: bold;
			padding: 5px 2px 4px 5px;
		}
		.imageone {
			background: url("/img/alohaSkin/sortArrows_sprite.png") no-repeat scroll 0px 0px;
			height: 11px;
			margin: 0 5px;
			vertical-align: -2px;
			width: 11px;
		}
		.imagetwo {
			background: url("/img/alohaSkin/sortArrows_sprite.png") no-repeat scroll 0px -16px;
			height: 11px;
			margin: 0 5px;
			vertical-align: -2px;
			width: 11px;
		}
		.nextActive {
			background-image: url("/img/paginationArrows.gif");
			background-position: -17px 1px;
			background-repeat: no-repeat;
			height: 10px;
			width: 9px;
		}
		.prevActive {
			background-image: url("/img/paginationArrows.gif");
			background-position: -10px 1px;
			background-repeat: no-repeat;
			height: 10px;
			margin: 0;
			padding: 0;
			width: 9px;
		}
		.nextOff {
			background-image: url("/img/paginationArrows.gif");
			background-position: -17px -10px;
			background-repeat: no-repeat;
			height: 10px;
			width: 9px;
		}
		.prevOff {
			background-image: url("/img/paginationArrows.gif");
			background-position: -10px -10px;
			background-repeat: no-repeat;
			height: 10px;
			margin: 0;
			padding: 0;
			width: 9px;
		}

		.pageType {
			font-size: 1.5em;
			font-weight: bold;
			padding-left: 1px;
		}
		.pageDescription {
			font-size: 2em;
			font-weight: normal;
			line-height: 1.1em;
			color:#526ab4;
		}
		.ptBreadcrumb {
			height: auto;
			margin-bottom: 0;
			margin-top: 3px;
		}
		.aLink {
			color: #015BA7;
			text-decoration: none;
			font-family: 'Verdana','Geneva',sans-serif;
			font-size: 91.3%
		}
		.b-command-buttons{-moz-padding-start:0px; padding:0; margin:0; margin-top:3px;}
		.b-command-buttons li{ display:inline; margin-left:7px;}
		.b-command-buttons li a{ display:inline-block; line-height:28px; padding-left:27px; text-decoration:none; font-size: 11px; color:#000000;}

		.b-command-buttons li a.m-status{background: url({!URLFOR($Resource.UIRes, 'res/icos/ico_status.png')}) no-repeat left center;}
		.b-command-buttons li a.m-app{background: url({!URLFOR($Resource.UIRes, 'res/icos/ico_applications.png')}) no-repeat left center;}
		.b-command-buttons li a.m-submittals{background: url({!URLFOR($Resource.UIRes, 'res/icos/ico_submitals.png')}) no-repeat left center;}
		.b-command-buttons li a.m-interviews{background: url({!URLFOR($Resource.UIRes, 'res/icos/ico_interview.png')}) no-repeat left center;}
		.b-command-buttons li a.m-offers{background: url({!URLFOR($Resource.UIRes, 'res/icos/ico_offers.png')}) no-repeat left center;}
		.b-command-buttons li a.m-placements{background: url({!URLFOR($Resource.UIRes, 'res/icos/ico_placements.png')}) no-repeat left center;}
		.b-command-buttons li a.m-submittals{background: url({!URLFOR($Resource.UIRes, 'res/icos/ico_submitals.png')}) no-repeat left center;}
		.b-command-buttons li a.m-rejections{background: url({!URLFOR($Resource.UIRes, 'res/icos/ico_injections.png')}) no-repeat left center;}

		.b-command-buttons li a.m-status-disable{background: url({!URLFOR($Resource.UIRes, 'res/icos/ico_status-disable.png')}) no-repeat left center; color:#989797;}
		.b-command-buttons li a.m-app-disable{background: url({!URLFOR($Resource.UIRes, 'res/icos/ico_applications-disable.png')}) no-repeat left center; color:#989797;}
		.b-command-buttons li a.m-submittals-disable{background: url({!URLFOR($Resource.UIRes, 'res/icos/ico_submitals-disable.png')}) no-repeat left center; color:#989797;}
		.b-command-buttons li a.m-interviews-disable{background: url({!URLFOR($Resource.UIRes, 'res/icos/ico_interview-disable.png')}) no-repeat left center; color:#989797;}
		.b-command-buttons li a.m-offers-disable{background: url({!URLFOR($Resource.UIRes, 'res/icos/ico_offers-disable.png')}) no-repeat left center; color:#989797;}
		.b-command-buttons li a.m-placements-disable{background: url({!URLFOR($Resource.UIRes, 'res/icos/ico_placements-disable.png')}) no-repeat left center; color:#989797;}
		.b-command-buttons li a.m-submittals-disable{background: url({!URLFOR($Resource.UIRes, 'res/icos/ico_submitals-disable.png')}) no-repeat left center; color:#989797;}
		.b-command-buttons li a.m-rejections-disable{background: url({!URLFOR($Resource.UIRes, 'res/icos/ico_injections-disable.png')}) no-repeat left center; color:#989797;}

		.b-command-buttons li a:hover{ display:inline-block; color:#000000; text-decoration: underline;}

		a.ats:link, a.ats:visited {
			font-family:verdana, arial, sans-serif;
			line-height:12pt;
			font-size:8pt;
			color:#000000;
		}
		a.ats:hover, a.ats:visited:hover {
			font-family:verdana, arial, sans-serif;
			line-height:12pt;
			font-size:8pt;
			color:#0000ff;
		}
	</style>
<script type="text/javascript" charset="utf-8">
	jQuery.noConflict();
	sforce.connection.sessionId = "{!$Api.Session_ID}";
	function checkAllFields(obj) {
		var tableElement = document.getElementById('ApplicationTable');
		var arr = tableElement.getElementsByTagName('input');
		for (var i = 0 ; i < arr.length; i++) {
			if (arr[i].type == 'checkbox') {
				arr[i].checked = obj.checked;
			}
		}
	}
	var iconShow = {
				AMS_All:"m-status",
				AMS_Application:"m-app",
				AMS_Offer:"m-offers",
				AMS_Interview:"m-interviews",
				AMS_Submittal:"m-submittals",
				AMS_Rejected:"m-rejections",
				AMS_Incomplete:"m-rejections",
				AMS_Match:"m-placements",
				AMS_Non_Match:"m-rejections",
				AMS_ALL_Match:"m-status",
				show: function(type) {
					return (this[type] || "m-placements");
				}
		};

		var iconShowdisabled = {
				AMS_All:"m-status-disable",
				AMS_Application:"m-app-disable",
				AMS_Offer:"m-offers-disable",
				AMS_Interview:"m-interviews-disable",
				AMS_Submittal:"m-submittals-disable",
				AMS_Rejected:"m-rejections-disable",
				AMS_Incomplete:"m-rejections-disable",
				AMS_Match:"m-placements-disable",
				AMS_Non_Match:"m-rejections-disable",
				AMS_ALL_Match:"m-status-disable",
				show: function(type) {
				return (this[type] || "m-placements-disable");
				}
		};
	var functionClick = {
		F_Control__c : true,
		F_Action__c : true,
		F_Communication__c : true,
		show: function(type) {
		return (this[type] || false);
		}
	};

	function MassButtonShow(PageName,PageWidth, PageHeight) {
		var tableElement=document.getElementById('ApplicationTable');
		var records=[];
		var arr = tableElement.getElementsByTagName('input');
		for (var i = 0 ; i<arr.length;i++) {
			if (arr[i].type=='checkbox') {
				if (arr[i].checked && arr[i].id!='main') {
					records.push(arr[i].id);
				}
			}
		}
		if (records.length > 0) {
			var idList = records.join('~');
			var resultItem = new sforce.SObject("ts2__s_ResultItem__c");
			if (resultItem) {
				resultItem.ts2__sel_contact_id_list__c = idList;
				var createRiResult = sforce.connection.create([resultItem]);
				if (createRiResult && createRiResult[0].getBoolean("success")) {
					var resultId = createRiResult[0].id;
					var url = "/apex/{!URLENCODE($Setup.ts2__ApplicantManagementSystem__c.Prefix__c)}"+PageName+"?cId=" + resultId;
					var features = 'directories=no,menubar=no,titlebar=no,toolbar=no,width='+PageWidth+',height='+PageHeight+',scrollbars=1';
					win = window.open(url+'&AMSParams='+encodeURIComponent(document.getElementById('AMSMainPageAMSParams').value)+'&refreshUrl='+encodeURIComponent(top.window.location),'', features);
					win.focus();
				}
			}
		}
		else {
			alert('{!$Label.AMS_ERROR_FormulaItems}');
		}
	}

	function TakeAMSParams (type) {
		var IdElement = document.getElementById('AMSMResultItemId').value;
		var tableElement=document.getElementById('ApplicationTable');
		var records=[];
		var arr = tableElement.getElementsByTagName('input');
		for (var i = 0 ; i<arr.length;i++) {
			if (arr[i].type=='checkbox') {
				if (arr[i].checked && arr[i].id!='main') {
					records.push(arr[i].nextSibling.nextSibling.value);
				}
			}
		}
		var resulid;
		var idList = records.join('~');
		if (IdElement) {
			var recruiterSelectStmt = "SELECT Id, ts2__sel_contact_id_list__c FROM ts2__s_ResultItem__c where Id = '"+document.getElementById('AMSMResultItemId').value+"'";
			var recruiterResult = sforce.connection.query(recruiterSelectStmt);
			var resultItem = new sforce.SObject("ts2__s_ResultItem__c");
			resultItem.id = recruiterResult.getArray('records')[0].Id;
			if (idList) {
				resultItem.ts2__sel_contact_id_list__c = recruiterResult.getArray('records')[0].ts2__sel_contact_id_list__c+'~'+idList;
				var createRiResult = sforce.connection.update([resultItem]);
				if (createRiResult && createRiResult[0].getBoolean("success")) {
					resulid = createRiResult[0].id;
				}
			}
			else {
				resulid = recruiterResult.getArray('records')[0].Id;
			}
		}
		else {
			if (idList) {
				var resultItem = new sforce.SObject("ts2__s_ResultItem__c");
				if (resultItem) {
					resultItem.ts2__sel_contact_id_list__c = idList;
					var createRiResult = sforce.connection.create([resultItem]);
					if (createRiResult && createRiResult[0].getBoolean("success")) {
						resulid = createRiResult[0].id;
					}
				}
			}
		}
		if (resulid) {
			if (type) {
				return encodeURIComponent(document.getElementById('AMSMainPageAMSParams').value + "&ResultItem="+resulid);
			}
			else {
				return "&AMSParams="+encodeURIComponent(document.getElementById('AMSMainPageAMSParams').value + "&ResultItem="+resulid);
			}
		}
		else {
			if (type) {
				return encodeURIComponent(document.getElementById('AMSMainPageAMSParams').value);
			}
			else {
				return "&AMSParams="+encodeURIComponent(document.getElementById('AMSMainPageAMSParams').value);
			}
		}
	}

	function MassButtonShowSeleceted(PageName,PageWidth, PageHeight,resultId) {
		if (resultId != 'noID') {
			var prefix = (PageName.indexOf('ts2__')!=0) ? "{!URLENCODE($Setup.ts2__ApplicantManagementSystem__c.Prefix__c)}" : "";
			var url = "/apex/"+prefix+PageName+"?cId=" + resultId;
			var features = 'directories=no,menubar=no,titlebar=no,toolbar=no,width='+PageWidth+',height='+PageHeight+',scrollbars=1';
			if (PageWidth == 0 && PageHeight == 0) {
				features = 'directories=no,menubar=no,titlebar=no,toolbar=no,width='+screen.width+',height='+screen.height+',scrollbars=1,fullscreen=yes';
			}
			win = window.open(url+'&AMSParams='+encodeURIComponent(document.getElementById('AMSMainPageAMSParams').value)+'&refreshUrl='+encodeURIComponent(top.window.location),'', features);
			win.focus();
		}
		else {
			alert('{!$Label.AMS_ERROR_FormulaItems}');
		}
	}

	function SingleButtonShowSeleceted(PageName,PageWidth, PageHeight,resultId) {
		if (resultId != 'noID') {
			var prefix = (PageName.indexOf('ts2__')!=0) ? "{!URLENCODE($Setup.ts2__ApplicantManagementSystem__c.Prefix__c)}" : "";
			var url = "/apex/"+prefix+PageName+"?cId=" + resultId;
			var features = 'directories=no,menubar=no,titlebar=no,toolbar=no,width='+PageWidth+',height='+PageHeight+',scrollbars=1';
			win = window.open(url+'&AMSParams='+encodeURIComponent(document.getElementById('AMSMainPageAMSParams').value)+'&refreshUrl='+encodeURIComponent(top.window.location),'', features);
			win.focus();
		}
		else {
			alert('Only 1 record can be selected.');
		}
	}
	function testforicon(par, Label) {
		var retPar;
		if (par){
			retPar = iconShow.show(Label);
		}
		else {
			retPar = iconShowdisabled.show(Label);
		}
		return retPar;
	}

	function closeWin(refresh) {
		if (refresh) {
			parent.window.opener = self;
			parent.window.close();
		}
		else {
			self.location = '/{!JobNameList.Id}';
		}
	}

	function ShowHideButtons(type) {
		if (type) {
			jQuery('[id$=ButtonBlock]').hide();
			jQuery('[id$=ButtonPanelShow]').show();
		}
		else {
			jQuery('[id$=ButtonBlock]').show();
			jQuery('[id$=ButtonPanelShow]').hide();
		}
	}
	function showSelected(type, object) {
		object.style.background = (type) ? '#E3F3FF' : '#FFFFFF';
	}
	function checkelement(obj) {
		obj.parentNode.parentNode.style.background = ShowElelment(obj.checked);
	}
	function ShowElelment(type) {
		return (type) ? '#B0E1FA' : '#FFFFFF';
	}
	function getElementsShow(){
		var t = document.getElementById('ApplicationTable');
		return t.getElementsByTagName('tr')[0].getElementsByTagName('td');
	}
	function getElementsHeader(){
		var t = document.getElementById('HeaderTable');
		return t.getElementsByTagName('tr')[0].getElementsByTagName('td');
	}
	function getClientWidth(){
		return document.compatMode=='CSS1Compat' && !window.opera?document.documentElement.clientWidth:document.body.clientWidth;
	}

	function madeTabel() {
		var headerFreeze = <apex:outputtext value="{!IF($Setup.ts2__ApplicantManagementSystem__c.Enable_Header_Freeze__c!=NULL,$Setup.ts2__ApplicantManagementSystem__c.Enable_Header_Freeze__c,false)}"/>;
		if(document.getElementsByClassName == undefined) {
				document.getElementsByClassName = function(cl) {
					var retnode = [];
					var myclass = new RegExp('\\b'+cl+'\\b');
					var elem = this.getElementsByTagName('*');
					for (var i = 0; i < elem.length; i++) {
						var classes = elem[i].className;
						if (myclass.test(classes)) {
							retnode.push(elem[i]);
						}
					}
				return retnode;
				}
			};
		if (headerFreeze) {
			var arrayRowsShow = getElementsShow();
			var arrayRowsHeader = getElementsHeader();
			var tablesHeight =document.getElementById('ApplicationTable').offsetHeight;
			var divHeight = document.getElementById('ShowAppDiv').offsetHeight;
			for (var i=0; i<arrayRowsShow.length; i++) {
				if (arrayRowsShow[i].offsetWidth != arrayRowsHeader[i].offsetWidth) {
					if (arrayRowsShow[i].offsetWidth > arrayRowsHeader[i].offsetWidth) {
						var width = arrayRowsShow[i].offsetWidth;
						var WidthScroll = 17+width;
						arrayRowsShow[i].style.width = width+'px';
						if (jQuery.browser.msie && jQuery.browser.version == 7) {
							arrayRowsHeader[i].style.width = width+'px';
						}
						else{
							arrayRowsHeader[i].style.width =(i==(arrayRowsShow.length-1)) ? ((tablesHeight > divHeight)? WidthScroll+'px' :  width+'px' ) : width+'px';
						}
					}
					else {
						var width = arrayRowsHeader[i].offsetWidth;
						var WidthScroll = 17+width;
						if (jQuery.browser.msie && jQuery.browser.version == 7) {
							arrayRowsHeader[i].style.width = width+'px';
						}
						else{
							arrayRowsHeader[i].style.width = (i==(arrayRowsShow.length-1)) ? ((tablesHeight > divHeight)? WidthScroll+'px' :  width+'px' ) : width+'px';
						}
						arrayRowsShow[i].style.width  = width+'px';
					}
				}
			}
			if (jQuery.browser.msie && jQuery.browser.version == 7) {
			}
			else {
				if ((document.getElementById('ApplicationTable').offsetHeight < document.getElementById('ShowAppDiv').offsetHeight) && (tablesHeight > divHeight)) {
					if (arrayRowsHeader[arrayRowsShow.length-1].offsetWidth > arrayRowsShow[arrayRowsShow.length-1].offsetWidth) {
					var widthE = arrayRowsShow[arrayRowsShow.length-1].offsetWidth;
						arrayRowsShow[arrayRowsShow.length-1] .style.width = widthE + 'px';
						arrayRowsHeader[arrayRowsShow.length-1].style.width = widthE + 'px';
					}
				}
			}
		}
		
		var classElements = document.getElementsByClassName('outputtextCSSFormula');
		var arrElements = new Array();
		for (var i=0; i<classElements.length; i++) {
			var aElements = classElements[i].getElementsByTagName('a');
			var imgSpanElements = classElements[i].getElementsByTagName('img');
			if (aElements) {
				if (aElements.length > 0) {
					var imgElements = aElements[0].getElementsByTagName('img');
					if (imgElements) {
						if (imgElements.length > 0) {
							arrElements.push(classElements[i]);
						}
					}
				}
			}
			if (imgSpanElements) {
				if (imgSpanElements.length > 0) {
					arrElements.push(classElements[i]);
				}
			}
		}
		for (var i=0; i<arrElements.length; i++) {
			var reg = new RegExp('(\\s|^)outputtextCSSFormula(\\s|$)');
			arrElements[i].className = arrElements[i].className.replace(reg,'outputtextnoCSS');
		}
	}
	
	jQuery(document).ready(function() {
		BeginValue();
		SaveResultSetAction('{!$ObjectType.ts2__Application__c.FieldSets.ts2extams__ApplicationAMSDisplay}');
		madeTabel();
	});

	function MassButtonShowSpeedReview(PageName,PageWidth, PageHeight,resultId) {
		if (resultId != 'noID') {
			var prefix = (PageName.indexOf('ts2__')!=0) ? "{!URLENCODE($Setup.ts2__ApplicantManagementSystem__c.Prefix__c)}" : "";
			var url = "/apex/"+prefix+PageName+"?cId=" + resultId;
			var features = 'directories=no,menubar=no,titlebar=no,toolbar=no,width='+PageWidth+',height='+PageHeight+',scrollbars=1';
			if (PageWidth == 0 && PageHeight == 0) {
				features = 'directories=no,menubar=no,titlebar=no,toolbar=no,width='+screen.width+',height='+screen.height+',scrollbars=1,fullscreen=yes';
			}
			win = window.open(url+'&AMSParams='+encodeURIComponent(document.getElementById('AMSMainPageAMSParams').value)+'&refreshUrl='+encodeURIComponent(top.window.location),'', features);
			win.focus();
		} else {
			var tableElement = document.getElementById('ApplicationTable');
			var recordIds = [];
			var arr = tableElement.getElementsByTagName('input');
			for (var i = 0 ; i<arr.length; i++) {
				if (arr[i].type=='hidden') {
					if (arr[i].value) {
						recordIds.push(arr[i].value);
					}
				}
			}
			if (recordIds.length > 0) {
				var prefix = (PageName.indexOf('ts2__')!=0) ? "{!URLENCODE($Setup.ts2__ApplicantManagementSystem__c.Prefix__c)}" : "";
				var url = "/apex/"+prefix+PageName+"?cId=" + resultId;
				var features = 'directories=no,menubar=no,titlebar=no,toolbar=no,width='+PageWidth+',height='+PageHeight+',scrollbars=1';
				if (PageWidth == 0 && PageHeight == 0) {
					features = 'directories=no,menubar=no,titlebar=no,toolbar=no,width='+screen.width+',height='+screen.height+',scrollbars=1,fullscreen=yes';
				}
				win = window.open(url+'&AMSParams='+encodeURIComponent(document.getElementById('AMSMainPageAMSParams').value)+'&refreshUrl='+encodeURIComponent(top.window.location),'', features);
				win.focus();
			}
			else {
				alert('There are no records on this page.');
			}
		}
	}

</script>
<body style="background:#F8F8F8">

	<apex:sectionHeader title="{!$ObjectType.ts2__Job__c.Label}"  subtitle="{!JobNameList.Name}" />
	<apex:outputtext rendered="{!NOT($Setup.ts2__ApplicantManagementSystem__c.Enable_AMS_Popup__c)}" >&nbsp;&laquo;&nbsp;</apex:outputtext><apex:outputLink style="font-family: 'Verdana', 'Geneva', sans-serif; font-size: 91.3%;color: #015BA7;text-decoration: none;" value="/{!JobNameList.Id}" id="theLink" rendered="{!NOT($Setup.ts2__ApplicantManagementSystem__c.Enable_AMS_Popup__c)}">Back to Job Order</apex:outputLink>

	<apex:outputPanel rendered="{!NOT(emptyPickList) && NOT($ObjectType.ts2extams__AMS_Filter__c.Createable)}">
		<br/>
		<apex:pageMessage summary="{!$Label.AMS_LABEL_NoFilterAvailable}" severity="info" strength="2" />
	</apex:outputPanel>

	<apex:outputPanel rendered="{!emptyPickList || $ObjectType.ts2extams__AMS_Filter__c.Createable}">
	<apex:form id="frmFieldSet">
		<apex:actionFunction action="{!SaveFieldSet}" name="SaveResultSetAction" rerender="TableBlockShow,PaginationPanelRerend,PaginationPanel,ListRecordsOnPage" oncomplete="CombackValueValueOrder('{!SelectOrderRecord}','{!SelectOrderValue}');selectvalue('{!CurrentPage}');madeTabel()">
			<apex:param assignTo="{!FieldSet}" name="var1" value=""/>
		</apex:actionFunction>
	</apex:form>
		
	<apex:form id="Frm">
		<apex:actionFunction action="{!showRecordsForMatch}" name="showRecordForMatchJavascript" oncomplete="CombackValue();madeTabel();selectvalue('{!CurrentPage}');" immediate="true" rerender="TableBlockShow,PaginationPanelRerend,PaginationPanel,ListRecordsOnPage">
			<apex:param name="upParam" assignTo="{!Match}" value="" />
		</apex:actionFunction>

		<apex:actionFunction action="{!makeIdResultItem}" name="makeResultItem" oncomplete="MassButtonShowSeleceted('{!PageName}','{!PageWidth}','{!PageHeight}','{!IdResultItem}');ShowHideButtons(false);">
			<apex:param name="PageName" assignTo="{!PageName}" value="" />
			<apex:param name="PageWidth" assignTo="{!PageWidth}" value="" />
			<apex:param name="PageHeight" assignTo="{!PageHeight}" value="" />
		</apex:actionFunction>
		<apex:actionFunction action="{!makeIdResultItem}" name="showSpeedReview" oncomplete="MassButtonShowSpeedReview('{!PageName}','{!PageWidth}','{!PageHeight}','{!IdResultItem}');ShowHideButtons(false);">
			<apex:param name="PageName" assignTo="{!PageName}" value="" />
			<apex:param name="PageWidth" assignTo="{!PageWidth}" value="" />
			<apex:param name="PageHeight" assignTo="{!PageHeight}" value="" />
		</apex:actionFunction>
		<apex:actionFunction action="{!makeIdResultItemSingle}" name="makeResultItemSingle" oncomplete="SingleButtonShowSeleceted('{!PageName}','{!PageWidth}','{!PageHeight}','{!IdResultItem}');ShowHideButtons(false);">
			<apex:param name="PageName" assignTo="{!PageName}" value="" />
			<apex:param name="PageWidth" assignTo="{!PageWidth}" value="" />
			<apex:param name="PageHeight" assignTo="{!PageHeight}" value="" />
		</apex:actionFunction>
		<apex:actionFunction action="{!showRecordsForStage}" name="showRecordForStageJavascript" oncomplete="CombackValue();madeTabel();selectvalue('{!CurrentPage}');" immediate="true" rerender="TableBlockShow,PaginationPanelRerend,PaginationPanel,ListRecordsOnPage">
			<apex:param name="upParam" assignTo="{!SelectStage}" value="" /> 
		</apex:actionFunction>
		<apex:actionFunction action="{!showRecordsForStageOrder}" name="showRecordForOrderStageJavascript" oncomplete="CombackValueValueOrder('{!SelectOrderRecord}','{!SelectOrderValue}');madeTabel();"  rerender="TableBlockShow,PaginationPanelRerend,ListRecordsOnPage,PaginationPanel">
			<apex:param name="oneParam" assignTo="{!SelectStage}" value="" />
			<apex:param name="twoParam" assignTo="{!SelectOrderRecord}" value="" />
			<apex:param name="threeParam" assignTo="{!SelectOrderValue}" value="" />
		</apex:actionFunction>
		<apex:actionFunction action="{!RecordMoveNext}" name="MoveRecordNextInJS" oncomplete="CombackValueValueOrder('{!SelectOrderRecord}','{!SelectOrderValue}');selectvalue('{!CurrentPage}');madeTabel()" rerender="TableBlockShow,PaginationPanelRerend,ListRecordsOnPage,PaginationPanel,ListRecordsOnPage">
			<apex:param name="oneParam" assignTo="{!PageMoveValue}" value="" />
		</apex:actionFunction>
		<apex:actionFunction action="{!RecordMoveBack}" name="MoveRecordBackInJS" oncomplete="CombackValueValueOrder('{!SelectOrderRecord}','{!SelectOrderValue}');selectvalue('{!CurrentPage}');madeTabel();" rerender="TableBlockShow,PaginationPanelRerend,ListRecordsOnPage,PaginationPanel,ListRecordsOnPage">
			<apex:param name="oneParam" assignTo="{!PageMoveValue}" value="" />
		</apex:actionFunction>
		<apex:actionFunction action="{!SelectPageMove}" name="MoveSelectRecordInJS" oncomplete="CombackValueValueOrder('{!SelectOrderRecord}','{!SelectOrderValue}');madeTabel();" rerender="TableBlockShow,PaginationPanelRerend,ListRecordsOnPage,PaginationPanel,ListRecordsOnPage">
			<apex:param name="oneParam" assignTo="{!PageMoveValue}" value="" />
		</apex:actionFunction>
		<apex:actionFunction action="{!DelApplication}" name="DelRecordInJS" oncomplete="CombackValueValueOrder('{!SelectOrderRecord}','{!SelectOrderValue}');madeTabel();" rerender="TableBlockShow,PaginationPanelRerend,ListRecordsOnPage,PaginationPanel,ListRecordsOnPage">
			<apex:param name="oneParam" assignTo="{!ApplicationId}" value="" />
		</apex:actionFunction>
		<apex:actionFunction action="{!ShowRecordsOnPage}" name="SelectrecordOnPageJS" oncomplete="CombackValueValueOrder('{!SelectOrderRecord}','{!SelectOrderValue}');selectvalue('{!CurrentPage}');madeTabel();" rerender="TableBlockShow,PaginationPanelRerend,ListRecordsOnPage,PaginationPanel,ListRecordsOnPage">
			<apex:param name="oneParam1" assignTo="{!RecOnPage}" value="" />
			<apex:param name="oneParam2" assignTo="{!SelectStage}" value="" />
		</apex:actionFunction>
<!--
<div style="width:100%; margin-left:20px; margin-bottom:15px; float:left">
<span style="float:left;"><apex:image value="{!URLFOR($Resource.UIRes, 'res/img/ImageServer.png')}"></apex:image></span>
<div style="float:left; margin-top:7px;" ><h1 class="pageType">{!$Label.AMS_LABEL_MainPageTitle2}</h1><br/>
<h2 class="pageDescription">{!JobNameList.Name}</h2><br/></div>
</div> 
-->
		<apex:outputPanel layout="block" style="margin:10px">
			<apex:outputpanel style="float: left;width:50%;">
				<apex:outputText value="{!$Label.AMS_LABEL_Filter} :" style="font-weight:bold;margin-right:10px;margin-left:10px"/>
				<apex:actionRegion immediate="true">
					<apex:selectList id="filterlistId" value="{!FilterId}" multiselect="false" size="1">
						<apex:selectOptions value="{!FilterList}"/>
						<apex:actionSupport event="onchange" action="{!FilterApply}" onsubmit="BeginValue();" rerender="ActionBlock,TableBlockShow,PaginationPanelRerend,PaginationPanel,ListRecordsOnPage" oncomplete="CombackValue();madeTabel();selectvalue('{!CurrentPage}');"/>
					</apex:selectList>
				</apex:actionRegion>
				<apex:outputPanel style="margin-left:10px" id="ActionBlock">
					<apex:outputPanel rendered="{!NOT(ISBLANK(FilterId)) && ($ObjectType.ts2extams__AMS_Filter__c.Updateable || allowAccess)}"><a class="linkCss" href="javascript:window.top.location = '/{!JSENCODE(FilterId)}/e?retURL='+encodeURIComponent(top.window.location)">{!$Label.AMS_BTN_Edit}</a> <apex:outputText rendered="{!$ObjectType.ts2extams__AMS_Filter__c.Deletable || $ObjectType.ts2extams__AMS_Filter__c.Createable || allowAccess}">&nbsp;|&nbsp;</apex:outputText></apex:outputPanel>
					<apex:outputPanel rendered="{!NOT(ISBLANK(FilterId)) && ($ObjectType.ts2extams__AMS_Filter__c.Deletable || allowAccess)}"><apex:commandLink value="{!$Label.AMS_BTN_Delete}" styleClass="linkCss" onclick="if (confirm('{!$Label.AMS_LABEL_DeleteQuestion}')) {return true} else {return false;}" action="{!DeleteFilter}" /> <apex:outputText rendered="{!$ObjectType.ts2extams__AMS_Filter__c.Createable}">&nbsp;|&nbsp;</apex:outputText></apex:outputPanel>
					<apex:outputPanel rendered="{!$ObjectType.ts2extams__AMS_Filter__c.Createable}"><a class="linkCss" href="javascript:window.top.location = '/apex/{!JSENCODE($Setup.ts2__ApplicantManagementSystem__c.Prefix__c)}AMSFilter?retURL='+encodeURIComponent(top.window.location);">{!$Label.AMS_LABEL_New_Filter}</a></apex:outputPanel>
				</apex:outputPanel>
			</apex:outputpanel>
		</apex:outputPanel>
		<apex:pageBlock >
		<apex:pageBlockButtons id="pbbsMainButtons" style="text-align: right;" location="bottom">
			<span id="pbsMainButtons_spinner" class="spinner_indicator">&nbsp;</span>
			<apex:commandButton value="{!$Label.AMS_BTN_Close}" title="{!$Label.AMS_BTN_Close}" onclick="closeWin({!IF($Setup.ts2__ApplicantManagementSystem__c.Enable_AMS_Popup__c,true,false)});return(false);" />
		</apex:pageBlockButtons> 
		<table style=" width:100%">
			<tr style="height:50px;">
				<td style="width:50%; text-align:left" valign="top" >
				<apex:outputPanel id="ButtonPanelShow"  style="width:100%; text-align:center; margin-top:10px; margin-left:50px; display:none"  layout="block">  <div style="width: 90px; top: 100px; "><b><apex:outputtext value="Loading..."/></b><apex:image url="/img/loading.gif"/></div></apex:outputPanel>
				<apex:outputPanel id="ButtonBlock">
					<apex:outputPanel rendered="{!$Setup.ts2__ApplicantManagementSystem__c.Snooze_Button__c}" ><a href="javascript:ShowHideButtons(true);makeResultItem('AMSSnoozeCandidates',450,360);" target="_self"><apex:image id="theImageSnooze" value="{!URLFOR($Resource.ts2extams__UIRes, 'res/icos/snooze.png')}" /></a> &nbsp;</apex:outputPanel>
					<apex:outputPanel rendered="{!$Setup.ts2__ApplicantManagementSystem__c.Reject_Button__c}" ><a href="javascript:ShowHideButtons(true);makeResultItem('AMSRejectCandidates',720,535);" target="_self"><apex:image id="theImageReject" value="{!URLFOR($Resource.ts2extams__UIRes, 'res/icos/reject.png')}" /></a> &nbsp;</apex:outputPanel>
					<apex:outputPanel rendered="{!$Setup.ts2__ApplicantManagementSystem__c.Move_Button__c}" ><a href="javascript:ShowHideButtons(true);makeResultItem('AMSMoveCandidates',450,560);" title="Move"><apex:image value="{!URLFOR($Resource.ts2extams__UIRes, 'res/icos/move.png')}" /></a> &nbsp; </apex:outputPanel>
					<apex:outputPanel rendered="{!$Setup.ts2__ApplicantManagementSystem__c.Add_Skills_Button__c}" ><a href="javascript:ShowHideButtons(true);makeResultItem('AMSAddSkills',460,460);" title="Add Skills"><apex:image value="{!URLFOR($Resource.ts2extams__UIRes, 'res/icos/ico-addskills.png')}" /></a> &nbsp; </apex:outputPanel>
					<apex:outputPanel rendered="{!$Setup.ts2__ApplicantManagementSystem__c.Add_Tags_Button__c}" ><a href="javascript:ShowHideButtons(true);makeResultItem('AMSAddTags',520,460);" title="Add Tags"><apex:image value="{!URLFOR($Resource.ts2extams__UIRes, 'res/icos/tags.png')}" /></a> &nbsp; </apex:outputPanel>
					<apex:outputPanel rendered="{!$Setup.ts2__ApplicantManagementSystem__c.Review_Button__c}" ><a href="javascript:ShowHideButtons(true); makeResultItem('AMSReviewCandidates',830,660);" title="Review"><apex:image value="{!URLFOR($Resource.ts2extams__UIRes, 'res/icos/review.png')}" /></a> &nbsp; </apex:outputPanel>
					<apex:outputPanel rendered="{!$Setup.ts2__ApplicantManagementSystem__c.Apply_to_Job_Button__c}" ><a href="javascript:ShowHideButtons(true);makeResultItem('AMSApplyToJob',460,380);" title="Apply to Job"><apex:image value="{!URLFOR($Resource.ts2extams__UIRes, 'res/icos/applytojob.png')}" /></a> &nbsp; </apex:outputPanel>
					<apex:outputPanel rendered="{!$Setup.ts2__ApplicantManagementSystem__c.Add_to_List_Button__c}" ><a href="javascript:ShowHideButtons(true);makeResultItem('AMSAddToList',520,460);" title="Add to List"><apex:image value="{!URLFOR($Resource.ts2extams__UIRes, 'res/icos/list.png')}" /></a> &nbsp; </apex:outputPanel>
					<apex:outputPanel rendered="{!$Setup.ts2__ApplicantManagementSystem__c.Rollover_Button__c}" ><a href="javascript:ShowHideButtons(true);makeResultItem('AMSRolloverCandidates',480,420);" title="Rollover"><apex:image value="{!URLFOR($Resource.ts2extams__UIRes, 'res/icos/rollover.png')}" /></a>&nbsp;</apex:outputPanel>&nbsp;
					<apex:outputPanel rendered="{!$Setup.ts2__JobsciencePermissions__c.ts2__Allow_Revert_Stage__c}" ><a href="javascript:ShowHideButtons(true);makeResultItemSingle('AMSRevertStage',450,460);" title="Revert Stage"><apex:image value="{!URLFOR($Resource.ts2extams__UIRes, 'res/icos/revert_stage.png')}" /></a>&nbsp;</apex:outputPanel>&nbsp;
					<apex:outputPanel rendered="{!$Setup.ts2__ApplicantManagementSystem__c.Email_Button__c}" ><a href="javascript:ShowHideButtons(true);makeResultItem('ts2__SendResumeApplication',600,480);" title="Email"><apex:image value="{!URLFOR($Resource.ts2extams__UIRes, 'res/icos/email.png')}" /></a>&nbsp;</apex:outputPanel>
					<apex:outputPanel id="SpeedReviewPanel" rendered="{!$Setup.ts2__ApplicantManagementSystem__c.Enable_Speed_Review__c}" ><a href="javascript:ShowHideButtons(true);showSpeedReview('AMSSpeedReview',0,0);" title="Speed review"><apex:image value="{!URLFOR($Resource.ts2extams__UIRes, 'res/icos/speed_review.png')}"/></a>&nbsp;</apex:outputPanel>
				</apex:outputPanel>
				</td>
				<td style="width:50%; text-align:right">
					<apex:outputText rendered="{!NOT(MatchMode)}">
						<ul class="b-command-buttons" id="AMS_Right_Menu">
							<li><a href="javascript:void(0);" id="AMS_All" onclick="showRecForStage('All')" class="{!if((SelectStage == 'All'),'m-status','m-status-disable')}">Highest Status</a></li>
							<apex:repeat value="{!ListStageLabels}" var="buttonValue">
								<li>
									<script type="text/javascript">
										document.write("<a href='javascript:void(0);' id='AMS_{!JSENCODE(buttonValue)}' onclick='showRecForStage(\"{!JSENCODE(buttonValue)}\")' class='");
										document.write(testforicon({!if((SelectStage == buttonValue),true,false)},'AMS_{!JSENCODE(buttonValue)}'));
										document.write("'>{!JSENCODE(buttonValue)}</a>");
									</script>
								</li>
							</apex:repeat>
							<apex:outputtext rendered="{!NOT(ISBLANK($Setup.ts2__ApplicantManagementSystem__c.Hidden_Application_Statuses__c))}"><li ><a href="javascript:void(0);" id="AMS_Incomplete" onclick="showRecForStage('Incomplete')" class="{!if((SelectStage == 'Incomplete'),'m-rejections','m-rejections-disable')}">{!$Label.AMS_Imcomplete_View}</a></li></apex:outputtext>
							<li><a href="javascript:void(0);" id="AMS_Rejected"  onclick="showRecForStage('Rejected')" class="{!if((SelectStage == 'Rejected'),'m-rejections','m-rejections-disable')}">Rejection</a></li>
						</ul>
					</apex:outputText>
					<apex:outputText rendered="{!MatchMode}">
						<ul class="b-command-buttons" id="AMS_Right_MenuMatch">
							<li><a href="javascript:void(0);" id="AMS_ALL_Match" onclick="showRecForStageMatch('AMS_ALL_Match', 'All')" class="{!if((Match == 'All'),'m-status','m-status-disable')}">{!$Label.AMS_LABEL_All}</a></li>
							<li><a href="javascript:void(0);" id="AMS_Match" onclick="showRecForStageMatch('AMS_Match', 'true')" class="{!if((Match == 'true'),'m-placements','m-placements-disable')}">{!$Label.AMS_LABEL_Match}</a></li>
							<li><a href="javascript:void(0);" id="AMS_Non_Match" onclick="showRecForStageMatch('AMS_Non_Match', 'false')" class="{!if((Match == 'false'),'m-rejections','m-rejections-disable')}">{!$Label.AMS_LABEL_NonMatch}</a></li>
						</ul>
					</apex:outputText>
				</td>
			</tr>
		</table>
		<br/>
		<apex:outputPanel layout="block" rendered="{!if(($ObjectType.ts2__Application__c.FieldSets.ts2extams__ApplicationAMSDisplay.size=0),true,false)}">
			<apex:pageMessage summary="{!$Label.AMS_ERROR_MainPageFieldSet}" severity="warning" strength="2" />
		</apex:outputPanel>
		<apex:outputPanel layout="block" style="height:610px" rendered="{!if(($ObjectType.ts2__Application__c.FieldSets.ts2extams__ApplicationAMSDisplay.size>0),true,false)}">
		<apex:outputPanel id="thePanelShow" style="width:100%; display:none; padding-top:250px"  layout="block">  <div style="width: 90px; top: 100px; margin-left:45%;"><b><apex:outputtext value="Loading..."/></b><apex:image url="/img/loading.gif"/></div></apex:outputPanel>
			<apex:outputPanel id="TableBlockShow" style="display:none">
				<input type="hidden" id="NowStageAMSMainPage" value="{!SelectStage}"/>
				<input type="hidden" id="OrderValueAMSMainPage" value="{!SelectOrderRecord}"/>
				<input type="hidden" id="OrderDESCASCAMSMainPage" value="{!SelectOrderValue}"/>
				<input type="hidden" id="RecordsOnPageAMSMainPage" value="{!RecOnPage}"/>
				<input type="hidden" id="NowPageAMSMainPage" value="{!CurrentPage}"/>
				<input type="hidden" id="AMSMainPageAMSParams" value="{!ParamsOnPage}"/>
				<input type="hidden" id="AMSMResultItemId" value="{!IdresultItemOnPage}"/>
				<apex:outputPanel rendered="{!$Setup.ts2__ApplicantManagementSystem__c.Enable_Header_Freeze__c}">
					<div id="mainDivForshow" style="height:550px; margin:0 auto; width:100%;">
						<div id = 'HeaderDiv' style="overflow:hidden">
							<table id ="HeaderTable" style="border: 1px solid #D4DADC;border-collapse: collapse;table-layout: fixed; width:100%;">
								<tr id='maintr'>
									<td class="tabclassNoPadding" style="border: 1px solid #D4DADC; width:30px; ">
										<input type="checkbox" onclick="checkAllFields(this);" id="main"/>
									</td>
									<td class="tabclass" style="border: 1px solid #D4DADC; width:60px;">
										<apex:outputText styleClass="outputtextCSS" value="{!$Label.AMS_LABEL_Action}"/>
									</td>
									<apex:repeat value="{!$ObjectType.ts2__Application__c.FieldSets.ts2extams__ApplicationAMSDisplay}" var="f">
									<td id="{!$ObjectType.ts2__Application__c.fields[f].name}" onmouseover="this.className='tabclassover'"  onmouseout="this.className='tabclass'" class="tabclass" style="border: 1px solid #D4DADC; cursor:pointer;" onclick="OrderRecApp(this,'{!$ObjectType.ts2__Application__c.fields[f].name}',{!$ObjectType.ts2__Application__c.fields[f].Calculated})"  >
										<apex:outputText styleClass="outputtextCSS" escape="false" value="{!$ObjectType.ts2__Application__c.fields[f].label}"/>
										<img class="imageone" id="{!$ObjectType.ts2__Application__c.fields[f].name}DESC" style="display:{!IF(f == SelectOrderRecord && SelectOrderValue == 'DESC','inline-block','none')}" src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="/>
										<img class="imagetwo" id="{!$ObjectType.ts2__Application__c.fields[f].name}ASC" style="display:{!IF(f == SelectOrderRecord && SelectOrderValue == 'ASC','inline-block','none')}" src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="/>
									</td>
									</apex:repeat>
									<td class="tabclass" style="width:20px"> <span></span></td>
								</tr>
							</table>
						</div>
						<div id ='ShowAppDiv' style="overflow:auto; height:500px;overflow-x: hidden; background:#ffffff;">
							<table id="ApplicationTable" style="border: 1px solid #D4DADC;border-collapse: collapse;table-layout: fixed; width:100%;">
							<apex:repeat id="AppListOnPage" value="{!ApplicationListOnPage}" var="ApplicationRec">
								<tr onmouseover="showSelected(true,this)" onmouseout="showSelected(false,this)">
									<td id="AppId2" style="width:30px;border-bottom: 1px solid #D4DADC;">
											<apex:inputCheckbox value="{!ApplicationRec.selected}"/>
											<input id="AppId" type="hidden" value="{!ApplicationRec.App.Id}"/>
									</td>
									<td style="width:30px;border-bottom: 1px solid #D4DADC; width:60px; padding: 5px 2px 4px 5px;">
											<apex:commandLink action="{!EditLinkClick}" value="{!$Label.AMS_LABEL_Edit}">
												<apex:param name="Param1" assignTo="{!ApplicationId}" value="{!ApplicationRec.App.id}" />
												<apex:param name="Param2" assignTo="{!RetUrlForLink}" value="e?retURL=%2F/apex/AMSMainPage?" />
											</apex:commandLink>
											&nbsp;|&nbsp;
											<apex:commandLink rendered="{!$ObjectType.ts2__Application__c.Deletable}" onclick="ApplicationId('{!ApplicationRec.App.id}');"  value="{!$Label.AMS_LABEL_Del}" oncomplete="CombackValueValueOrder('{!SelectOrderRecord}','{!SelectOrderValue}');madeTabel();"  rerender="TableBlockShow,PaginationPanelRerend,ListRecordsOnPage,PaginationPanel,ListRecordsOnPage">
												<apex:param name="oneParam" assignTo="{!ApplicationId}" value="{!ApplicationRec.App.id}" />
											</apex:commandLink>
									</td>
									<apex:repeat value="{!$ObjectType.ts2__Application__c.FieldSets.ts2extams__ApplicationAMSDisplay}" var="f">
									<td style="border-bottom: 1px solid #D4DADC; padding: 5px 2px 4px 5px;" >
										<apex:outputField styleClass="outputtextCSS" value="{!ApplicationRec.App[f]}" rendered="{!if(($ObjectType.ts2__Application__c.fields[f].Calculated && $ObjectType.ts2__Application__c.fields[f].Accessible ),true,false)}"/>
										<!-- <apex:outputText styleClass="outputtextCSSFormula" escape="false" value="{!ApplicationRec.App[f]}" rendered="{!if(($ObjectType.ts2__Application__c.fields[f].Calculated && $ObjectType.ts2__Application__c.fields[f].Accessible ),true,false)}"/> -->
										<apex:outputField styleClass="outputtextCSS" value="{!ApplicationRec.App[f]}" rendered="{!if((NOT($ObjectType.ts2__Application__c.fields[f].Calculated) && $ObjectType.ts2__Application__c.fields[f].Accessible && f != 'Name'),true,false)}" />
										<apex:commandLink styleClass="outputtextCSS" action="{!ApplicationLinkClick}" rendered="{!NOT($ObjectType.ts2__Application__c.fields[f].Calculated) && $ObjectType.ts2__Application__c.fields[f].Accessible && f = 'Name'}" value="{!ApplicationRec.App[f]}" >
											<apex:param name="Param1" assignTo="{!ApplicationId}" value="{!ApplicationRec.App.id}" />
										</apex:commandLink>
									</td>
									</apex:repeat>
									<td style="width:10px; border-bottom: 1px solid #D4DADC; padding: 5px 2px 4px 5px;"> <span></span></td>
								</tr>
							</apex:repeat>
							</table>
						</div>
					</div>
				</apex:outputPanel>
				<apex:outputPanel rendered="{!NOT($Setup.ts2__ApplicantManagementSystem__c.Enable_Header_Freeze__c)}" >
					<div id="mainDivForshow" style="height:550px; width:100%; overflow: auto; background:#ffffff;"  layout="block">
						<table id ="ApplicationTable" style=" width:100%;border: 1px solid #D4DADC;border-collapse: collapse; ">
								<tr id='maintr'>
									<td class="tabclassNoPadding" style="border: 1px solid #D4DADC; width:30px; ">
										<input type="checkbox" onclick="checkAllFields(this);" id="main"/>
									</td>
									<td class="tabclass" style="border: 1px solid #D4DADC; width:60px;">
										<apex:outputText styleClass="outputtextCSS" value="{!$Label.AMS_LABEL_Action}"/>
									</td>
									<apex:repeat value="{!$ObjectType.ts2__Application__c.FieldSets.ts2extams__ApplicationAMSDisplay}" var="f">
									<td id="{!$ObjectType.ts2__Application__c.fields[f].name}" onmouseover="this.className='tabclassover'"  onmouseout="this.className='tabclass'" class="tabclass" style="border: 1px solid #D4DADC; cursor:pointer;" onclick="OrderRecApp(this,'{!$ObjectType.ts2__Application__c.fields[f].name}',{!$ObjectType.ts2__Application__c.fields[f].Calculated})"  >
										<apex:outputText styleClass="outputtextCSS" escape="false" value="{!$ObjectType.ts2__Application__c.fields[f].label}"/>
										<img class="imageone" id="{!$ObjectType.ts2__Application__c.fields[f].name}DESC" style="display:{!IF(f == SelectOrderRecord && SelectOrderValue == 'DESC','inline-block','none')}" src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="/>
										<img class="imagetwo" id="{!$ObjectType.ts2__Application__c.fields[f].name}ASC" style="display:{!IF(f == SelectOrderRecord && SelectOrderValue == 'ASC','inline-block','none')}" src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="/>
									</td>
									</apex:repeat>
								</tr>
								<apex:repeat value="{!ApplicationListOnPage}" var="ApplicationRec">
									<tr onmouseover="showSelected(true,this)" onmouseout="showSelected(false,this)">
										<td style="width:30px; border-bottom: 1px solid #D4DADC;">
												<apex:inputCheckbox value="{!ApplicationRec.selected}"/>
												<input type="hidden" value="{!ApplicationRec.App.Id}"/>
										</td>
										<td style="width:30px;border-bottom: 1px solid #D4DADC; width:60px; padding: 5px 2px 4px 5px;">
												<apex:commandLink action="{!EditLinkClick}" value="{!$Label.AMS_LABEL_Edit}">
													<apex:param name="Param1" assignTo="{!ApplicationId}" value="{!ApplicationRec.App.id}" />
													<apex:param name="Param2" assignTo="{!RetUrlForLink}" value="e?retURL=%2F/apex/AMSMainPage?" />
												</apex:commandLink>
												&nbsp;|&nbsp;
												<apex:commandLink rendered="{!$ObjectType.ts2__Application__c.Deletable}" onclick="ApplicationId('{!ApplicationRec.App.id}');"  value="{!$Label.AMS_LABEL_Del}" oncomplete="CombackValueValueOrder('{!SelectOrderRecord}','{!SelectOrderValue}');madeTabel();"  rerender="TableBlockShow,PaginationPanelRerend,ListRecordsOnPage,PaginationPanel,ListRecordsOnPage">
													<apex:param name="oneParam" assignTo="{!ApplicationId}" value="{!ApplicationRec.App.id}" />
												</apex:commandLink>
										</td>
										<apex:repeat value="{!$ObjectType.ts2__Application__c.FieldSets.ts2extams__ApplicationAMSDisplay}" var="f">
										<td style="border-bottom: 1px solid #D4DADC; padding: 5px 2px 4px 5px;" >
											<apex:outputField styleClass="outputtextCSS" value="{!ApplicationRec.App[f]}" rendered="{!if(($ObjectType.ts2__Application__c.fields[f].Calculated && $ObjectType.ts2__Application__c.fields[f].Accessible ),true,false)}"/>
											<!-- <apex:outputText styleClass="outputtextCSSFormula" escape="false" value="{!ApplicationRec.App[f]}" rendered="{!if(($ObjectType.ts2__Application__c.fields[f].Calculated && $ObjectType.ts2__Application__c.fields[f].Accessible ),true,false)}"/> -->
											<apex:outputField styleClass="outputtextCSS" value="{!ApplicationRec.App[f]}" rendered="{!if((NOT($ObjectType.ts2__Application__c.fields[f].Calculated) && $ObjectType.ts2__Application__c.fields[f].Accessible && f != 'Name'),true,false)}" />
											<apex:commandLink styleClass="outputtextCSS" action="{!ApplicationLinkClick}" rendered="{!NOT($ObjectType.ts2__Application__c.fields[f].Calculated) && $ObjectType.ts2__Application__c.fields[f].Accessible && f = 'Name'}" value="{!ApplicationRec.App[f]}" >
												<apex:param name="Param1" assignTo="{!ApplicationId}" value="{!ApplicationRec.App.id}" />
											</apex:commandLink>
										</td>
										</apex:repeat>
									</tr>
								</apex:repeat>
							</table>
					</div>
				</apex:outputPanel>
			</apex:outputPanel>
		</apex:outputPanel>
		<apex:outputPanel id="PaginationPanelRerend" >
		<apex:outputPanel id="PaginationPanel" rendered="{!if(($ObjectType.ts2__Application__c.FieldSets.ts2extams__ApplicationAMSDisplay.size>0 && ApplicationListOnPage.size > 0),true,false)}" >
		<table style="width:100%">
			<tr>
				<td align='left' style="width:20%">{!ValueOfCurrentPage} {!$Label.AMS_LABEL_MainPageOf} {!AllRecords} &nbsp;{!$Label.AMS_LABEL_MainPagePerPage}
					<apex:selectList id="RecOnPage" value="{!RecOnPage}" onchange="BeginValue();SelectrecordOnPageJS(this.value,document.getElementById('NowStageAMSMainPage').value);"   multiselect="false" size="1">
						<apex:selectOptions value="{!ListRecordOnPage}"/>
					</apex:selectList>
				</td>
				<td align='center' style="width:60%">
					<apex:outputPanel rendered="{!if(JSENCODE(PreviousPage) != '-', true, false)}" style="cursor:pointer" onclick="BeginValue();MoveRecordBackInJS('{!JSENCODE(PreviousPage)}')">
					<img class="prevActive" src="/s.gif"/>&nbsp;{!$Label.AMS_LABEL_MainPagePrevious}</apex:outputPanel>
					<apex:outputPanel rendered="{!if(JSENCODE(PreviousPage) == '-', true, false)}" style="color:#A8A8A8">
					<img class="prevOff" src="/s.gif"/>&nbsp;{!$Label.AMS_LABEL_MainPagePrevious}</apex:outputPanel>  &nbsp;
					<apex:outputPanel rendered="{!if(JSENCODE(NextPage) != '-', true, false)}"  style="cursor:pointer" onclick="BeginValue();MoveRecordNextInJS('{!JSENCODE(NextPage)}')">
					{!$Label.AMS_LABEL_MainPageNext}&nbsp;<img class="nextActive" src="/s.gif"/></apex:outputPanel>
					<apex:outputPanel rendered="{!if(JSENCODE(NextPage) == '-', true, false)}"  style="color:#A8A8A8">
					{!$Label.AMS_LABEL_MainPageNext}&nbsp;<img class="nextOff" src="/s.gif"/></apex:outputPanel>
				</td>
				<td align='right' style="width:20%">{!$Label.AMS_LABEL_MainPagePage}
				<apex:selectList id="ListRecordsOnPage" value="{!CurrentPage}" onchange="BeginValue();MoveSelectRecordInJS(this.value);"   multiselect="false" size="1">
					<apex:selectOptions value="{!LinkList}"/>
				</apex:selectList>
				{!$Label.AMS_LABEL_MainPageOf} {!LastPage}</td>
			</tr>
		</table>
		</apex:outputPanel>
		</apex:outputPanel>
	</apex:pageBlock>

		<br/>
		<script type="text/javascript" charset="utf-8">
		function selectvalue (obj) {
			BeginValue();
			MoveSelectRecordInJS(obj.value);
		}

		function selectvalue(val){
			var select = document.getElementById(jQuery('[id$=ListRecordsOnPage]').attr('id'));
			for (var i=0; i < select.options.length; i++){
				if (select.options[i].value == val) {
					select.options[i].selected=true;
				}
			}
		}
		function CombackValue() {
			jQuery('[id$=thePanelShow]').hide();
			jQuery('[id$=TableBlockShow]').show();
		}

		function CombackValueValueOrder(name,order) {
			CombackValue();
			var mainTr = document.getElementById('maintr');
			var arrayimg=mainTr.getElementsByTagName('img');
			for (var i=0;i<arrayimg.length;i++) {
				arrayimg[i].style.display='none';
			}
			if (name) {
				document.getElementById(name+order).style.display = 'inline-block';
			}
		}

		function BeginValue() {
			jQuery('[id$=thePanelShow]').show();
			jQuery('[id$=TableBlockShow]').hide();
		}

		function showRecForStage(stage) {
			var menu = document.getElementById('AMS_Right_Menu');
			var array = menu.getElementsByTagName('a');
			for (var i=0; i<array.length; i++) {
				if(array[i].id == 'AMS_'+stage){
					array[i].className = iconShow.show(array[i].id );
				}
				else {
					array[i].className = iconShowdisabled.show(array[i].id );
				}
			}
			BeginValue();
			document.getElementById('NowStageAMSMainPage').value = stage;
			if (stage == 'Rejected' || stage == 'Incomplete') {
				jQuery('[id$=SpeedReviewPanel]').attr("style", "visibility:hidden;");
			}
			else {
				jQuery('[id$=SpeedReviewPanel]').attr("style", "visibility:visible;");
			}
			showRecordForStageJavascript(stage);
		}
		
		function showRecForStageMatch(Idelement, type) {
			var menu= document.getElementById('AMS_Right_MenuMatch');
			var array = menu.getElementsByTagName('a');
			for (var i=0;i<array.length;i++) {
				if(array[i].id == Idelement){
					array[i].className = iconShow.show(array[i].id );
				}
				else {
					array[i].className = iconShowdisabled.show(array[i].id );
				}
			}
			BeginValue();
			document.getElementById('NowStageAMSMainPage').value='BQ';
			showRecordForMatchJavascript(type);
		}

		function OrderRecApp(obj,name,type) {
			if (!functionClick.show(name)) {
				var arraytd=obj.parentNode.getElementsByTagName('td');
				var arrayimg=obj.parentNode.getElementsByTagName('img');
				var ascObj = document.getElementById(name+'ASC');
				var descObj = document.getElementById(name+'DESC');
				if(ascObj.style.display == 'none') {
					for (var i=0;i<arrayimg.length;i++) {
						arrayimg[i].style.display='none';
					}
					ascObj.style.display = 'inline-block';
					descObj.style.display = 'none';
					BeginValue();
					showRecordForOrderStageJavascript(document.getElementById('NowStageAMSMainPage').value,name,'ASC');
				}
				else {
					for (var i=0;i<arrayimg.length;i++) {
						arrayimg[i].style.display='none';
					}
					ascObj.style.display = 'none';
					descObj.style.display = 'inline-block';
					BeginValue();
					showRecordForOrderStageJavascript(document.getElementById('NowStageAMSMainPage').value,name,'DESC');
				}
			}
		}
		function ApplicationId(paramDel){
			if (confirm('{!$Label.AMS_LABEL_SetupQuestionForDel}')) {
				BeginValue();
				DelRecordInJS(paramDel);
			}
		}
		</script>
	</apex:form>
	</apex:outputPanel>
</body>
</apex:page>