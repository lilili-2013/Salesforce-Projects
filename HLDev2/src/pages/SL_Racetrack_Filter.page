<apex:page id="thePage" controller="SL_RacetrackReport" > 
    <apex:form >
    	<style>
	        .requireField
	        {
	
	            width: 5px; 
	            padding-top : 2px;
	            color: #CC0000;
	            font-size: 19px;
	            font-weight:bold;   
	        }
        </style>
        <script>
        	function checkFundValue(projectId)
         	{          
          		if(document.getElementById(projectId).value == '')
          		{
           			alert('Please select the Project from lookup');           
          		}
          		return false;
          	}
          	
          	function enableButton(ButtonId, DummyId, projectId)
          	{
           		if(document.getElementById(projectId).value!=null && document.getElementById(projectId).value!='')
           		{            
           			document.getElementById(ButtonId).style.display = '';
            		document.getElementById(DummyId).style.display = 'none';
           		}
           		else
           		{
            		document.getElementById(ButtonId).style.display = 'none';
            		document.getElementById(DummyId).style.display = '';
            	}
           }
           
           function clearPicklistValue(picklistId)
           {
           		var selectOptions = document.getElementById(picklistId).getElementsByTagName("option");
           		
           		for (i=0; i<selectOptions.length; i++)
           		{
					selectOptions[i].selected = "";
				} 
           		
           		return false;
           }
           
           function clearAllPicklist()
           {
           		
           		var selectOptions = document.getElementById("tableId").getElementsByTagName("option");
           		for (i=0; i<selectOptions.length; i++)
           		{
					selectOptions[i].selected = "";
				}
				
           		return false;
           }
        </script>
    	<table width="100%">
    		<tr width="100%">
    			<td style="font-size: 20px; font-weight: bold; width: 100%; border-bottom: 2px #3355CC solid;">
    				<apex:outputLabel value="Racetrack Report" style=""/>
    			</td>
    		</tr>
    		<tr>  
    			<td>
    				<table>
    					<tr>
    						<td style=" font-weight: bold;text-align: right;padding-top:8px;">
    							<apex:outputLabel for="engagementId" value="Project : "/>
    						</td>
    						<td>
    							<apex:outputText value="|"  styleClass="requireField"/>
    							<apex:inputField id="engagementId" value="{!engagementCounterparty.Engagement__c}" 
    															   onChange="enableButton('{!$Component.GenerateReport}','{!$Component.Dummy}','{!$Component.engagementId}');"/>
    						</td>
    						<td>
    						</td>
    						<td>
    						</td>
    					</tr>
    					<tr>
    						<td style=" font-weight: bold;text-align: right;">
                 				<apex:outputLabel for="groupOption" value="Group By : "/><br/>
    						</td>
    						<td>
    							<apex:selectList id="groupOption" value="{!strGroupBy}" multiselect="false" size="1" >
					            	<apex:selectOptions value="{!GroupByOptions}"/>
					            </apex:selectList>   
    						</td>
    						<td>
    						</td>
    						<td>
    						</td>
    					</tr>
    					<tr>  
    						<td style=" font-weight: bold;text-align: right;">
                     			<apex:outputLabel for="sortOption" value="Sort By : "/><br/>
    						</td>
    						<td>
    							<apex:selectList id="sortOption" value="{!strSortBy}" multiselect="false" size="1" >
				                  	<apex:selectOptions value="{!SortingOption}"/>
				             	</apex:selectList>  
				             	<apex:outputLabel for="orderOption" value="Order By : " style="font-weight: bold;"/>
				             	<apex:selectList id="orderOption" value="{!strOrderBy}" multiselect="false" size="1" >
				                    <apex:selectOption itemValue="ASC" itemLabel="ASC"/>
				                   	<apex:selectOption itemValue="DESC" itemLabel="DESC"/>
				                </apex:selectList>
    						</td>
    						<td >
    							 
    						</td>
    						<td>
    							
    						</td>
    					</tr>
    					<tr>
    						<td style=" font-weight: bold;text-align: right;">
                 				<apex:outputLabel for="showDates" value="Report Type : "/>
    						</td>
    						<td>
    							 <apex:selectList id="showDates" value="{!strReportType}" multiselect="false" size="1" >
				                    <apex:selectOption itemValue="checks" itemLabel="With Checkmarks"/>
				                    <apex:selectOption itemValue="dates" itemLabel="With Dates"/>
				                </apex:selectList>  
    						</td>
    						<td>
    						</td>
    						<td>
    						</td>
    					</tr>
    					<tr>
    						<td style=" font-weight: bold;text-align: right;">
                    			<apex:outputLabel for="stageOption" value="Stage : "/><br/>
    						</td>
    						<td>
    							<apex:selectList id="stageOption" value="{!lstSelectedStage}" multiselect="true" size="5" >
				                    <apex:selectOptions value="{!StageOptions}"/>
				                </apex:selectList>
    						</td>
    						<td>
    						</td>
    						<td>
    						</td>
    					</tr>
    					<tr>
    						<td style=" font-weight: bold;text-align: right;">
                    			  <apex:outputLabel for="fileType" value="File Type : "/><br/>
    						</td>
    						<td>
    							 <apex:selectList id="fileType" value="{!strFileType}" multiselect="false" size="1" >
				                    <apex:selectOption itemValue="pdf" itemLabel="PDF"/>
				                    <apex:selectOption itemValue="excel" itemLabel="EXCEL"/>
				                </apex:selectList>
    						</td>
    						<td>
    							
    						</td>
    						<td>
    						</td>
    					</tr>
    				</table>
    			</td>
    		</tr>
        <tr>
          <td width="60%" style="text-align:left;">
          <apex:commandLink target="_blank" style="text-decoration:none;display:none;" id="GenerateReport" action="{!generateReport}" >
                            <apex:commandButton value="Run report"/>
                          </apex:commandLink>
                          <apex:commandButton value="Run Report" onClick="return checkFundValue('{!$Component.engagementId}');" id="Dummy"/>
                </td>
              </tr>
<!--              
    		<tr>
    			<td>
    				<fieldset>
					  <legend>Filters </legend>
					  <table width="100%">
					  	<tr>
					  		<td width="7%" style="text-align:left;font-weight: bold;">
					  			<apex:outputLabel value="Any Filter ?" style=""/>
					  		</td>
					  		<td width="1%" style="text-align:left;font-weight: bold;">
					  			<apex:inputCheckbox value="{!isFilter}"></apex:inputCheckbox>
					  		</td>
					  		<td width="32%" style="text-align:left;font-weight: bold;">
					  			<apex:commandLink value="clear filters" onclick=" return clearAllPicklist();" rerender="op"/>
					  		</td>
					  		<td width="60%" style="text-align:left;">
			                	<apex:commandLink target="_blank" style="text-decoration:none;display:none;" id="GenerateReport" action="{!generateReport}" >
			                    	<apex:commandButton value="Run report"/>
			                   	</apex:commandLink>
			                   	<apex:commandButton value="Run Report" onClick="return checkFundValue('{!$Component.engagementId}');" id="Dummy"/>
					  		</td>
					  	</tr>
					  </table>
					  <apex:outputPanel id="op">
						  <table width="100%" id="tableId">
						  	<tr>
						  		<td width="50%">
						  			<table width="100%">
						  				<apex:repeat value="{!lstPicklistWrapperL}" var="picklistL">
							  				<tr>
								  				<td style="text-align:right;font-weight: bold;">
										  			<apex:outputLabel value="{!picklistL.strLabel} : "/><br/>
										  			<apex:commandLink value="clear" onclick="clearPicklistValue('{!picklistL.strAPIName}')" rerender="selectlistLId"/>&nbsp;
										  		</td>
										  		<td style="text-align:left;">
										  			<div id="{!picklistL.strAPIName}">
											  			<apex:selectList value="{!picklistL.selectedValues}" multiselect="true" size="4" style="min-width:300px;" id="selectlistLId">
											            	<apex:selectOptions value="{!picklistL.allValues}"/>
											            </apex:selectList>
											       </div>
										  		</td>
									  		</tr>
								  		</apex:repeat>
						  			</table>
						  		</td>
						  		<td width="50%">
						  			<table width="100%">
						  				<apex:repeat value="{!lstPicklistWrapperR}" var="picklistR">
							  				<tr>
								  				<td style="text-align:right;font-weight: bold;">
										  			<apex:outputLabel value="{!picklistR.strLabel} : "/><br/>
										  			<apex:commandLink value="clear" onclick="clearPicklistValue('{!picklistR.strAPIName}')" rerender="selectlistRId"/>&nbsp;
										  		</td>
										  		<td style="text-align:left;">
										  			<div id="{!picklistR.strAPIName}">
											  			<apex:selectList value="{!picklistR.selectedValues}" multiselect="true" size="4" style="min-width:300px;" id="selectlistRId">
											            	<apex:selectOptions value="{!picklistR.allValues}"/>
											            </apex:selectList>
										            </div>
										  		</td>
									  		</tr>
								  		</apex:repeat>
						  			</table>
						  		</td>
						  	</tr>
						  </table>
					  </apex:outputPanel>
					</fieldset>
    			</td>
    		</tr>
-->        
    	</table>
    </apex:form>
</apex:page>