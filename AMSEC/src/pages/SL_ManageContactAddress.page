<apex:page controller="SL_ManageContactAddress" showHeader="false" sidebar="false" tabStyle="Account">
    <apex:form >
        <apex:sectionHeader subtitle="{!objAccount.Name}" title="{!$ObjectType.Account.Label}"/>
        <apex:outputPanel >
            <apex:pageBlock >
                <apex:pageBlockSection columns="2" title="Account Business Addresses" collapsible="false">
                    
                    <apex:pageBlockSectionItem >
                        <apex:outputLabel style="width:100px;" value="{!$ObjectType.Account.fields.BillingStreet.label}" />
                        <apex:outputField value="{!objAccount.BillingStreet}" />
                    </apex:pageBlockSectionItem>
                    
                    <apex:pageBlockSectionItem >
                        <apex:outputLabel style="width:100px;" value="{!$ObjectType.Account.fields.ShippingStreet.label}" />
                        <apex:outputField value="{!objAccount.ShippingStreet}" />
                    </apex:pageBlockSectionItem>
                    
                    <apex:pageBlockSectionItem >
                        <apex:outputLabel style="width:100px;" value="{!$ObjectType.Account.fields.BillingCity.label}" />
                        <apex:outputField value="{!objAccount.BillingCity}" />
                    </apex:pageBlockSectionItem>
                    
                    <apex:pageBlockSectionItem >
                        <apex:outputLabel style="width:100px;" value="{!$ObjectType.Account.fields.ShippingCity.label}" />
                        <apex:outputField value="{!objAccount.ShippingCity}" />
                    </apex:pageBlockSectionItem>
                    
                    <apex:pageBlockSectionItem >
                        <apex:outputLabel style="width:100px;" value="{!$ObjectType.Account.fields.BillingState.label}" />
                        <apex:outputField value="{!objAccount.BillingState}" />
                    </apex:pageBlockSectionItem>
                    
                    <apex:pageBlockSectionItem >
                        <apex:outputLabel style="width:100px;" value="{!$ObjectType.Account.fields.ShippingState.label}" />
                        <apex:outputField value="{!objAccount.ShippingState}" />
                    </apex:pageBlockSectionItem>
                    
                    <apex:pageBlockSectionItem >
                        <apex:outputLabel style="width:100px;" value="{!$ObjectType.Account.fields.BillingPostalCode.label}" />
                        <apex:outputField value="{!objAccount.BillingPostalCode}" />
                    </apex:pageBlockSectionItem>
                    
                    <apex:pageBlockSectionItem >
                        <apex:outputLabel style="width:100px;" value="{!$ObjectType.Account.fields.ShippingPostalCode.label}" />
                        <apex:outputField value="{!objAccount.ShippingPostalCode}" />
                    </apex:pageBlockSectionItem>
                    
                    <apex:pageBlockSectionItem >
                        <apex:outputLabel style="width:100px;" value="{!$ObjectType.Account.fields.BillingCountry.label}" />
                        <apex:outputField value="{!objAccount.BillingCountry}" />
                    </apex:pageBlockSectionItem>
                    
                    <apex:pageBlockSectionItem >
                        <apex:outputLabel style="width:100px;" value="{!$ObjectType.Account.fields.ShippingCountry.label}" />
                        <apex:outputField value="{!objAccount.ShippingCountry}" />
                    </apex:pageBlockSectionItem>
                </apex:pageBlockSection>
            </apex:pageBlock>
            
            <apex:pageBlock >
                <apex:pageBlockSection columns="2" title="Contact Current Business Address" collapsible="false"/>
                <apex:pageBlockTable value="{!lstContactWrapper}" var="conWrapper">
                    <apex:column headervalue="Name" >{!conWrapper.sObj['Name']}</apex:column>
                    <apex:column headervalue="Street">{!conWrapper.sObj['MailingStreet']}</apex:column>
                    <apex:column headervalue="City">{!conWrapper.sObj['MailingCity']}</apex:column>
                    <apex:column headervalue="State/Province">{!conWrapper.sObj['MailingState']}</apex:column>
                    <apex:column headervalue="Zip/Postal Code">{!conWrapper.sObj['MailingPostalCode']}</apex:column>
                    <apex:column headervalue="Country">{!conWrapper.sObj['MailingCountry']}</apex:column>
                    <apex:column headervalue="Business Addresses">
                        <apex:selectRadio value="{!conWrapper.strBusinessAddType}" >
                            <apex:selectOptions value="{!BusinessOptions}"/>
                        </apex:selectRadio>    
                    </apex:column>
                </apex:pageBlockTable>
            </apex:pageBlock>
        </apex:outputPanel>    
        <center>
            <apex:commandButton value="Save" status="loading" action="{!save}" oncomplete="closeWindow();"/>&nbsp;&nbsp;&nbsp;
            <apex:commandButton value="Cancel" onclick="cancelWindow();"/>
        </center>
        
        <script>
            function closeWindow()
            {
                if(navigator.appVersion.indexOf("MSIE 7") > 0 || navigator.appVersion.indexOf("MSIE 8") > 0 || navigator.appVersion.indexOf("MSIE 9") > 0 )
                {
                    window.location.href = '/{!objectId}';
                }
                else
                {
                    self.close();
                    window.opener.location.href = '/{!objectId}';
                }
            }
            
            function cancelWindow()
            {
                if(navigator.appVersion.indexOf("MSIE 7") > 0 || navigator.appVersion.indexOf("MSIE 8") > 0 || navigator.appVersion.indexOf("MSIE 9") > 0 )
                    history.back();
                else
                    self.close();
            }
            
        </script>
        
        <apex:actionstatus id="loading" startText="Requesting...">
            <apex:facet name="start">
                <div id="salesforceSource_blurybackground" style="position:fixed; left:1px; top:1px; width:100%; height:100%; text-align:center; vertical-align: middle; background-color: #dcdcdc; opacity:0.7;filter:alpha(opacity=60)"></div>
                <div id="ManageMembersViewport_loading" class="waitingSearchDiv" style="width: 100%; height: 100%; display: ''; ">
                    <div style="width: 144px;vertical-align: middle;" class="waitingHolder">
                        <table  style="width: 100%; height: 100%">
                            <tr align="center" valign="top" style="width: 100%; height: 30%">
                                <td valign="top"><img src="/img/loading.gif"/><span class="waitingDescription"><b>Loading...</b></span></td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div id="ManageMembersViewport_loading" class="waitingSearchDiv" style="width: 100%; height: 100%; display:''; "></div>
                <script>document.getElementById('ManageMembersViewport_loading').height = window.innerHeight * (3/4);</script>
            </apex:facet>
            <apex:facet name="stop"></apex:facet>
        </apex:actionstatus>
        
    </apex:form>
</apex:page>