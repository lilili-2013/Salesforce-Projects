<apex:page readonly="true" renderAs="pdf" applyHtmlTag="false" showHeader="false" sidebar="false" standardStylesheets="false" controller="SL_BillingSummaryController"  action="{!pageAction}">

        <title>Pure</title>
<!--        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/> -->
       <!-- Using static resource for style -->
        
        <apex:stylesheet value="{!URLFOR($Resource.SL_PureInsuranceResources,'css/printpdf.css')}"/>
        <style>
    
        html {
            margin:0px;
            padding:0px;
           }
    
        body {
            font-family:Arial Unicode MS; 
            font-weight: normal;
            padding:0px;
            margin:0px;
            background-color: white;
        }
    
        @page {
            size: A4 portrait; /* ISO/JIS A4 (210mm√ó297mm) */
            margin: 10mm;
            margin-bottom : 15mm;
            @bottom-right {
             content: element(footer);
            }
            @bottom-left {
                content: "Page " counter(page) " of " counter(pages);
            }
        }
    
        div.footer {
            display: block;
            position: running(footer);
            font-size: 10pt;
        }
        .pagenumber:before{
            content: counter(page);
        }
    
        .pagecount:before{
            content: counter(pages);
        }
    
        table { 
            page-break-inside: auto;
        }
        .tableStyle{
            width: 100%;
        }
    
    </style>
    <body>
        <div class="wrapper row-fluid">
    
            <div id="main-content" class="span9" style="border-bottom: 1px solid #DBDCD6;">
    
            <!-- welcome message goes in here -->
                <h1 class="welcome">Billing Center</h1>
    
                <hr />
    
                <!-- bread crumb goes here -->
                <div class="row-fluid crumb-container" style="padding-bottom: 5px;">
                    <ul class="breadcrumb pure-crumb">
                        <li>pure <span class="divider">/</span></li>
                        <li>billing center <span class="divider">/</span></li>
                        <li class="active">billing summary</li>
                    </ul>
                </div>
    
                <!-- member-info goes here -->
                <div id="member-info" class="row-fluid">
                    <div class="span12">
                        <div class="row-fluid">
                            <table width="100%">
                                <tr>
                                    <td style="border : none;">
                                        <dl class="span6">
                                            <dt>MEMBER NAME:</dt>
                                            <dd>{!objMemberInformation.Name}</dd>
                                        </dl>
                                    </td>
                                    <td style="border : none;">
                                        <dl class="span6">
                                            <dt>MEMBER ID:</dt>
                                            <dd>{!objMemberInformation.Member_Key_EDW__c}</dd>
                                        </dl>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
    
    <!-- Billing Snapshot fill in table below. If none, hide. -->
    
    <div class="bill-sum-full-container row-fluid">
        <div class="table-header">
            <table style="width:100%;">
                <tr>
                    <td style="border : none; width:40%;">
                        <h1 class="table-h1-title">Billing Snapshot</h1>
                    </td>
                    <td style="border : none;  width:60%; vertical-align: top;">
                    	<apex:outputpanel rendered="{!IF(objMemberInformation.IsOverdue__c==null,false,true)}" layout="none">
							<apex:outputpanel rendered="{!IF(objMemberInformation.IsOverdue__c>0,true,false)}" layout="none">
		                        <img class="pure-triangle" src="{!URLFOR($Resource.SL_PureInsuranceResources,'images/pure-triangle.png')}"/>
		                        <span style="color: #ED1C24; font-size: 13px; font-weight: bold; margin-left: 3%;font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;">YOUR ACCOUNT IS PAST DUE</span>
	                        </apex:outputpanel>
                        </apex:outputpanel>
                    </td>
                </tr>
            </table>
        </div>
    
        <div class="row-fluid">
            <div class="span12 unit-content snapshot-content">   
                <div class="row-fluid">
                    <table width="100%">
                        <tr>
                            <td style="border : none;">                             
                                <div class="span6 bill-sum-section">
                                    <div class="snapshot-payment">
                                        <p><strong>LAST PAYMENT RECEIVED:</strong>
                                            <apex:outputpanel rendered="{!If(objMemberInformation.Last_Payment_Received__c == null, false,true)}">
                                                <apex:outputText value="${0, number,###,##0.00}">
                                                    <apex:param value="{!objMemberInformation.Last_Payment_Received__c}"/>
                                                </apex:outputText>
                                            </apex:outputpanel>
                                            <apex:outputpanel rendered="{!If(objMemberInformation.Last_Payment_Received__c == null, true,false)}">
                                                $0.00
                                            </apex:outputpanel>
                                         </p>
                                    </div>
                                    
                                </div>
                            </td>
                            <td style="border : none;">
                                <div class="span6 bill-sum-section">
                                    <div class="snapshot-payment">
                                        <p><strong>LAST PAYMENT MADE:</strong>
                                            <apex:outputpanel rendered="{!If(objMemberInformation.Last_Payment_Date__c == null, false,true)}">
                                                <apex:outputText value="{0,date,MM/dd/yy}">
                                                    <apex:param value="{!objMemberInformation.Last_Payment_Date__c}"/>
                                                </apex:outputText>
                                            </apex:outputpanel>
                                            <apex:outputpanel rendered="{!If(objMemberInformation.Last_Payment_Date__c == null, true,false)}">
                                                N/A
                                            </apex:outputpanel> 
                                         </p>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="row-fluid">
                    <div class="span12 bill-sum-section">
                        <div class="bill-sum-title">
                            <h1>Accounts</h1>
                        </div>
    
                        <table class="table policies-desktop table-striped">
                            <thead>
                                <tr>
                                    <th class="number">Bill Name <i class="icon fa fa-info-circle"></i></th>
                                    <th>Bill Type</th>
                                    <th class="type">Total <br/>Charges <i class="icon fa fa-info-circle"></i></th>
                                    <th class="type">Balance</th>
                                    <th class="type" style="border: none;">Minimum <br/>Due</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Primary Bill</td>
                                    <td>Primary</td>
                                    <td>
                                        <apex:outputpanel rendered="{!If(totalCharges == null, true,(If(totalCharges == 0, true, false)))}">
                                            $0.00
                                        </apex:outputpanel>
                                        <apex:outputpanel rendered="{!If(totalCharges == null, false,(If(totalCharges == 0, false, true)))}">
                                            <apex:outputText value="${0, number,###,##0.00}">
                                                <apex:param value="{!totalCharges}"/>
                                            </apex:outputText>
                                        </apex:outputpanel>
                                        
                                    </td>
                                    <td>
                                        <apex:outputpanel rendered="{!If(totalBalance == null, true,(If(totalBalance == 0, true, false)))}">
                                            $0.00
                                        </apex:outputpanel>
                                        <apex:outputpanel rendered="{!If(totalBalance == null, false,(If(totalBalance == 0, false, true)))}">
                                            <apex:outputText value="${0, number,###,##0.00}">
                                                <apex:param value="{!totalBalance}"/>
                                            </apex:outputText>
                                        </apex:outputpanel>
                                        
                                    </td>
                                    <td class="{!IF(totalMinDue>0,'text-error','')}" style="border: none;"> 
                                        <apex:outputpanel rendered="{!IF(totalMinDue==null,false,(If(totalMinDue == 0, false, true)))}" layout="none">
                                            <apex:outputText value="${0, number,###,##0.00}">
                                                <apex:param value="{!totalMinDue}"/>
                                            </apex:outputText>
                                        </apex:outputpanel>
                                        <apex:outputpanel rendered="{!IF(totalMinDue==null,true,(If(totalMinDue == 0, true, false)))}" layout="none">
                                            $0.00
                                        </apex:outputpanel>
                                    </td>
                                </tr>
                                <apex:repeat value="{!lstBillingPolicyWrapper}" var="BP">
                                    <tr>
                                        <td>{!BP.policyDescription}</td>
                                        <td>Individual</td>
                                        <td>
                                            <apex:outputpanel rendered="{!If(BP.policyTotalCharges == null, true,(If(BP.policyTotalCharges == 0, true, false)))}">
                                                $0.00
                                            </apex:outputpanel>
                                            <apex:outputpanel rendered="{!If(BP.policyTotalCharges == null, false,(If(BP.policyTotalCharges == 0, false, true)))}">
                                                <apex:outputText value="${0, number,###,##0.00}">
                                                    <apex:param value="{!BP.policyTotalCharges}"/>
                                                </apex:outputText>
                                            </apex:outputpanel>
                                        </td>
                                        <td>
                                            <apex:outputpanel rendered="{!If(BP.Balance == null, true,(If(BP.Balance == 0, true, false)))}">
                                                $0.00
                                            </apex:outputpanel>
                                            <apex:outputpanel rendered="{!If(BP.Balance == null, false,(If(BP.Balance == 0, false, true)))}">
                                                <apex:outputText value="${0, number,###,##0.00}">
                                                    <apex:param value="{!BP.Balance}"/>
                                                </apex:outputText>
                                            </apex:outputpanel>
                                        </td>
                                        <td style="border: none;">
                                            <apex:outputpanel rendered="{!If(BP.policyMinDue== null, true,(If(BP.policyMinDue == 0, true, false)))}">
                                                $0.00
                                            </apex:outputpanel>
                                            <apex:outputpanel rendered="{!If(BP.policyMinDue == null, false,(If(BP.policyMinDue == 0, false, true)))}">
                                                <apex:outputText value="${0, number,###,##0.00}">
                                                    <apex:param value="{!BP.policyMinDue}"/>
                                                </apex:outputText>
                                            </apex:outputpanel>
                                        </td>
                                    </tr>
                                </apex:repeat>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div> <!-- snapshot-content div -->
        </div>
        <div>
            <!-- Extra Section Starts Here-->
            <div class="row-fluid extra-section">
                <table width="100%">
                    <tr>
                        <td>                
                            <div class="span6 paynow">
                                <p>Please note, you can only pay your primary account bill online. If you have individually billed polices, you can pay these with a check or by calling Member Services at (888)813-7873.</p>
                            </div>
                         </td>
                         <td style="border: none;">
                            <div class="span6 enroll">
                                <strong>DELIVERY METHOD:</strong><br />
                                <apex:outputpanel rendered="{!If(objMemberInformation.Billing_Document_Delivery_Method__c == 'Paper',true,false)}">
                                    <table width="90%" align="center">
                                        <tr>
                                            <td width="50%" style="border: none;">
                                                <p>You are not enrolled in eDelivery. <br />
                                                Your bills are currently mailed to: <br />
                                                    <div style="max-width: 70%;">
                                                        <strong >{!PrimaryBillingAddrs}</strong> 
                                                    </div>
                                                </p>
                                            </td>
                                            <td width="50%">
<!--                                                <div class="e-leaf"> -->
                                                <img src="{!URLFOR($Resource.SL_PureInsuranceResources,'images/e-leaf.png')}" />
<!--                                                </div> -->
                                            </td>
                                        </tr>
                                    </table>
                                </apex:outputpanel>
                                <apex:outputpanel rendered="{!If(objMemberInformation.Billing_Document_Delivery_Method__c == 'Electronic' || objMemberInformation.Billing_Document_Delivery_Method__c == 'Both',true,false)}">
                                    <p>You are enrolled in eDelivery. <br />
                                    Your bills are currently mailed to: <br />
                                    <strong>{!primaryEmail}</strong></p>
                                </apex:outputpanel>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    <!-- billing snapshot Ends here -->
    
    <!-- Begin Primary Billing Account  -->
    <div class="bill-sum-full-container row-fluid">
        <div class="table-header">
            <table width="100%" style="page-break-before:auto;">
                <tr>
                    <td style="border: none;">
                        <h1 class="table-h1-title">Primary Billing Account </h1>
                    </td>
                    <td style="border: none; vertical-align: top;">
                        <apex:outputpanel rendered="{!isOverdue}">
                                <img src="{!URLFOR($Resource.SL_PureInsuranceResources,'images/pure-triangle.png')}"  class="pure-triangle"/> 
                                <span style="color: #ED1C24; font-size: 13px; font-weight: bold; margin-left: 3%;font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;">YOUR ACCOUNT IS PAST DUE</span>
                        </apex:outputpanel>
                    </td>
                </tr>
            </table>
        </div>        
    
        <div class="row-fluid">
            <div class="span12 unit-content primarybilling-content">   
    
                <div class="row-fluid">
                    <div class="span12 bill-sum-section">
                        <div class="bill-sum-title">
                            <h1>Account Summary</h1>
                        </div>
    
                        <div>
                            <table class="table policies-desktop table-striped">
                                <thead>
                                    <tr>
                                        <th>Policy <br/>Description</th>
                                        <th class="number">Policy Term</th>
                                        <th class="type">Total <br/>Charges </th>
                                        <th class="type">Payments/<br/>Credits</th>
                                        <th class="type">Balance</th>
                                        <th class="type" style="border: none;">Minimum <br/>Due</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <apex:repeat value="{!lstActivePolicyWrapper}" var="allPolcies">
                                        <tr style="display: {!if(allPolcies.isIndivisualBilled,'none;','')}">
                                            <td><a href="PolicyDetailPage?url={!allPolcies.policyNumber}" ><strong>{!allPolcies.policyDescription}</strong></a></td>
                                            <td>
                                                <apex:outputText value="{0,date,MM/dd/yy}"><apex:param value="{!allPolcies.effectiveDate}" />
                                                    </apex:outputText>&nbsp;-&nbsp;<apex:outputText value="{0,date,MM/dd/yy}"><apex:param value="{!allPolcies.expirationDate}" />
                                                    </apex:outputText>
                                            </td>
                                            <td><apex:outputText value="${0, number,###,##0.00}"   >
                                                <apex:param value="{!allPolcies.policyTotalCharges}"/>
                                            </apex:outputText></td>
                                            <td><apex:outputText value="${0, number,###,##0.00}"   >
                                                <apex:param value="{!allPolcies.paymentsCredits}"/>
                                            </apex:outputText></td>
                                            <td><apex:outputText value="${0, number,###,##0.00}"   >
                                                <apex:param value="{!allPolcies.Balance}"/>
                                            </apex:outputText></td>
                                            <td class="{!If(allPolcies.policyIsOverdue ,'text-error','')}" style="border: none;">
                                                <apex:outputText value="${0, number,###,##0.00}"   >
                                                    <apex:param value="{!allPolcies.policyMinDue}"/>
                                                </apex:outputText>
                                            </td>    
                                        </tr>
                                    </apex:repeat>
                                    
                                    <tr>
                                        <td></td>
                                        <td><strong>TOTAL:</strong></td>
                                        <td><strong><apex:outputText value="${0, number,###,##0.00}"   >
                                            <apex:param value="{!totalCharges}"/>
                                        </apex:outputText></strong></td>
                                        <td><strong><apex:outputText value="${0, number,###,##0.00}"   >
                                            <apex:param value="{!totalPaymentCredit}"/>
                                        </apex:outputText></strong></td>
                                        <td><strong><apex:outputText value="${0, number,###,##0.00}"   >
                                            <apex:param value="{!totalBalance}"/>
                                        </apex:outputText></strong></td>
                                        <td style="border: none;"><strong><apex:outputText value="${0, number,###,##0.00}" style="border: none;">
                                            <apex:param value="{!totalMinDue}"/>
                                        </apex:outputText></strong></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
    
                    </div>
                </div>
    
                <div class="row-fluid">
                    <table width="100%">
                        <tr>
                            <td style="vertical-align: top; border: none;">
                                <div class="span6 bill-sum-section">
                                    <div class="bill-sum-title">
                                        <h1>Recent Invoices</h1>
                                    </div>
                                    <div>
                                        <table class="table policies-desktop table-striped">
                                            <tbody>
                                                <apex:repeat value="{!lstInvoicesPrimary}" var="invoices">
                                                    <tr style="display: {!if(invoices.row <= 12,'','none;')}">
                                                        <td><a href="{!invoices.DocumentId}" ><strong>{!invoices.DisplayText}</strong></a></td>
                                                    </tr>
                                                    <tr style="display: {!if(invoices.row > 12,'','none;')}"> 
                                                        <td><strong>{!invoices.DisplayText}</strong></td>
                                                    </tr>
                                                </apex:repeat>
                                                <apex:outputpanel rendered="{!If(lstInvoicesPrimary.size == 0, true,false)}">
                                                 <tr style="width:100%">
                                                    <td class="center-icon" colspan="5" style="width:100%;">
                                                        <span> You do not have any recent invoices</span>
                                                    </td>
                                                </tr>
                                            </apex:outputpanel>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </td>
                            <td style="border: none; vertical-align: top; border: none;">
                                <div class="span6 bill-sum-section">
                                    <div class="bill-sum-title">
                                        <h1>Future Payment Dates</h1>
                                    </div>
                                    <div>
                                        <table class="table policies-desktop table-striped">
                                            <tbody>
                                                <tr style="display: {!if(lstFuturePaymentsPrimary.size > 0,'','none;')}">
                                                    <th><strong>Estimated Due Date</strong></th>
                                                    <th style="border: none;"><strong>Minimum Due</strong></th>
                                                </tr>    
                                                <apex:repeat value="{!lstFuturePaymentsPrimary}" var="futurePayments">
                                                    <tr>
                                                        <td><strong><apex:outputText value="{0,date,MM/dd/yy}"><apex:param value="{!futurePayments.EstimatedDate}" />
                                                        </apex:outputText></strong></td>
                                                        <td style="border: none;"><apex:outputText value="${0, number,###,##0.00}"   >
                                                            <apex:param value="{!futurePayments.MinDue}"/>
                                                        </apex:outputText></td>
                                                    </tr>
                                                </apex:repeat>
                                                <tr style="width:100%">
                                                    <td class="center-icon" colspan="5" style="width:100%; border: none; display:{!If(lstFuturePayments.size != 0, 'none', '')}; ">
                                                        <span > You do not have any payments due at this time</span>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
    
            </div>
        </div>
    
    </div>
    <!-- beging individual policies -->
    
    <div class="bill-sum-full-container row-fluid">
        <div class="extra-bill-header">
            <h1>Individually Billed Policies </h1>
        </div>        
    
        <div class="row-fluid">
            <div class="span12 unit-content">   
                <apex:repeat value="{!lstActivePolicyWrapper}" var="indPolicies">
                    <apex:outputPanel rendered="{!if(indPolicies.isIndivisualBilled,true,false)}">
                        <div class="row-fluid">
                            <div class="span12 bill-sum-section">
                                <div class="bill-sum-title">
                                    <h1>{!indPolicies.policyDescription}</h1>
                                </div>
                
                                <div>
                                    <p>You have elected to have this policy billed to {!indPolicies.BillPayorName}</p>
                                    <table class="table policies-desktop table-striped">
                                        <thead>
                                            <tr>
                                                <th>Policy <br/>Description</th>
                                                <th class="number">Policy Term</th>
                                                <th class="type">Total <br/>Charges </th>
                                                <th>Payments/<br/>Credits</th>
                                                <th class="type">Balance</th>
                                                <th class="type" style="border: none;">Minimum <br/>Due</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td><strong><a href="PolicyDetailPage?url={!indPolicies.policyNumber}" >{!indPolicies.policyDescription}</a></strong></td>
                                                <td>
                                                    <apex:outputText value="{0,date,MM/dd/yy}"><apex:param value="{!indPolicies.effectiveDate}" />
                                                    </apex:outputText>&nbsp;-&nbsp;<apex:outputText value="{0,date,MM/dd/yy}"><apex:param value="{!indPolicies.expirationDate}" />
                                                    </apex:outputText>
                                                </td>
                                                <td><apex:outputText value="${0, number,###,##0.00}"   >
                                                        <apex:param value="{!indPolicies.policyTotalCharges}"/>
                                                    </apex:outputText>
                                                </td>
                                                <td><apex:outputText value="${0, number,###,##0.00}"   >
                                                        <apex:param value="{!indPolicies.paymentsCredits}"/>
                                                    </apex:outputText>
                                                </td>
                                                <td><apex:outputText value="${0, number,###,##0.00}"   >
                                                        <apex:param value="{!indPolicies.Balance}"/>
                                                    </apex:outputText>
                                                </td>
                                                <td style="border: none;"><apex:outputText value="${0, number,###,##0.00}"   >
                                                        <apex:param value="{!indPolicies.policyPendingPremiumRenewal}"/>
                                                    </apex:outputText>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <div class="row-fluid">
                                        <table width="100%">
                                            <tr>
                                                <td style="vertical-align: top; border: none;">
                                                    <div class="span6 bill-sum-section">
                                                        <div class="bill-sum-title">
                                                            <h1>Recent Invoices</h1>
                                                        </div>
                         
                                                        <div>
                                                            <table class="table policies-desktop table-striped">
                                                                <tbody>
                                                                    <apex:repeat value="{!lstInvoices}" var="indInvoices" >
                                                                    <apex:outputPanel rendered="{!if(indInvoices.PolicyId == indPolicies.policyId,true,false)}">
                                                                        <tr>
                                                                            <td><a target="_blank" href="{!indInvoices.DocumentID}" ><strong>{!indInvoices.DisplayText}  </strong></a></td>
                                                                        </tr>
                                                                    </apex:outputPanel>
                                                                    </apex:repeat>
                                                                    <apex:outputpanel rendered="{!If(mapPolicyIdToRecentInvoicesCount[indPolicies.policyId] == 0, '', 'none;')}; ">
                                                                        <tr style="width:100%">
                                                                            <td class="center-icon" style="width:100%; display:{!If(mapPolicyIdToRecentInvoicesCount[indPolicies.policyId] == 0, '', 'none;')}; ">
                                                                                <span > You do not have any recent invoices</span>
                                                                            </td>
                                                                        </tr>
                                                                    </apex:outputpanel>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td style="vertical-align: top; border: none;">
                                                    <div class="span6 bill-sum-section">
                                                        <div class="bill-sum-title">
                                                            <h1>Future Payment Dates</h1>
                                                            <div class="rotate-caret"><i class="fa fa-caret-right fa-2x"></i></div>
                                                        </div>
                                                        <div>
                                                            <table class="table policies-desktop table-striped">
                                                                <tbody>
                                                                    <tr style="display:{!if(lstFuturePayments.size > 0,'','none;')}"> 
                                                                        <td><strong>Estimated Due Date</strong></td>
                                                                        <td><strong>Minimum Due</strong></td>
                                                                    </tr>
                                                                    <apex:repeat value="{!lstFuturePayments}" var="indFutPays" >
                                                                        <tr style="display:{!if(indFutPays.PolicyId == indPolicies.policyId,'','none;')}">
                                                                            <td><strong><apex:outputText value="{0,date,MM/dd/yy}"><apex:param value="{!indFutPays.EstimatedDate}" />
                                                                                    </apex:outputText></strong>
                                                                            </td>
                                                                            <td><apex:outputText value="${0, number,###,##0.00}"   >
                                                                                    <apex:param value="{!indFutPays.MinDue}"/>
                                                                                </apex:outputText>
                                                                            </td>
                                                                        </tr>
                                                                    </apex:repeat>
                                                                    <tr style="display:{!if(lstFuturePayments.size > 0,'none;','')}">
                                                                        <td class="center-icon" colspan="2" style="border: none;">
                                                                            <span> You do not have any payments due at this time</span>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
            
                                </div>
                            </div>
                        </div>
                    </apex:outputPanel>    
                </apex:repeat>
            </div>
        </div>
    </div>
    
    <!-- End Primary Billing Account  -->
    <!-- Begin Payments Credits History -->
    <div class="default-full-table row-fluid">
        <div class="span12  bill-sum-section">   
            <div class="bill-sum-title">
                <h1>Payments &amp; Credits History</h1>
            </div>
    
            <table class="table policies-desktop table-striped">
                <thead>
                    <tr>
                        <th class="description">Payment Type</th>
                        <th class="number">Transaction Date</th>
                        <th style="border: none;">Amount</th>
                    </tr>
                </thead>
                <tbody>
                    <apex:repeat value="{!lstPaymentCredits}" var="paymentCredits">
                        <tr>
                            <td><strong><apex:outputText value="{!if(paymentCredits.TransactionType == 'Check', paymentCredits.TransactionType+' '+paymentCredits.CheckNumber,paymentCredits.TransactionType)}"/> </strong></td>
                            <td><apex:outputText value="{0,date,MM'/'dd'/'yy}">
                                    <apex:param value="{!paymentCredits.TransactionDate}" /> 
                                </apex:outputText>
                            </td>
                            <td style="border: none;"><apex:outputText value="${0, number,###,##0.00}">
                                <apex:param value="{!paymentCredits.Amount}"/>
                            </apex:outputText></td>
                        </tr>             
                    </apex:repeat>
                        <tr style="display: {!if(lstPaymentCredits.size == 0, '', 'none;')}">
                            <td colspan="3" class="center-icon" style="border: none;">
                                <span > Your history is currently unavailable at this time</span> 
                            </td>
                        </tr>            

                </tbody>
            </table>
        </div>
    </div>
    <!-- End Payments Credits History -->
    <!-- Desktop Footer begins here-->
        <div class="footer footer-info row-fluid">
            <div class="span12"> 
                <p>Copyright &copy; 2014 Privilege Underwriters Reciprocal Exchange.  All Rights Reserved.</p>
            </div>
        </div>
    <!-- Desktop Footer Ends here-->
    </div>
    </div>
    </body>
      <!-- main-content div End -->
</apex:page>