<apex:page controller="ts2extams.SF1MobileManagerHomeController" doctype="html-5.0" showHeader="false" sidebar="false">
	<style type="text/css">
		#logo img {
			margin: 4% 0% 4% 0%;
			display: block;
			margin-left: auto;
			margin-right: auto;
		}
		.sf1List {
			margin: 0;
			margin-bottom: 8px;
			display: list-item;
			padding: 14px;
			border: solid 1px #cfd4d9;
			list-style: none;
			-webkit-tap-highlight-color: rgba(0, 0, 0, 0);
			color: rgb(60, 61, 62);
			background-color:white;
			border-radius: 10px 10px 10px 10px;
			width:100%;
		}
		ol {
			list-style: none;
			margin: 0;
			padding: 0;
			margin-top: 5px;
			margin-left: 4%;
			width: 80%;
		}


		.sf1List .rr:after {
			width:3%;
			font-family : 'FontAwesome';
			content: " \f054";
			font-size:1em;
			float:right;
			line-height: 50%;
			font-style:normal;
		}
		.sf1List div div{
			width:100%;
		}

		.sf1List div div > span{
			display:inline-block;
			text-align:left;
			font-weight:bold;
		}
		.sf1List div div > span:last-child{
			font-family:'MuliFontLight';
		}
		.sf1List div div + span{
			width:100%;
			display:inline-block;
			text-align:left;

			font-family:'MuliFontItalic';
			font-style:italic;
		}
		@font-face {
		font-family: 'MuliFont';
		src: url('{!URLFOR($Resource.ts2extams__MobileManager, 'MuliFont')}')  format('truetype');
		}
		@font-face {
		font-family: 'MuliFontItalic';
		src: url('{!URLFOR($Resource.ts2extams__MobileManager, 'MuliFontItalic')}')  format('truetype');
		}
		@font-face {
		font-family: 'MuliFontLight';
		src: url('{!URLFOR($Resource.ts2extams__MobileManager, 'MuliFontLight')}')  format('truetype');
		}
		@font-face {
		font-family : 'FontAwesome';
		src: url('{!URLFOR($Resource.ts2extams__MobileManager, 'FontAwesome')}') format('truetype');
		}
		.subtitle {
			font-family : 'MuliFont';
			/*font-weight:bold;*/
			margin-left:3%;
			font-size:1.4em;
		}
		.subtitle span:after{
			font-family : 'FontAwesome';
			content: " \f078";
			font-size:1em;
		}
	</style>
	<div id="logo"><apex:image url="{!URLFOR($Resource.ts2extams__MobileManager, 'jsciencelogo.png')}"/></div>
	<apex:pagemessages />
	<script type="text/javascript">
		function handleResult(result){
			if(result == null){
				alert('There is no Approval need for this Submittal');
			}
			else{
				sforce.one.navigateToSObject(result);
			}
		}
		function getProcessId(ApprovalId) {
			Visualforce.remoting.Manager.invokeAction(
				'{!$RemoteAction.SF1MobileManagerHomeController.getApproval}',
				ApprovalId,
				handleResult
			);

		}
	</script>
	<div style="margin-left:3%;">
		<div class="subtitle"><span>My Submittals</span></div>
		<section>
			<ol>
				<apex:repeat value="{!AwaitingList}" var="row">
					<li class="sf1List" onClick="getProcessId('{!row.Id}');">
						<div class="content">
							<div>
								<span>{!row.ts2__Candidate__r.Name}</span> -
								<span>{!row.ts2__Job__r.Name}</span>
							</div>
							<span class="rr">{!row.ts2__Status__c}</span>
						</div>
					</li>
				</apex:repeat>
			</ol>
		</section>

		<div style="height:20px;"></div>

		<div class="subtitle"><span>My Interviews</span></div>
		<section>
			<ol>
				<apex:repeat value="{!IntervewList}" var="row" rendered="{!!$Setup.ts2__ApplicantManagementSystem__c.SF1_Enable_Mobile_Manager_ISM_Mode__c}">
					<li class="sf1List" onClick="sforce.one.navigateToSObject('{!row.Id}','detail');">
						<div class="content">
							<div>
								<span>{!row.ts2__Candidate__r.Name}</span> -
								<span>{!row.ts2__Job__r.Name}</span>
							</div>
							<span class="rr">{!row.ts2extams__Substatus__c}</span>
						</div>
					</li>
				</apex:repeat>
				<apex:repeat value="{!InterviewSessionList}" var="row" rendered="{!$Setup.ts2__ApplicantManagementSystem__c.SF1_Enable_Mobile_Manager_ISM_Mode__c}">
					<li class="sf1List" onClick="sforce.one.navigateToSObject('{!row['Id']}','detail');">
						<div class="content">
							<div>
								<span>{!row['Name']}</span> -
								<span>{!row['Job']}</span>
							</div>
							<span class="rr">{!row['Substatus']}</span>
						</div>
					</li>
				</apex:repeat>
			</ol>
		</section>

		<div style="height:20px;"></div>

		<div class="subtitle"><span>My Offers</span></div>
		<section>
			<ol>
				<apex:repeat value="{!OfferList}" var="row">
					<li class="sf1List" onClick="getProcessId('{!row.Id}');">
						<div class="content">
							<div>
								<span>{!row.ts2__Candidate__r.Name}</span> -
								<span>{!row.ts2__Job__r.Name}</span>
							</div>
							<span class="rr">{!row.ts2__Status__c}</span>
						</div>
					</li>
				</apex:repeat>
			</ol>
		</section>
	</div>
</apex:page>