<apex:page controller="SL_SearchArticlesController" id="pageId">
	<head>
		<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css"/>
	  	<script src="//code.jquery.com/jquery-1.10.2.js"></script>
	  	<script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>	
	</head>
	<apex:form id="formId">
		<table cellspacing="0" cellpadding="0" style="width:100%;">
			<tr>
				<td><label>Search By Title:</label></td>
				<td>
					<apex:inputText id="searchString" value="{!strSearchString}"/>
					<script>	 
						$('[id$=searchString]').autocomplete({
							source : function(request,response){
								SL_SearchArticlesController.getMatchedArticles(request.term, function(result,event){
									response(result);
								})
							}
						});
					</script>
				</td>		
				<td><label>Search By Article Type:</label></td>
				<td>
					<apex:selectList value="{!strSelectArticleType}" size="1">
						<apex:actionSupport event="onchange" action="{!searchArticles}" reRender="searchResults"></apex:actionSupport>
						<apex:selectOptions value="{!ArticleTypes}"/>
					</apex:selectList>
				</td>
				<td><label>Search By Data Category:</label></td>
				<td>
					<apex:selectList value="{!strSelectedDataCategory}" size="1">
						<apex:actionSupport event="onchange" action="{!searchArticles}" reRender="searchResults"></apex:actionSupport>
						<apex:selectOptions value="{!DataCategory}"/>
					</apex:selectList>
				</td>
			</tr>
		</table>
		<center><apex:commandButton value="Search" style="margin-top:30px;" action="{!searchArticles}" rerender="searchResults"/></center>
		
		<apex:outputPanel id="searchResults">
			<apex:outputPanel rendered="{!lstKAV.size > 0}">
				<table cellspacing="0" cellpadding="0" style="width:100%;margin-top:10px;" border="1">
					<thead>
						<th>Title</th>
						<th>Summary</th>
					</thead>
					<tbody>
						<apex:repeat value="{!lstKAV}" var="objKAV">
							<tr>
								<td><a href="/{!objKAV.Id}" target="_blank">{!objKAV.Title}</a></td>
								<td>{!objKAV.Summary}</td>
							</tr>
						</apex:repeat>
					</tbody>
				</table>
			</apex:outputPanel>
		</apex:outputPanel>
	</apex:form>
</apex:page>