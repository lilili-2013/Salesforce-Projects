<apex:page controller="DSE.DS_SetupWizardController" standardStylesheets="true"  sidebar="true" showheader="true" tabStyle="Account">

<apex:form >
<c:DS_SetupWizardCommon />
<apex:outputpanel id="WizardButtons1" rendered="{!s_showNewPage==false}">
    <c:DS_SetupWizardButtons />
</apex:outputpanel>

<apex:pageBlock id="Topper">  
    <apex:pageMessages id="pageMessageBit" /> 
    <apex:pageBlockSection columns="1" showHeader="true"  title="Deduplication" collapsible="true" rendered="{!s_showNewPage==false}">

    
     <apex:commandButton value="{!$Label.dse__S_Wizard_NewDeDuplication}" rerender="WizardButtons1,WizardButtons2" >
             <apex:actionSupport action="{!s_NewDoc}"  event="onclick" />  
     </apex:commandButton>  
    
     <!-- ************************************************************************************************** -->
    <!-- ************************************** Data Table ************************************************ -->
    <!-- ************************************************************************************************** -->     
     <apex:pageBlockTable value="{!ds_c_Matching}" var="datamatch" id="IntTable" rendered="{!s_showNewPage==false}" rows="{!Int_PageLength}" first="{!Int_PagePosn}" >
        <apex:column width="200">  
            <apex:facet name="header">Name</apex:facet>
            <apex:commandlink value="{!$Label.dse__DS_Wizard_Edit}" action="{!s_EditThisDoc}">
                <apex:param name="IDParam" value="{!datamatch.id}" /> 
            </apex:commandlink> 
            &nbsp;|&nbsp;
            <apex:commandlink value="{!$Label.dse__DS_Wizard_Delete}" action="{!s_DeleteThisDoc}"  >
                <apex:param name="IDParam" value="{!datamatch.id}" />
            </apex:commandlink> 
             &nbsp;&nbsp;  
             <apex:OutputText value="{!datamatch.Name}" /> 
        </apex:column>
        
        <apex:column width="200" >  
            <apex:facet name="header">Duplicate Check Threshold</apex:facet>
            <apex:OutputText value="{!datamatch.DSE__DS_Duplicate_Check_Threshold__c}"/>
        </apex:column>      
        <apex:column width="200" >  
            <apex:facet name="header">High Match Threshold</apex:facet>
            <apex:OutputText value="{!datamatch.DSE__DS_High_Matching_Threshold__c}"/>
        </apex:column>  
        <apex:column width="200" >  
            <apex:facet name="header">Keep Duplicates When Re-Processing</apex:facet>
            <apex:OutputText value="{!datamatch.DSE__DS_Keep_Duplicates__c}"/>
        </apex:column>  
    </apex:pageBlockTable> 
    
        <apex:outputpanel id="IntTableButtons">
        <apex:commandlink value="<<" action="{!s_NextPrevScroll}" rendered="{!Int_PageCount>=Int_PageLength}" rerender="IntTable,IntTableButtons">
             <apex:param name="PageToScroll" value="Int" /> 
             <apex:param name="ForwardsBackwards" value="Start" />
        </apex:commandlink>&nbsp;&nbsp;&nbsp;
        <apex:commandlink value="Previous" action="{!s_NextPrevScroll}" rerender="IntTable,IntTableButtons" rendered="{!ShowPrevTable1}">
             <apex:param name="PageToScroll" value="Int" /> 
             <apex:param name="ForwardsBackwards" value="Backwards" /> 
        </apex:commandlink>&nbsp;&nbsp;
        <apex:commandlink value="Next" action="{!s_NextPrevScroll}" rerender="IntTable,IntTableButtons" rendered="{!ShowNextTable1}">
             <apex:param name="PageToScroll" value="Int" /> 
             <apex:param name="ForwardsBackwards" value="Forwards" />
        </apex:commandlink>
         &nbsp;&nbsp;&nbsp;<apex:commandlink value=">>" action="{!s_NextPrevScroll}" rendered="{!Int_PageCount>=Int_PageLength}" rerender="IntTable,IntTableButtons" >
             <apex:param name="PageToScroll" value="Int" /> 
             <apex:param name="ForwardsBackwards" value="End" />
        </apex:commandlink>
    </apex:outputpanel>

 
    <!-- ************************************************************************************************** -->  
    </apex:pageBlockSection>
    
    <div style="text-align: center;">
        <apex:commandButton value="{!$Label.dse__DS_Wizard_SaveDeDuplication}" action="{!s_SaveThisDoc}" rendered="{!s_showNewPage}" rerender="Topper"/>
        <apex:commandButton value="{!$Label.dse__DS_Wizard_Cancel}" action="{!s_CancelSave}"   rendered="{!s_showNewPage}" immediate="true" />
        <apex:commandButton value="{!if(ShowAdvanced==false,$Label.dse__DS_Wizard_Advanced1,$Label.dse__DS_Wizard_Advanced2)}"  rendered="{!s_showNewPage}" immediate="true" rerender="Topper">
            <apex:param name="ShowAdvanced" value="{!if(ShowAdvanced,false,true)}" assignTo="{!ShowAdvanced}"/>
        </apex:commandButton>   
    </div>  
    
    <apex:pageBlockSection columns="2" showHeader="true"  title="Information" collapsible="true" rendered="{!s_showNewPage}">
        <apex:inputField onChange="s_MakeDirty()" value="{!s_400_NewMatching.ds_Match.Name}"/>
        <apex:inputField onChange="s_MakeDirty()" value="{!s_400_NewMatching.ds_Match.DSE__DS_Max_Score__c}"/>    
        <apex:inputField onChange="s_MakeDirty()" value="{!s_400_NewMatching.ds_Match.DSE__DS_Keep_Duplicates__c}"/>
        <apex:inputField label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_Duplicate_Check_Threshold__c.label}" value="{!s_400_NewMatching.DS_Match.DSE__DS_Duplicate_Check_Threshold__c}"/>
        <apex:inputField label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_High_Matching_Threshold__c.label}" value="{!s_400_NewMatching.DS_Match.DSE__DS_High_Matching_Threshold__c}"/>
        <apex:inputField label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_Low_Matching_Threshold__c.label}" value="{!s_400_NewMatching.DS_Match.DSE__DS_Low_Matching_Threshold__c}"/>
        <apex:inputField value="{!s_400_NewMatching.ds_Match.DSE__DS_Enable_Native_Salesforce_Matching__c}" />
        <apex:inputField value="{!s_400_NewMatching.ds_Match.DSE__DS_Native_Salesforce_Match_Threshold__c}" />
    </apex:pageBlockSection>
    
    <apex:pageBlockSection columns="2" showHeader="true"  title="Company Information" collapsible="true" rendered="{!s_showNewPage}">
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_NullScore_Billing_City__c.label}" size="1" value="{!s_400_NewMatching.DS_NullScore_Billing_City}"><apex:selectOptions value="{!NullScore}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_NullScore_Billing_Country__c.label}" size="1" value="{!s_400_NewMatching.DS_NullScore_Billing_Country}"><apex:selectOptions value="{!NullScore}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_NullScore_Billing_Postal_Code__c.label}" size="1" value="{!s_400_NewMatching.DS_NullScore_Billing_Postal_Code}"><apex:selectOptions value="{!NullScore}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_NullScore_Billing_State__c.label}" size="1" value="{!s_400_NewMatching.DS_NullScore_Billing_State}"><apex:selectOptions value="{!NullScore}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_NullScore_Billing_Street__c.label}" size="1" value="{!s_400_NewMatching.DS_NullScore_Billing_Street}"><apex:selectOptions value="{!NullScore}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_NullScore_Country_ISO_Code__c.label}" size="1" value="{!s_400_NewMatching.DS_NullScore_Country_ISO_Code}"><apex:selectOptions value="{!NullScore}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_NullScore_Domain__c.label}" size="1" value="{!s_400_NewMatching.DS_NullScore_Domain}"><apex:selectOptions value="{!NullScore}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_NullScore_Legal_Form__c.label}" size="1" value="{!s_400_NewMatching.DS_NullScore_Legal_Form}"><apex:selectOptions value="{!NullScore}"/></apex:selectList>
        
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_Weighting_Billing_City__c.label}" size="1" value="{!s_400_NewMatching.DS_Weighting_Billing_City}"><apex:selectOptions value="{!Thresholds}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_Weighting_Billing_Country__c.label}" size="1" value="{!s_400_NewMatching.DS_Weighting_Billing_Country}"><apex:selectOptions value="{!Thresholds}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_Weighting_Billing_Postal_Code__c.label}" size="1" value="{!s_400_NewMatching.DS_Weighting_Billing_Postal_Code}"><apex:selectOptions value="{!Thresholds}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_Weighting_Billing_State__c.label}" size="1" value="{!s_400_NewMatching.DS_Weighting_Billing_State}"><apex:selectOptions value="{!Thresholds}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_Weighting_Billing_Street__c.label}" size="1" value="{!s_400_NewMatching.DS_Weighting_Billing_Street}"><apex:selectOptions value="{!Thresholds}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_Weighting_Country_ISO_Code__c.label}" size="1" value="{!s_400_NewMatching.DS_Weighting_Country_ISO_Code}"><apex:selectOptions value="{!Thresholds}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_Weighting_Domain__c.label}" size="1" value="{!s_400_NewMatching.DS_Weighting_Domain}"><apex:selectOptions value="{!Thresholds}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_Weighting_Legal_Form__c.label}" size="1" value="{!s_400_NewMatching.DS_Weighting_Legal_Form}"><apex:selectOptions value="{!Thresholds}"/></apex:selectList>  
    </apex:pageBlockSection>
    
    <apex:pageBlockSection columns="2" showHeader="true"  title="Contact Information" collapsible="true" rendered="{!s_showNewPage}">
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_NullScore_First_Name__c.label}" size="1" value="{!s_400_NewMatching.DS_NullScore_First_Name}"><apex:selectOptions value="{!NullScore}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_NullScore_Last_Name__c.label}" size="1" value="{!s_400_NewMatching.DS_NullScore_Last_Name}"><apex:selectOptions value="{!NullScore}"/></apex:selectList> 
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_NullScore_Name__c.label}" size="1" value="{!s_400_NewMatching.DS_NullScore_Name}"><apex:selectOptions value="{!NullScore}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_NullScore_Birthdate__c.label}" size="1" value="{!s_400_NewMatching.DS_NullScore_Birthdate}"><apex:selectOptions value="{!NullScore}"/></apex:selectList> 
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_NullScore_Email__c.label}" size="1" value="{!s_400_NewMatching.DS_NullScore_Email}"><apex:selectOptions value="{!NullScore}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_NullScore_Phone__c.label}" size="1" value="{!s_400_NewMatching.DS_NullScore_Phone}"><apex:selectOptions value="{!NullScore}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_NullScore_Mobile_Phone__c.label}" size="1" value="{!s_400_NewMatching.DS_NullScore_Mobile_Phone}"><apex:selectOptions value="{!NullScore}"/></apex:selectList>
        
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_Weighting_First_Name__c.label}" size="1" value="{!s_400_NewMatching.DS_Weighting_First_Name}"><apex:selectOptions value="{!Thresholds}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_Weighting_Last_Name__c.label}" size="1" value="{!s_400_NewMatching.DS_Weighting_Last_Name}"><apex:selectOptions value="{!Thresholds}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_Weighting_Birthdate__c.label}" size="1" value="{!s_400_NewMatching.DS_Weighting_Birthdate}"><apex:selectOptions value="{!Thresholds}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_Weighting_Email__c.label}" size="1" value="{!s_400_NewMatching.DS_Weighting_Email}"><apex:selectOptions value="{!Thresholds}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_Weighting_Name__c.label}" size="1" value="{!s_400_NewMatching.DS_Weighting_Name}"><apex:selectOptions value="{!Thresholds}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_Weighting_Mobile_Phone__c.label}" size="1" value="{!s_400_NewMatching.DS_Weighting_Mobile_Phone}"><apex:selectOptions value="{!Thresholds}"/></apex:selectList>      
    </apex:pageBlockSection>
    

    
    <apex:pageBlockSection columns="2" showHeader="true"  title="Custom Fields" collapsible="true" rendered="{!s_showNewPage && ShowAdvanced}">
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_NullScore_Custom_Field_1__c.label}" size="1" value="{!s_400_NewMatching.DS_NullScore_Custom_Field_1}"><apex:selectOptions value="{!NullScore}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_NullScore_Custom_Field_2__c.label}" size="1" value="{!s_400_NewMatching.DS_NullScore_Custom_Field_2}"><apex:selectOptions value="{!NullScore}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_NullScore_Custom_Field_3__c.label}" size="1" value="{!s_400_NewMatching.DS_NullScore_Custom_Field_3}"><apex:selectOptions value="{!NullScore}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_NullScore_Custom_Field_4__c.label}" size="1" value="{!s_400_NewMatching.DS_NullScore_Custom_Field_4}"><apex:selectOptions value="{!NullScore}"/></apex:selectList>   
        
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_Weighting_Custom_Field_1__c.label}" size="1" value="{!s_400_NewMatching.DS_Weighting_Custom_Field_1}"><apex:selectOptions value="{!Thresholds}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_Weighting_Custom_Field_2__c.label}" size="1" value="{!s_400_NewMatching.DS_Weighting_Custom_Field_2}"><apex:selectOptions value="{!Thresholds}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_Weighting_Custom_Field_3__c.label}" size="1" value="{!s_400_NewMatching.DS_Weighting_Custom_Field_3}"><apex:selectOptions value="{!Thresholds}"/></apex:selectList>
        <apex:selectList label="{!$ObjectType.DSE__DS_Matching__c.fields.DSE__DS_Weighting_Custom_Field_4__c.label}" size="1" value="{!s_400_NewMatching.DS_Weighting_Custom_Field_4}"><apex:selectOptions value="{!Thresholds}"/></apex:selectList>      
    </apex:pageBlockSection>
    

    <div style="text-align: center;">
        <apex:commandButton value="{!$Label.dse__DS_Wizard_SaveDataSource}" action="{!s_SaveThisDoc}" rendered="{!s_showNewPage}" rerender="Topper"/>
        <apex:commandButton value="{!$Label.dse__DS_Wizard_Cancel}" action="{!s_CancelSave}"   rendered="{!s_showNewPage}" immediate="true" />  
        <apex:commandButton value="{!if(ShowAdvanced==false,$Label.dse__DS_Wizard_Advanced1,$Label.dse__DS_Wizard_Advanced2)}"  rendered="{!s_showNewPage}" immediate="true" rerender="Topper">
            <apex:param name="ShowAdvanced" value="{!if(ShowAdvanced,false,true)}" assignTo="{!ShowAdvanced}"/>
        </apex:commandButton> 
    </div>   
</apex:pageBlock>  


<apex:outputpanel id="WizardButtons2" rendered="{!s_showNewPage==false}">
    <c:DS_SetupWizardButtons />
</apex:outputpanel>

</apex:form>
</apex:page>