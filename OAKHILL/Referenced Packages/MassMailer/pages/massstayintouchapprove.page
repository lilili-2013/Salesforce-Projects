<apex:page controller="sendgrid4sf.ctrl_MassStayinTouchApprove" tabStyle="Send_Grid_Emails__tab" standardStylesheets="true" id="thepage">

<style>
.datacol1
{
margin: 0px; vertical-align: top; padding: 3px 2px 3px 10px; border-bottom-width: 0px; border-bottom-style: none; border-top-color: rgb(236, 236, 236); border-right-color: transparent; border-left-color: rgb(236, 236, 236); width: 328px;
}

.labcol
{
color: rgb(74, 74, 86); margin: 0px; vertical-align: top; padding: 3px 10px 3px 2px; text-align: right; font-size: 11px;font-weight:bold; border-bottom-width: 0px; border-bottom-style: none; border-top-color: rgb(236, 236, 236); border-right-color: rgb(236, 236, 236); border-left-color: rgb(236, 236, 236); width: 179px;
}
.datacol2
{
margin: 0px; vertical-align: top; padding: 3px 2px 3px 10px; border-bottom-width: 0px; border-bottom-style: none; border-top-color: rgb(236, 236, 236); border-right-color: transparent; border-left-color: rgb(236, 236, 236); width: 328px;
}

</style>

<script>



    function openDocumentPopup2(ide,name)
    {
                          
        var url ;
        var acc1 ;
        acc1=document.getElementById('thepage:theform:thepb:company').value;
        url = "massstayintouchaccountpopup?id="+ide+"&acc="+acc1;    
        openWind(url);    
        
        return false;           
                
    }
    
    function openWind(URL)    
    {
 
        curPopupWindow = window.open(URL, "_blank","width=650, height=475,dependent=no,resizable=yes,toolbar=no,status=no,directories=no,menubar=no,scrollbars=1", false);            
  
    }
    
    function setSelectedDocumentDetails2(etId, etName )
            {                                             
            
              var abc='{!check18}';         
              document.getElementById('thepage:theform:thepb:company').value =etName;
              document.getElementById('thepage:theform:thepb:accid').value =etId;   
              if(abc=='true')
              {              
              document.getElementById('thepage:theform:thepb:cherror').style.display = 'none';
                            document.getElementById('thepage:pagemessage').style.display = 'none';
              
               }             
               
                if(curPopupWindow != null)                                               
                    curPopupWindow.close();                
                 
                return false;                
            }

</script>

<apex:sectionHeader title="Stay-in-Touch Edit" />
<apex:pageMessages id="pagemessage" ></apex:pageMessages>
<apex:form id="theform" >
<apex:outputPanel rendered="{!hidepage}">
<apex:outputtext escape="false" ><p >This person has submitted a response to your Stay-in-Touch request. Use this page to review and edit responses, then click one of the buttons below to accept or reject the changes.</p><br/></apex:outputtext>
 
  

  <apex:pageBlock tabStyle="contact" mode="edit" id="thepb">
  <apex:pageBlockButtons >
  <apex:commandButton value="Accept Changes"  action="{!updatecontact}"/> 
  <apex:commandButton value="Reject Changes" action="{!rejectchanges}"/>
  
</apex:pageBlockButtons> 
<apex:pageBlockSection title="Contact Information">
</apex:pageBlockSection>


     
 <div class="pbBody" id="thecom">
           
            <div class="pbSubsection">
                <table border="0" cellpadding="0" cellspacing="0"  style="width: 1061px;">
                    <tbody>
                        <tr>
                            <td class="labcol">
                                <h1>
                                    Contact Owner</h1>
                            </td>
                            <td class="datacol2">
                                {!con.owner.name}</td>
                                
                                <apex:outputPanel rendered="{!if(ispersonacc==true,false,true)}">
                            <td class="labcol">
                                Company</td>
                            <td class="datacol1">
                       
  <span ><apex:inputfield id="company"  value="{!updatecon1.sendgrid4sf__Company__c}" taborderhint="10"/><a href="#"   onclick="return openDocumentPopup2('{!jsencode(updatecon1.id)}','{!jsencode(updatecon1.company__c)}')" ><img src="https://ap1.salesforce.com/s.gif" class="lookupIcon" /></a></span>
                                <apex:inputHidden id="accid" value="{!accid}"/>
                              
                                <apex:outputPanel id="cherror" rendered="{!check18}" >
                                <div  style="color: rgb(204, 0, 0);">
                                    <strong>Error:</strong> No matches found.</div>
                                    </apex:outputPanel>
                                <br />
                                <span> <font style="font-size:93%;color: rgb(88, 137, 214);" ><apex:outputText rendered="{!check0}" >Previous: {!con.account.name}</apex:outputText></font> </span></td>
                        </apex:outputPanel>
                        
                        </tr>  
                        <tr>
                            <td class="labcol">
                                Salutation</td>
                            <td class="datacol2">
                                <apex:inputfield value="{!updatecon1.sendgrid4sf__Salutation__c}" taborderhint="1"/><br/>
                                <span><font style="font-size:93%;color: rgb(88, 137, 214);" ><apex:outputtext rendered="{!check1}">Previous: {!con.salutation}</apex:outputtext></font></span><br />
                                </td>
                            <td class="labcol">
                                Title</td>
                            <td class="datacol1">
                                <apex:inputfield id="p10"  value="{!updatecon1.sendgrid4sf__Title__c}" taborderhint="11"/><br />
                                <span><font style="font-size:93%;color: rgb(88, 137, 214);" ><apex:outputtext rendered="{!check2}">Previous: {!con.title}</apex:outputtext></font></span></td>
                        </tr>
                        <tr>
                            <td class="labcol">
                                First Name</td>
                            <td class="datacol2">
                                <apex:inputfield id="p1"   value="{!updatecon1.sendgrid4sf__First_Name__c}" taborderhint="2" /><br />
                                <span><font style="font-size:93%;color: rgb(88, 137, 214);" ><apex:outputtext rendered="{!check3}">Previous: {!con.firstname}</apex:outputtext></font></span></td>
                            <td class="labcol">
                                Department</td>
                            <td class="datacol1">
                                <apex:inputfield id="p11"   value="{!updatecon1.sendgrid4sf__Department__c}" taborderhint="12"/><br />
                                <span><font style="font-size:93%;color: rgb(88, 137, 214);" ><apex:outputtext rendered="{!check4}" >Previous: {!con.department}</apex:outputtext></font></span></td>
                        </tr>
                        <tr>
                            <td class="labcol requiredInput">
                                Last Name</td>
                            <td class="datacol2">
                              <!-- <div class="requiredInput">
                                    <div class="requiredBlock">
                                        &nbsp;</div> -->
                                   <apex:inputfield id="p2" value="{!updatecon1.sendgrid4sf__Last_Name__c}" taborderhint="3"/><br />
                                    <span><font style="font-size:93%;color: rgb(88, 137, 214);" ><apex:outputtext rendered="{!check5}">Previous: {!con.lastname}</apex:outputtext></font></span> <!--</div>-->
                            </td>
                            <td class="labcol">
                                Phone</td>
                            <td class="datacol1">
                                <apex:inputfield id="p12"   value="{!updatecon1.sendgrid4sf__Phone__c}" taborderhint="13"/><br />
                                <span><font style="font-size:93%;color: rgb(88, 137, 214);" ><apex:outputtext rendered="{!check6}">Previous: {!con.phone}</apex:outputtext></font></span></td>
                        </tr>
                        <tr>
                            <td class="labcol">
                                Mailing Street</td>
                            <td class="datacol2">
                            <apex:inputfield style="width: 282px; height: 42px;" value="{!updatecon1.sendgrid4sf__Mailing_Street__c}" taborderhint="4"/><br />
                            
                                <span class="updateMsg"><font style="font-size:93%;color: rgb(88, 137, 214);" ><apex:outputtext rendered="{!check7}">Previous: {!con.MailingStreet}</apex:outputtext></font></span></td>
                            <td class="labcol">
                                Fax</td>
                            <td class="datacol1">
                                <apex:inputfield id="p15"   value="{!updatecon1.sendgrid4sf__Fax__c}" taborderhint="14"/><br />
                                <span><font style="font-size:93%;color: rgb(88, 137, 214);" ><apex:outputtext rendered="{!check8}">Previous: {!con.fax}</apex:outputtext></font></span></td>
                        </tr>
                        <tr>
                            <td class="labcol">
                                Mailing City</td>
                            <td class="datacol2">
                                <apex:inputfield id="p4"  value="{!updatecon1.sendgrid4sf__Mailing_City__c}" taborderhint="5"/><br />
                                <span><font style="font-size:93%;color: rgb(88, 137, 214);" ><apex:outputtext rendered="{!check9}">Previous: {!con.mailingcity}</apex:outputtext></font></span></td>
                            <td class="labcol">
                                Mobile</td>
                            <td class="datacol1">
                                <apex:inputfield id="p13"  value="{!updatecon1.sendgrid4sf__Mobile__c}" taborderhint="15"/><br />
                                <span><font style="font-size:93%;color: rgb(88, 137, 214);" ><apex:outputtext rendered="{!check10}">Previous: {!con.mobilephone}</apex:outputtext></font></span></td>
                        </tr>
                        <tr>
                            <td class="labcol">
                                Mailing State/Province</td>
                            <td class="datacol2">
                                <apex:inputfield id="p5"  value="{!updatecon1.sendgrid4sf__MailingState_Province__c}" taborderhint="6"/><br />
                                <span><font style="font-size:93%;color: rgb(88, 137, 214);" ><apex:outputtext rendered="{!check11}">Previous: {!con.MailingState}</apex:outputtext></font></span></td>
                            <td class="labcol">
                                Home Phone</td>
                            <td class="datacol1">
                                <apex:inputfield id="p14"  value="{!updatecon1.sendgrid4sf__HomePhone__c}" taborderhint="16"/><br />
                                <span><font style="font-size:93%;color: rgb(88, 137, 214);" ><apex:outputtext rendered="{!check12}">Previous: {!con.homephone}</apex:outputText></font></span></td>
                        </tr>
                        <tr>
                            <td class="labcol"> 
                                Mailing Zip/Postal Code</td>
                            <td class="datacol2">
                                <apex:inputfield id="p6"  value="{!updatecon1.sendgrid4sf__Mailingpostalcode__c}" taborderhint="7"/><br />
                                <span><font style="font-size:93%;color: rgb(88, 137, 214);" ><apex:outputtext rendered="{!check13}">Previous: {!con.MailingPostalCode}</apex:outputtext></font></span></td>
                            <td class="labcol">
                                Assistant</td>
                            <td class="datacol1">
                                <apex:inputfield id="p16"  value="{!updatecon1.sendgrid4sf__Assistant__c}" taborderhint="17"/><br />
                                <span><font style="font-size:93%;color: rgb(88, 137, 214);" ><apex:outputtext rendered="{!check14}">Previous: {!con.AssistantName}</apex:outputtext></font></span></td>
                        </tr>
                        <tr>
                            <td class="labcol">
                                Mailing Country</td>
                            <td class="datacol2">
                                <apex:inputfield id="p7"  value="{!updatecon1.sendgrid4sf__Mailing_Country__c}" taborderhint="8"/><br />
                                <span><font style="font-size:93%;color: rgb(88, 137, 214);" ><apex:outputtext rendered="{!check15}">Previous: {!con.MailingCountry }</apex:outputtext></font></span></td>
                            <td class="labcol">
                                Asst. Phone</td>
                            <td class="datacol1">
                               <apex:inputfield id="p17"  value="{!updatecon1.sendgrid4sf__Asst_Phone__c}" taborderhint="18"/><br />
                                <span><font style="font-size:93%;color: rgb(88, 137, 214);" ><apex:outputtext rendered="{!check16}">Previous: {!con.AssistantPhone}</apex:outputtext></font></span></td>
                        </tr>
                        <tr>
                            <td class="labcol">
                                Email</td>
                            <td class="datacol2">
                               <!-- <div class="requiredInput">
                                    <div class="requiredBlock">
                                        &nbsp;</div> -->
                                    <apex:inputField id="p8"  value="{!updatecon1.sendgrid4sf__Email__c}" taborderhint="9"/><br />
                                    <span><font style="font-size:93%;color: rgb(88, 137, 214);" ><apex:outputtext rendered="{!check17}">Previous: {!con.email}</apex:outputtext></font></span>
                            </td>
                           <apex:outputPanel rendered="{!isselectedfieldfirst}">

                            <td class="labcol">
                                {!firstlabel}
                                </td>
                                <td class="datacol1">
                            <!--<apex:variable value="{!labelsmap[rt]}" var="lab"/>-->
                         <apex:inputtext value="{!labelfields[firstlabel]}" /><br />
                                <span><font style="font-size:93%;color: rgb(88, 137, 214);" ><apex:outputtext rendered="{!checkpreviousmap[firstlabel]}">Previous: {!con[labelfieldmap[firstlabel]]}</apex:outputtext></font></span></td>
                            
                                                      </apex:outputPanel>
  
                                
                        </tr>
                            <apex:repeat value="{!labelsmap}" var="rt">
                            <tr>

                         <td class="labcol">
                                {!rt}</td>
                       <td class="datacol2">
                           <apex:inputtext value="{!labelfields[rt]}" /><br />
                                <span><font style="font-size:93%;color: rgb(88, 137, 214);" ><apex:outputtext rendered="{!checkpreviousmap[rt]}">Previous: {!con[labelfieldmap[rt]]}</apex:outputtext></font></span></td>

                        <td class="labcol">
                               {!labelsmap[rt]} </td>
                            <td class="datacol1">
                            <!--<apex:variable value="{!labelsmap[rt]}" var="lab"/>-->
                         <apex:inputtext value="{!labelfields[labelsmap[rt]]}" /><br />
                                <span><font style="font-size:93%;color: rgb(88, 137, 214);" ><apex:outputtext rendered="{!checkpreviousmap[labelsmap[rt]]}">Previous: {!con[labelfieldmap[labelsmap[rt]]]}</apex:outputtext></font></span></td>
                            </tr>

                        </apex:repeat>
                        <apex:outputPanel rendered="{!isselectedfieldodd}">
                        <tr><td class="labcol">{!oddlabel}</td><td class="datacol2"> <apex:inputtext value="{!labelfields[oddlabel]}" /><br />
                                <span><font style="font-size:93%;color: rgb(88, 137, 214);" ><apex:outputtext rendered="{!checkpreviousmap[oddlabel]}">Previous: {!con[labelfieldmap[oddlabel]]}</apex:outputtext></font></span></td>

</tr>
                        </apex:outputPanel>
                                          </tbody>
                </table>
                          </div></div>



<!--
<table cellspacing="0px">
<tr>
<td>

<apex:inputfield value="{!updatecon1.sendgrid4sf__Salutation__c}" label="Salutation"/>
<br/>
<apex:outputtext value="{!con.salutation}" label="Previous:"/>
</td>
<td>
<apex:inputField value="{!updatecon1.sendgrid4sf__Company__c}" label="Company"/><br/>
<apex:outputText value="{!updatecon1.sendgrid4sf__Company__c}"></apex:outputText>

</td>
</tr>
</table>


<apex:inputfield value="{!updatecon1.sendgrid4sf__Title__c}" label="Title"/>
<apex:inputfield value="{!updatecon1.sendgrid4sf__First_Name__c}" label="First Name"/>
<apex:inputfield value="{!updatecon1.sendgrid4sf__Department__c}" label="Department"/>
<apex:inputfield value="{!updatecon1.sendgrid4sf__Last_Name__c}" label="Last Name"/>
<apex:inputfield value="{!updatecon1.sendgrid4sf__Phone__c}" label="Phone"/>
<apex:inputField value="{!updatecon1.sendgrid4sf__Fax__c}" label="Fax"/>
<apex:inputfield value="{!updatecon1.sendgrid4sf__Mailing_Street__c}" label="Mailing Street" />
<apex:inputfield value="{!updatecon1.sendgrid4sf__Mobile__c}" label="Mobile Phone"/>
<apex:inputfield value="{!updatecon1.sendgrid4sf__Mailing_City__c}" label="Mailing City"/>
<apex:inputfield value="{!updatecon1.sendgrid4sf__HomePhone__c}" label="Home Phone"/>
<apex:inputfield value="{!updatecon1.sendgrid4sf__MailingState_Province__c}" label="Mailing State"/>
<apex:inputfield value="{!updatecon1.sendgrid4sf__Assistant__c}" label="Assistance"/>
<apex:inputfield value="{!updatecon1.sendgrid4sf__Mailingpostalcode__c}" label="Mailing PostalCode"/>
<apex:inputfield value="{!updatecon1.sendgrid4sf__Asst_Phone__c}" label="Assistance Phone"/>
<apex:inputfield value="{!updatecon1.sendgrid4sf__Mailing_Country__c}" label="Mailing Country"/>
<apex:inputfield value="{!updatecon1.sendgrid4sf__Email__c}" label="email"/> 
-->
  
 
    
  </apex:pageBlock>
  </apex:outputPanel>
  <apex:pageblock rendered="{!Updatecontact}">
    <div align="center">
  Contact updated successfully.Please click on Ok to see the changes on detail page.
  <br/><br/>

  <apex:commandbutton value="OK" action="{!OkCheck}"/>
  </div>
  </apex:pageblock>
   <apex:pageblock rendered="{!rejCon}">
   <div align="center">
  No updates were made to contact.Please click on Ok to go to detail page.
  
  <br/><br/>
 
  <apex:commandbutton value="OK" action="{!OkCheck}"/>
  </div>
  </apex:pageblock>
  
  </apex:form>
  
</apex:page>