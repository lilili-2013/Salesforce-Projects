<apex:page showheader="false" sidebar="false" controller="SL_UploadAttachmentController">
    <head>
         <apex:outputPanel rendered="{!strCustomSettingName == 'si'}">
             <meta charset="utf-8"/>
             <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
             <meta name="viewport" content="width=device-width, initial-scale=1"/>
             <apex:stylesheet value="{!URLFOR($Resource.SL_WaterCooler, 'css/bootstrap.min.css')}" />
             <apex:stylesheet value="{!URLFOR($Resource.SL_WaterCooler, 'css/style.css')}"/>
             <apex:stylesheet value="http://fonts.googleapis.com/css?family=Roboto:400,100,300,300italic,100italic,400italic,900,900italic" />
             <apex:stylesheet value="{!URLFOR($Resource.SL_WaterCooler, 'css/font-awesome.min.css')}"/>
         </apex:outputPanel>
    </head>
    <apex:form >
        <apex:actionFunction action="{!createAttachment}" name="createAttachmentAF"/>
        <apex:inputFile value="{!objAttachment.body}" filename="{!objAttachment.name}" id="inputFileId" onChange="validateFileSize();"/>
        <apex:inputHidden value="{!caseId}" id="caseAttId"/>
        <script>
            function updateURL(parentId)
            {
                document.getElementById('{!$Component.caseAttId}').value = parentId;
                createAttachmentAF();
            }
            
            function validateFileSize()
            {
                var fileObject = document.getElementById('{!$Component.inputFileId}').files[0];
                if(fileObject.size > 25000000)
                {
                    alert('Please upload file with size less than 25 MB.');
                    document.getElementById('{!$Component.inputFileId}').value=null;
                }
            }
            
            if({!controllerCalled} == true)
            {
                if('{!strCustomSettingName}' != 'si')
                    window.parent.submitFormAF1(); 
                else
                {
                    window.parent.redirectToHelpPage();
                }
            }
        </script>
     </apex:form>
</apex:page>