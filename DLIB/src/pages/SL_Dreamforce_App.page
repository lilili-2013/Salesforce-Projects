<apex:page docType="html-5.0"
           showHeader="false" sidebar="false"
           standardController="Contact">  
       
    <apex:stylesheet value="{!URLFOR($Resource.MobileSample_Resources_jQueryMobile, 'jquery.mobile-1.3.0.css')}"/>
    <apex:includeScript value="{!URLFOR($Resource.MobileSample_Resources_jQueryMobile, 'jquery-1.9.1.min.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.MobileSample_Resources_jQueryMobile, 'jquery.mobile-1.3.0.min.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.MobileSample_Resources_jQueryMobile, 'cordova.force.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.MobileSample_Resources_jQueryMobile, 'backbone/underscore-1.4.4.min.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.MobileSample_Resources_jQueryMobile, 'force.entity.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.MobileSample_Resources_jQueryMobile, 'SObjectData.js')}"/>
    <head>
        
        <title>Dreamforce Dominator</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=1" />
        <c:RemoteTK />
        
        <script type="text/javascript">
            var $j = jQuery.noConflict(); 
            var client = new remotetk.Client();
            Force.init(null,null,client,null);
            
            var Contacts = new SObjectData();
            Contacts.errorHandler = displayError;
            
            $j(document).on("pagebeforeshow","#achievement", function(event){
            console.log(navigator.userAgent.toLowerCase());
                $j('#track').find('option:first').attr('selected', true);
                $j('#track').selectmenu('refresh');
                $j('#achs').selectmenu('disable');
                    $j('#track').on('change',function (event, ui) {
                 getAllAchievements();
                 $j('#achs').selectmenu('enable');
                 });
                 $j('#create').click(function() {
                 makeAch();
            });
            });;
            
            $j(document).on("pagebeforeshow","#leaderboard", function(event){
                
                $j('#fullPointsL').click(function() {
                 getPoints();
                 });
                $j('#dailyPointsL').click(function() {
                 getDailyPoints();
                 });
            });;
            
            $j(document).on("pagebeforeshow","#achEdit", function(event){
                $j('#achHeader').text($j('#achNameEdit').val());
                
            });;
            
            $j(document).on("pageinit","#contacts", function(event){
                getAllContacts();
            });;
            
            $j(document).on("pageinit","#locations", function(event){
                makeMapLinks();
            });;
            
            $j(document).on("pageinit","#achEdit", function(event){
                $j('#update').click(function() {
                 update();
                 });
            });;
            
            $j(document).on("pageinit","#agenda", function(event){
                
            });;
            
            $j(document).on("pagebeforeshow","#submitted", function(event){
                getAllSubmitted();
            });;
            
            function getAllAchievements() {
                Contacts.fetch('soql','SELECT id, Name FROM Achievement__c WHERE Track__c = \''+$j('#track option:selected').val()+'\'',function() {
                    showAchs(Contacts.data()); 
            });
            }
            
            function getAllContacts() {
                Contacts.fetch('soql','SELECT Name, MobilePhone, FirstName FROM Contact WHERE IsAttending__c = true ORDER By FirstName ASC',function() {
                    showContacts(Contacts.data()); 
                });
            }
            
            function getDailyPoints() {
                Contacts.fetch('soql','SELECT Points_Daily__c, Name, Id, User__c FROM Contact WHERE IsAttending__c = true ORDER By Points_Daily__c DESC',function() {
                    showLeaderboard(Contacts.data()); 
                });
            }
            
            function getPoints() {
                Contacts.fetch('soql','SELECT Points__c, Name, Id, User__c FROM Contact WHERE IsAttending__c = true ORDER By Points__c DESC',function() {
                    showLeaderboard(Contacts.data()); 
                });
            }
            
            function getContactId() {
                Contacts.fetch('soql','SELECT Id FROM Contact WHERE User__c = \'{!$User.Id}\'',function() {
                    setContactId(Contacts.data()); 
                });
            }
            
            function setContactId(records) {
            
                $j.each(Contacts.Data(),
                function(){
                $j('#contactIdHeld').val(this.ContactId);
                });
            }
            
            function makeMapLinks(){
                $j('#lList').empty();
                var ua = navigator.userAgent.toLowerCase();
                if(ua.indexOf("android") >=0){
                    $j('#lList').append('<li><a href=\"geo:37.781623,-122.404632?q=37.781623,-122.404632\" data-transition="flip">InterContinental Hotel</a></li>');
                    $j('#lList').append('<li><a href=\"geo:37.783596,-122.403607?q=37.783596,-122.403607\" data-transition="flip">Moscone West</a></li>');
                    $j('#lList').append('<li><a href=\"geo:37.783342,-122.399670?q=37.783342,-122.399670\" data-transition="flip">Moscone South</a></li>');
                    $j('#lList').append('<li><a href=\"geo:37.784410,-122.401977?q=37.784410,-122.401977\" data-transition="flip">Moscone North</a></li>');
                    $j('#lList').append('<li><a href=\"geo:37.784029,-122.403682?q=37.784029,-122.403682\" data-transition="flip">City View</a></li>');
                    $j('#lList').append('<li><a href=\"geo:37.786329,-122.401882?q=37.786329,-122.401882\" data-transition="flip">Yerba Buena/LAM Research Forum</a></li>');
                    $j('#lList').append('<li><a href=\"geo:37.785131,-122.403709?q=37.785131,-122.403709\" data-transition="flip">Marriott Marquis</a></li>');
                    $j('#lList').append('<li><a href=\"geo:37.785929,-122.401482?q=37.785929,-122.401482\" data-transition="flip">St. Regis</a></li>');
                    $j('#lList').append('<li><a href=\"geo:37.786657,-122.402783?q=37.786657,-122.402783\" data-transition="flip">Westin Market Street</a></li>');
                    $j('#lList').append('<li><a href=\"geo:37.788728,-122.401982?q=37.788728,-122.401982\" data-transition="flip">Palace Hotel</a></li>');
                    $j('#lList').append('<li><a href=\"geo:37.786168,-122.410102?q=37.786168,-122.410102\" data-transition="flip">Hilton Union Square</a></li>');
                    $j('#lList').append('<li><a href=\"geo:37.787741,-122.408251?q=37.787741,-122.408251\" data-transition="flip">Westin St. Francis</a></li>');
                    $j('#lList').append('<li><a href=\"geo:37.784604,-122.408299?q=37.784604,-122.408299\" data-transition="flip">Parc 55 Wyndham</a></li>');
                    $j('#lList').append('<li><a href=\"geo:37.785098,-122.403470?q=37.785098,-122.403470\" data-transition="flip">Esplanade</a></li>');
                    $j('#lList').append('<li><a href=\"geo:37.785648,-122.399276?q=37.785648,-122.399276\" data-transition="flip">Roe</a></li>');
                    $j('#lList').append('<li><a href=\"geo:37.781799,-122.401840?q=37.781799,-122.401840\" data-transition="flip">LuLu</a></li>');
                    $j('#lList').append('<li><a href=\"geo:37.785358,-122.403710?q=37.785358,-122.403710\" data-transition="flip">Press Club</a></li>');
                    $j('#lList').append('<li><a href=\"geo:37.789465,-122.394923?q=37.789465,-122.394923\" data-transition="flip">Town Hall</a></li>');
                    $j('#lList').append('<li><a href=\"geo:37.778515,-122.394332?q=37.778515,-122.394332\" data-transition="flip">Twenty-Five Lusk</a></li>');
                    $j('#lList').append('<li><a href=\"geo:37.787820,-122.403164?q=37.787820,-122.403164\" data-transition="flip">Local Edition</a></li>');
                    $j('#lList').append('<li><a href=\"geo:37.790543,-122.395927?q=37.790543,-122.395927\" data-transition="flip">RN74</a></li>');
                    $j('#lList').append('<li><a href=\"geo:37.773655,-122.417335?q=37.773655,-122.417335\" data-transition="flip">Sloane</a></li>');
                    $j('#lList').append('<li><a href=\"geo:37.792603,-122.400436?q=37.792603,-122.400436\" data-transition="flip">Mandarin Oriental</a></li>');
                }else{
                    $j('#lList').append('<li><a href=\"maps:q=37.781623,-122.404632\" data-transition="flip">InterContinental Hotel</a></li>');
                    $j('#lList').append('<li><a href=\"maps:q=37.783596,-122.403607\" data-transition="flip">Moscone West</a></li>');
                    $j('#lList').append('<li><a href=\"maps:q=37.783342,-122.399670\" data-transition="flip">Moscone South</a></li>');
                    $j('#lList').append('<li><a href=\"maps:q=37.784410,-122.401977\" data-transition="flip">Moscone North</a></li>');
                    $j('#lList').append('<li><a href=\"maps:q=37.784029,-122.403682\" data-transition="flip">City View</a></li>');
                    $j('#lList').append('<li><a href=\"maps:q=37.786329,-122.401882\" data-transition="flip">Yerba Buena/LAM Research Forum</a></li>');
                    $j('#lList').append('<li><a href=\"maps:q=37.785131,-122.403709\" data-transition="flip">Marriott Marquis</a></li>');
                    $j('#lList').append('<li><a href=\"maps:q=37.785929,-122.401482\" data-transition="flip">St. Regis</a></li>');
                    $j('#lList').append('<li><a href=\"maps:q=37.786657,-122.402783\" data-transition="flip">Westin Market Street</a></li>');
                    $j('#lList').append('<li><a href=\"maps:q=37.788728,-122.401982\" data-transition="flip">Palace Hotel</a></li>');
                    $j('#lList').append('<li><a href=\"maps:q=37.786168,-122.410102\" data-transition="flip">Hilton Union Square</a></li>');
                    $j('#lList').append('<li><a href=\"maps:q=37.787741,-122.408251\" data-transition="flip">Westin St. Francis</a></li>');
                    $j('#lList').append('<li><a href=\"maps:q=37.784604,-122.408299\" data-transition="flip">Parc 55 Wyndham</a></li>');
                    $j('#lList').append('<li><a href=\"maps:q=37.785098,-122.403470\" data-transition="flip">Esplanade</a></li>');
                    $j('#lList').append('<li><a href=\"maps:q=37.785648,-122.399276\" data-transition="flip">Roe</a></li>');
                    $j('#lList').append('<li><a href=\"maps:q=37.781799,-122.401840\" data-transition="flip">LuLu</a></li>');
                    $j('#lList').append('<li><a href=\"maps:q=37.785358,-122.403710\" data-transition="flip">Press Club</a></li>');
                    $j('#lList').append('<li><a href=\"maps:q=37.789465,-122.394923\" data-transition="flip">Town Hall</a></li>');
                    $j('#lList').append('<li><a href=\"maps:q=37.778515,-122.394332\" data-transition="flip">Twenty-Five Lusk</a></li>');
                    $j('#lList').append('<li><a href=\"maps:q=37.787820,-122.403164\" data-transition="flip">Local Edition</a></li>');
                    $j('#lList').append('<li><a href=\"maps:q=37.790543,-122.395927\" data-transition="flip">RN74</a></li>');
                    $j('#lList').append('<li><a href=\"maps:q=37.773655,-122.417335\" data-transition="flip">Sloane</a></li>');
                    $j('#lList').append('<li><a href=\"maps:q=37.792603,-122.400436\" data-transition="flip">Mandarin Oriental</a></li>');
                             
                }
                
                $j('#lList').listview('refresh');
                
            }
            
            function showLeaderboard(){
                 $j('#lbList').empty();
                $j.each(Contacts.data(),
                    function() {  
                    if(this.Points__c){
                        if(this.User__c == "{!$User.Id}"){
                            $j('#lbList').append('<li id="me">'+this.Name+': '+this.Points__c+' points</li>');
                            console.log('match');
                        }else{
                            $j('#lbList').append('<li>'+this.Name+': '+this.Points__c+' points</li>');
                        }
                    }else{
                        if(this.User__c == "{!$User.Id}"){
                            $j('#lbList').append('<li id="me">'+this.Name+': '+this.Points_Daily__c+' points</li>');
                            
                        }else{
                            $j('#lbList').append('<li>'+this.Name+': '+this.Points_Daily__c+' points</li>');
                        }
                    }
                  });
                $j('#me').attr('data-theme','e');
                $j.mobile.hidePageLoadingMsg();
                $j('#lbList').listview('refresh');
            }
            
            function getAllSubmitted(){
                Contacts.fetch('soql','SELECT Id, Notes__c, Achievement_Name__c FROM Dreamforce_Achievements__c WHERE CreatedById = \'{!$User.Id}\' ORDER By CreatedDate DESC',function() {
                    showAchievements(Contacts.data());
                });
            }

            function showAchs(records) {    
                $j('#achs').empty();
                $j('#achs').append('<option value="choose-one" data-placeholder="true">Choose an Achievement:</option>');
                $j.each(Contacts.data(),
                    function() {  
                    $j('#achs').append('<option value='+this.Id+'>'+this.Name+'</option>');
                  });
                
                $j.mobile.hidePageLoadingMsg();
                
            }
            
            function showContacts(records) {  
               
                $j('#cList').empty();
                
                $j.each(Contacts.data(),
                    function() {
                    var ph = this.MobilePhone;
                    if(ph){
                    ph = ph.replace('(', '');
                    ph = ph.replace(')', '');
                    ph = ph.replace(' ', '-');
                    ph = ph.replace(' ', '-'); 
                    if(ph.length == 12){
                        ph = '1-'+ph;
                    }    
                    console.log(ph);  
                    }
                    var newLink = $j('<li><a href=\"sms:'+ph+'\" id="'+this.MobilePhone+'" data-transition="flip">'+this.Name+'</a></li>');
                    newLink.appendTo('#cList');
                  });
                $j.mobile.hidePageLoadingMsg();
                $j('#cList').listview('refresh');
            }      
            
            function showAchievements(records) {
                $j('#aList').empty();
                $j.each(Contacts.data(),
                    function() {
                    var newLi = $j('<li></li>');
                    var newLink = $j('<a id=\"'+this.Id+'\" data-transition="flip">'+this.Achievement_Name__c+'</a>');   
                    newLink.click(function(e) {
                     e.preventDefault();
                        $j.mobile.showPageLoadingMsg();
                        $j('#notesEdit').val(Contacts.findRecordById([this.id]).Notes__c);
                        $j('#achievementIdEdit').val(Contacts.findRecordById([this.id]).Id);
                        $j('#achNameEdit').val(Contacts.findRecordById([this.id]).Achievement_Name__c);
                        $j('#error').html('');
                        $j.mobile.changePage('#achEdit', {changeHash: true});
                    });
                    newLi.append(newLink);
                    newLi.appendTo('#aList');
                  });
                $j.mobile.hidePageLoadingMsg();
                $j('#aList').listview('refresh');
            }
        
            function update(){
                
                console.log($j('#achievementIdEdit').val()+' '+$j('#notesEdit').val());
                var cId = $j('#achievementIdEdit').val();
                var record = Contacts.findRecordById(cId); 
                record.Notes__c = $j('#notesEdit').val();
                client.update("Dreamforce_Achievements__c",cId, {"Notes__c": record.Notes__c}, successCallback, displayError);
            }
        
            function deleteContact(e){
                e.preventDefault();
                Contacts.remove(Contacts.findIndexById($j('#contactId').val()),successCallback);
            }
            
            function successCallback(r){
                
                $j.mobile.changePage('#submitted', {changeHash: true});
            }
        
            function displayError(e){
                console.log(e);
                alert(e[0].message);
                $j('#error').html(e[0].message);
            }
            
            function makeAch(){
            client.create('Dreamforce_Achievements__c',{
                     "Achievement__c" : $j('#achs option:selected').val(),
                     "Notes__c" : $j('#notes').val(),
                     "User__c" : "{!$User.Id}"


                     },function(record){
                     alert("Finished creating Achievement");
                     $j('#notes').val('');

                     },displayError
                     );
            }
            
            
        </script>    
    </head>

    <body>    
    
        <div data-role="page" data-theme="b" id="index">    
               
                <div data-role="header">
                        <h1>Dreamforce Dominator</h1>
                </div>
            
            <div data-role="content" id="menuelist" data-theme="b">
                <a href="#achievement" data-role="button" id="toAchievement">Achievements</a>
                <a href="#leaderboard" data-role="button" id="toLeaderboard">Leaderboard</a>
                <a href="#contacts" data-role="button" id="toContacts">Contacts</a>
                <a href="#agenda" data-role="button" id="toAgenda">Agenda</a>
                <a href="#submitted" data-role="button" id="toSubmitted">Submitted</a>
                <a href="#locations" data-role="button" id="toLocations">Locations</a>
            </div>
        </div>
    
           
        <div data-role="page" data-theme="b" id="achievement">     
            <div data-role="panel" id="mypanel" data-theme="b">
            <a href="#achievement" data-role="button" id="toAchievement" class="ui-disabled">Achievements</a>
            <a href="#leaderboard" data-role="button" id="toLeaderboard">Leaderboard</a>
            <a href="#contacts" data-role="button" id="toContacts">Contacts</a>
            <a href="#agenda" data-role="button" id="toAgenda">Agenda</a>
            <a href="#submitted" data-role="button" id="toSubmitted">Submitted</a>
            <a href="#locations" data-role="button" id="toLocations">Locations</a>
            </div>           
            <div data-role="header">
                <h2>Dreamforce Dominator</h2>
                <a href="#mypanel" data-role="button" data-inline="true" data-icon="bars">Menu</a>
            </div>
            <div data-role="content" id="achievments">  
            <select name="track" id="track" data-theme="c">
                <option data-placeholder="true">Choose a Track:</option>
                <option value="All">All</option>
                <option value="Consulting">Consulting</option>
                <option value="Marketing">Marketing</option>
                <option value="Recruiting">Recruiting</option>
                <option value="Sales">Sales</option>
                <option value="Technical">Technical</option>
                </select>
                <select name="achs" id="achs" data-theme="c">
                <option data-placeholder="true">Choose an Achievement:</option>
                </select>
                   <textarea name="notes" id="notes" placeholder="Notes"/> 
                   <input type="button" value="Create" id="create" />
                 </div>
        </div>  
        
        <div data-role="page" data-theme="b" id="leaderboard">     
            <div data-role="panel" id="mypanel" data-theme="b">
            <a href="#achievement" data-role="button" id="toAchievement">Achievements</a>
            <a href="#leaderboard" data-role="button" id="toLeaderboard" class="ui-disabled">Leaderboard</a>
            <a href="#contacts" data-role="button" id="toContacts">Contacts</a>
            <a href="#agenda" data-role="button" id="toAgenda">Agenda</a>
            <a href="#submitted" data-role="button" id="toSubmitted">Submitted</a>
            <a href="#locations" data-role="button" id="toLocations">Locations</a>
            </div>           
            <div data-role="header">
                <h2>Dreamforce Dominator</h2>
                <a href="#mypanel" data-role="button" data-inline="true" data-icon="bars">Menu</a>
            </div>
            <div data-role="content">
                <a data-role="button" id="fullPointsL">Overall Leaderboard</a>
                <a data-role="button" id="dailyPointsL">Daily Leaderboard</a>
                <ol id="lbList" data-inset="true" data-role="listview" 
                    data-theme="c" data-dividertheme="b">
                </ol>
                <input type="hidden" id="contactIdHeld" />
            </div>
        </div>
        
        <div data-role="page" data-theme="b" id="contacts">     
            <div data-role="panel" id="mypanel" data-theme="b">
            <a href="#achievement" data-role="button" id="toAchievement">Achievements</a>
            <a href="#leaderboard" data-role="button" id="toLeaderboard">Leaderboard</a>
            <a href="#contacts" data-role="button" id="toContacts" class="ui-disabled">Contacts</a>
            <a href="#agenda" data-role="button" id="toAgenda">Agenda</a>
            <a href="#submitted" data-role="button" id="toSubmitted">Submitted</a>
            <a href="#locations" data-role="button" id="toLocations">Locations</a>
            </div>           
            <div data-role="header">
                <h2>Dreamforce Dominator</h2>
                <a href="#mypanel" data-role="button" data-inline="true" data-icon="bars">Menu</a>
            </div>
            
            <div data-role="content" id="cons"> 
                <ul id="cList" data-filter="true" data-inset="true" data-role="listview" data-autodividers="true" 
                    data-theme="c" data-dividertheme="b">
                </ul>
            </div>
        </div>
        
        <div data-role="page" data-theme="b" id="agenda">     
            <div data-role="panel" id="mypanel" data-theme="b">
            <a href="#achievement" data-role="button" id="toAchievement">Achievements</a>
            <a href="#leaderboard" data-role="button" id="toLeaderboard">Leaderboard</a>
            <a href="#contacts" data-role="button" id="toContacts">Contacts</a>
            <a href="#agenda" data-role="button" id="toAgenda" class="ui-disabled">Agenda</a>
            <a href="#submitted" data-role="button" id="toSubmitted">Submitted</a>
            <a href="#locations" data-role="button" id="toLocations">Locations</a>
            </div>           
            <div data-role="header">
                <h2>Dreamforce Dominator</h2>
                <a href="#mypanel" data-role="button" data-inline="true" data-icon="bars">Menu</a>
            </div>
            <div data-role="content">
            <a href="#talking" data-role="button">Talking Points</a>
            <a href="#jobs" data-role="button">Jobs Handout</a>
            <a href="#agendapages" data-role="button">Agenda</a>
            </div>
        </div>
        
        <div data-role="page" data-theme="b" id="talking">
                      
            <div data-role="header">
                <h2>Dreamforce Dominator</h2>
                <a href="#agenda" data-role="button" data-inline="true" data-icon="arrow-l">Back</a>
            </div>
            <div data-role="content">
                <div id="talking_points">
                <img src="https://i.imgur.com/NbThcBY.png" style="max-width: 100%;">
                </img>
                <img src="https://i.imgur.com/RLLjb9e.png" style="max-width: 100%;">
                </img>
                <img src="https://i.imgur.com/u83Wdkz.png" style="max-width: 100%;">
                </img>
                
                </div>
            </div>
        </div>
        
        <div data-role="page" data-theme="b" id="jobs">
                     
            <div data-role="header">
                <h2>Dreamforce Dominator</h2>
                <a href="#agenda" data-role="button" data-inline="true" data-icon="arrow-l">Back</a>
            </div>
            <div data-role="content">
                <div id="jobs_handout">
                <img src="https://i.imgur.com/sTG1MFF.png" style="max-width: 100%;">
                </img>
                </div>
            </div>
        </div>
        
        <div data-role="page" data-theme="b" id="agendapages">
                      
            <div data-role="header">
                <h2>Dreamforce Dominator</h2>
                <a href="#agenda" data-role="button" data-inline="true" data-icon="arrow-l">Back</a>
            </div>
            <div data-role="content">
                <div id="agendaa">
                <img src="https://i.imgur.com/uQ2ixWz.png" style="max-width: 100%;">
                </img>
                <img src="https://i.imgur.com/0EjVEp2.png" style="max-width: 100%;">
                </img>
                </div>
            </div>
        </div>
        
        <div data-role="page" data-theme="b" id="submitted">     
            <div data-role="panel" id="mypanel" data-theme="b">
            <a href="#achievement" data-role="button" id="toAchievement">Achievements</a>
            <a href="#leaderboard" data-role="button" id="toLeaderboard">Leaderboard</a>
            <a href="#contacts" data-role="button" id="toContacts">Contacts</a>
            <a href="#agenda" data-role="button" id="toAgenda">Agenda</a>
            <a href="#submitted" data-role="button" id="toSubmitted" class="ui-disabled">Submitted</a>
            <a href="#locations" data-role="button" id="toLocations">Locations</a>
            </div>           
            <div data-role="header">
                <h2>Dreamforce Dominator</h2>
                <a href="#mypanel" data-role="button" data-inline="true" data-icon="bars">Menu</a>
            </div>
            
            <div data-role="content" id="achs"> 
                <ul id="aList" data-filter="true" data-inset="true" data-role="listview"
                    data-theme="c" data-dividertheme="b">
                </ul>
            </div>
        </div>
        
        <div data-role="page" data-theme="b" id="locations">     
            <div data-role="panel" id="mypanel" data-theme="b">
            <a href="#achievement" data-role="button" id="toAchievement">Achievements</a>
            <a href="#leaderboard" data-role="button" id="toLeaderboard">Leaderboard</a>
            <a href="#contacts" data-role="button" id="toContacts">Contacts</a>
            <a href="#agenda" data-role="button" id="toAgenda">Agenda</a>
            <a href="#submitted" data-role="button" id="toSubmitted">Submitted</a>
            <a href="#locations" data-role="button" id="toLocations" class="ui-disabled">Locations</a>
            </div>           
            <div data-role="header">
                <h2>Dreamforce Dominator</h2>
                <a href="#mypanel" data-role="button" data-inline="true" data-icon="bars">Menu</a>
            </div>
            
            <div data-role="content" id="locs"> 
                <ul id="lList" data-filter="true" data-inset="true" data-role="listview"
                    data-theme="c" data-dividertheme="b">
                </ul>
            </div>
        </div>
        
        <div data-role="page" data-theme="b" id="achEdit">          
            <div data-role="header">
                <h2 id="achHeader">Test</h2>
                <a href="#submitted" data-role="button" data-inline="true" data-icon="arrow-l">Back</a>
            </div>
            <div data-role="content">
                <div data-role="fieldcontain">
                    <textarea name="notesEdit" id="notesEdit" />
                </div>
                <input type="hidden" id="achievementIdEdit" />
                <input type="hidden" id="achNameEdit" />
                <button id="update" data-role="button" data-icon="check" data-inline="true" data-theme="b">Update Notes</button>
            </div>    
        </div>
    </body>    
</apex:page>