<apex:page showHeader="false" sidebar="false" controller="SL_ctrl_VendorHome">
    <style type="text/css">
        #contactColumn{
            border: 1px solid #BCBCBF;
            border-radius: 6px;
        }
        #homeContentRow{
            margin-left: 0px;
            margin-right: 0px;
        }
        #contactColumn, #chatterColumn{
            margin: 15px 10px;
        }
        #message{
            margin-bottom: 15px;
        }
        #message table{
            width: 100% !important;
        }
        .contact-photo{
            width: 75px;
            height: 75px;
        }
        .contact-photo img{
            max-width: 75px; 
            max-height: 75px;
            width: auto;
            height: auto;
        }
        .community-contact{
            margin-top: 15px;
        }
        .publishercontainer .bottomBar{
            height: 50px;
        }
        .zen-select, .zen-select a, .zen-select ul, .zen-select ul li, .zen-select ul li a{
            -webkit-box-sizing: content-box;
            -moz-box-sizing: content-box;
            box-sizing: content-box;
        }
        hr{
            border: 1px solid #BCBCBF;
        }
    </style>
    <script>
        jQuery( function ($) {
            $(document).ready( function() { 
                $('#chatterColumn').find('.feeditemfirstentity, .feeditemsecondentity, .feedcommentuser, .feeditemextras').each( function () {
                    $(this).find('a').each(function () {
                        if($(this).hasClass('actorentitylink')){
                            this.href = '{!$Site.Prefix}/SL_VendorProfile?u=' + $(this).attr('data-hovid');
                        }else if($(this).attr('href').substring($(this).attr('href').lastIndexOf('/')+1).indexOf('005') == 0){
                            this.href = '{!$Site.Prefix}/SL_VendorProfile?u=' + $(this).attr('href').substring($(this).attr('href').lastIndexOf('/')+1);
                        }
                    });
                });
                $('.cxallfeedactions').each(function(){
                    $(this).children('a').each(function(){
                        if($(this).children('span').length != 0 && $(this).children('span').attr('title') == 'Share Post'){
                            $(this).children('span').remove();
                            $(this).next().remove();
                        }
                    });
                });
            });
        });
    </script>
    <apex:composition template="SL_VendorTemplate">
        <apex:define name="mainSection">
            <div class="row" id="homeContentRow">
                <div class="col-md-3" id="contactColumn">
                    <apex:repeat value="{!contacts}" var="contact">
                        <div class="row community-contact">
                            <div class="col-md-4">
                                <div class="contact-photo"><apex:outputText value="{!contact.photo}" escape="false"/></div>
                            </div>                      
                            <div class="col-md-8">
                                <div class="contact-name">{!contact.name}</div>
                                <div class="contact-role">{!contact.role}</div>
                                <div class="contact-role">{!contact.email}</div>
                                <div class="contact-role">{!contact.phone}</div>
                            </div>  
                        </div>
                    </apex:repeat>
                    <hr/>
                    <div id="message"><apex:outputText value="{!message.message}" escape="false"/></div>
                </div>              
                <div class="col-md-8" id="chatterColumn">
                    <apex:outputPanel >                     
                        <chatter:feed entityId="{!chatterGroupId}"/>
                    </apex:outputPanel>
                </div>              
            </div>
        </apex:define>
    </apex:composition>
</apex:page>