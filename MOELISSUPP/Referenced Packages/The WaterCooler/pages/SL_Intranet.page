<apex:page showheader="false" standardStyleSheets="true" controller="SLSI.SL_IntranetPageController" >
     
    <apex:includeScript value="{!URLFOR($Resource.SLSI__SL_IntranetHub, '/IntranetHub/commonJS/jquery.js')}" /> 
    <apex:includeScript value="{!URLFOR($Resource.SLSI__SL_IntranetHub, '/IntranetHub/commonJS/PageControllerJS.js')}" /> 
    <apex:includeScript value="{!URLFOR($Resource.SLSI__SL_IntranetHub, '/IntranetHub/commonJS/WidgetConfigJSON.js')}" />
   
    <link type="text/css" rel="stylesheet" href="{!URLFOR($Resource.SLSI__SL_IntranetHub,'/IntranetHub/widgetCSS/allWidgetsCSS.css')}" /> 
   
    <apex:repeat value="{!allWidget}" var="widget">
        <apex:includeScript value="{!URLFOR($Resource.SLSI__SL_IntranetHub, '/IntranetHub/widgetJS/' + widget.name + '.js')}" /> 
    </apex:repeat>
    
    <style>
        @media only screen and (max-width:650px){
            .holder{background:url('{!URLFOR($Resource.SLSI__SL_IntranetHub,
                      'IntranetHub/images/bg-header-mobile.jpg')}') repeat scroll 0 0 rgba(0, 0, 0, 0);}
        }
    </style>
    
    <script>
        // all widget instances initialization
        <apex:repeat value="{!allWidgets}" var="widget">
            var widget{!widget.id} = new {!widget.name}('{!widget.id}');
        </apex:repeat> 
    </script>
    
    <apex:composition template="{!strLayout}" > 
        
        <!--------- Start : Header Section ---------->
        <apex:define name="Header">
            
            <div style="width:100%;float:left;">    
            	<apex:dynamicComponent componentValue="{!HeaderUserInfoRegionWidgets}" />   
            </div>        
            <!-- Start - Regions of Header section  -->
            <div id="header" style="width:100%;float:left;"> 
                
                <!-- Start - Logo and others widgets  -->
                <div class="holder" style="position:static;">
                    
                    <!-- logo -->
                    <div class="logoD" style="width:250px;float:left;">
                        <apex:outputpanel rendered="{!if(AND(logoURL != null, logoURL != ''), false, true)}" > 
                            <div class="logo" style="background-position: left;">Silverline.com</div>
                        </apex:outputpanel> 
                        <apex:outputpanel rendered="{!if(AND(logoURL != null, logoURL != ''), true, false)}" > 
                            <img id="imgIdD" src="{!logoURL}" style="max-width:250px;max-height:200px;margin:5px 0px 5px 0px;" />
                        </apex:outputpanel>
                    </div>
                    <!-- End of Logo -->
                    
                    <div id="idHeaderUserInfoRegionWidgets" style="width:750px;float:right;">
                        <apex:dynamicComponent componentValue="{!HeaderLogoRegionWidgets}" />                               
                    </div>
                        
                </div>
                <!-- Start - Logo and others widgets  -->
                
            </div>
            <!-- End - Regions of Header section -->
                
            <!-- Start - Navigation widget  -->   
            <div style="width:100%;float:left;">                  
            	<apex:dynamicComponent componentValue="{!HeaderNavigationRegionWidgets}" />
            </div>
            <!-- Start - Navigation widget  -->
                
        </apex:define>
        <!--------- End : Header Section ------------>
        
        
        <!--------- Start : Banner Region ----------->
        <apex:define name="BannerRegion">
            
            <!-- Start - Banner Region widget -->
            <apex:dynamicComponent componentValue="{!BannerRegionWidgets}" />
            <!-- End - Banner Region widget -->
            
        </apex:define>
        <!--------- End : Banner Region -------------->
 
 
        <!--------- Start : Left Side Bar ----------->
        <apex:define name="LeftSideBar">
            
            <!-- Start - Left SideBar widgets -->
            <apex:dynamicComponent componentValue="{!LeftSideBarRegionWidgets}" />
            <!-- End - Left SideBar widgets -->
            
        </apex:define>
        <!--------- End : Left Side Bar -------------->
        
        
        <!-------- Start : Main section -------------->
        <apex:define name="MainSection">
           
            <!-- Start - Main Section widgets -->
            <apex:dynamicComponent componentValue="{!MainSectionRegionWidgets}" />
            <!-- End -  Main Section widgets -->
            
        </apex:define>
        <!-------- End : Main section --------------->
        
        
        <!-------- Start : Right Side Bar ----------->
        <apex:define name="RightSideBar">   
                
            <!-- Start - Right SideBar widgets -->    
            <apex:dynamicComponent componentValue="{!RightSideBarRegionWidgets}" />                  
            <!-- End - Right SideBar widgets -->
                
        </apex:define>
        <!-------- End : Right Side Bar ------------->
        
        
        <!-- ----------- Mobile view ------------ -->
        <apex:define name="MobileView">  
            
            <div id="header" style="padding:0px;"> 
                
                <!-- Start - Logo and others widgets  -->
                <div class="holder" >  
                    
                    <table width="100%" >
                        <tr>
                            <td align="left" width="25%" style="visibility : {!IF(OR($CurrentPage.Parameters.Page == 'Home',$CurrentPage.Parameters.Page == ''), 'hidden', 'visible')};">
                                <a href="/apex/SL_Intranet?page=Home" class="btn-left" alt="Go to Home Page">button</a>
                            </td>
                            <td align="center">
                                <!-- logo -->
                                <div class="logoM" style="width:300px;">
<!--                                    <div class="logo" id="logoIdM" style="background-position: center;">Silverline.com</div> -->
                                    <apex:outputpanel rendered="{!if(AND(logoURL != null, logoURL != ''), false, true)}" > 
                                        <div class="logo" style="background-position: center;">Silverline.com</div>
                                    </apex:outputpanel> 
                                    <apex:outputpanel rendered="{!if(AND(logoURL != null, logoURL != ''), true, false)}" > 
                                        <img id="imgIdM" src="{!logoURL}" style="max-width:300px;max-height:72px;margin:5px 0px 5px 0px;" />
                                    </apex:outputpanel>
                                </div>
                                <!-- End of Logo -->
                            </td>
                            <td align="right">
                                <div align="right" style="padding-right:30px;">
<!--                                    <img alt="Log out" src="{!URLFOR($Resource.SL_IntranetHub,'/IntranetHub/images/logout.ico')}" /> -->
                                    <strong style="color: #5F6065;font-size: 30px;line-height: 33px;">
                                        <a style="color: #5F6065;cursor:pointer;display:'{!IF(ISPICKVAL($User.UserType,'Guest'), none, block)}'" onclick= "window.location.href= '{!$Site.Prefix}/secur/logout.jsp'; ">
                                            {!$Label.site.logout}
                                        </a>
                                    </strong>
                                </div>
                            </td>
                        </tr>
                    </table>
                    
                </div>
             </div>
                
            <apex:dynamicComponent componentValue="{!MobileViewWidgets}" />    
                          
        </apex:define>
        <!-- ----------- Mobile view ------------ -->
        
    </apex:composition>
    
    <script>
        hideAddressBar1();
        
        $(document).ready(function() 
        {
            resizeLogo();
        });
        
        $(window).load(function()
        {
            resizeLogo();
        });
        
        function resizeLogo()
        {
            if('{!JSENCODE(logoURL)}' != '')
            { 
                var imgH1 = 79;
                var h1 = $('#imgIdD').height();
                if(h1 < imgH1 && h1 != 0)
                    $('#imgIdD').css('margin-top', (imgH1 - h1)/2);
            }
        }
    </script>
    
</apex:page>