<apex:page controller="TrackerTest" id="thePage" tabStyle="Ibanking_Project__c">
<apex:sectionHeader title="Potential Buyers/Investors Edit" subtitle="New Potential Buyers/Investors"/>
<apex:form id="af">

    <apex:stylesheet value="{!URLFOR($Resource.dirs_img_css, '/css/tracker.main.css')}"/>
    <apex:stylesheet value="{!URLFOR($Resource.dirs_img_css, '/css/jquery.kiketable.colsizable.css')}"/>
    <apex:stylesheet value="{!URLFOR($Resource.dirs_img_css, '/css/ui-lightness/jquery-ui-1.7.2.custom.css')}"/>
    <apex:stylesheet value="{!$Resource.multyedit}"/>
    
    
    
<!-- <apex:includeScript value="{!$Resource.jquery142}"/> jquery-1.4.2.min.js -->
   <apex:includeScript value="{!URLFOR($Resource.dir_js, '/js/jquery-1.3.2.min.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.dir_js, '/js/jquery-ui-1.7.2.custom.min.js')}"/>
    <!--
    <apex:includeScript value="{!URLFOR($Resource.dir_js, '/js/jquery.tracker.build.min.js')}"/>
-->
    <apex:includeScript value="{!$Resource.jquery_tracker_buildO}"/>
    <apex:includeScript value="{!$Resource.jquery_tracker_buildTEST}"/>
   
    <apex:outputPanel id="trackerContainer">
      <apex:actionstatus id="MCSub" startText="Processing...">
                <apex:facet name="start">
                    <div id="salesforceSource_blurybackground" style="position:absolute; left:1px; top:1px; width:100%; height:100%; text-align:center; vertical-align: middle; background-color: #dcdcdc; opacity:0.6;filter:alpha(opacity=60)"></div>
                    <div id="ManageMembersViewport_loading" class="waitingSearchDiv" style="width: 100%; height: 80%; display: ''; ">
                        <div style="width: 144px;vertical-align: middle;" class="waitingHolder">
                        <table align="center" valign="top" style="width: 100%; height: 30%">
                        <tr align="center" valign="top" style="width: 100%; height: 30%">
                            <td valign="top"><img class="waitingImage" src="/img/loading.gif"/><span class="waitingDescription">Processing......</span></td>
                        </tr>
                        </table>
                        </div>
                    </div>
                    <div id="ManageMembersViewport_loading" class="waitingSearchDiv" style="width: 100%; height: 100%; display: ''; "/>
                    <script>document.getElementById('ManageMembersViewport_loading').height = window.innerHeight * (3/4);</script> 
                </apex:facet>
                <apex:facet name="stop"></apex:facet>
    	</apex:actionstatus>

        <apex:pageBlock id="afpb" title="Selected: {!CurrDealObj.Name}">
            <apex:pageBlockButtons >
            <!-- 
                <apex:commandButton value="Save" onclick="saveJson2()" action="{!saveJson}" rerender="trackerContainer" status="MCSub" />
             
                <input class="btn" type="button"  value="Save"  onclick="saveJson2();"/>
                <apex:commandButton value="Cancel" action="{!cancel}" rerender="trackerContainer" status="MCSub" />
               <input class="btn" type="button" id="saveClose"  value="Save & Close" onclick="saveJson2(true);"/>
               <input class="btn" type="button" id="save"   value="Save"  onclick="saveJson2();"/>
                -->
               	<input class="btn" type="button" id="saveClose"  value="Save & Close" onclick="saveJson2(true);"/>
               	<input class="btn" type="button" id="TESTsave"   value="TESTsave"  onclick="saveJson5();"/>
                <input class="btn" type="button" onclick="addRows2();" value="New"/>
                <input class="btn" type="button" value="Delete " onclick="deleteRows(0);" />
                <input class="btn" type="button" value="Cancel" onclick="location.href='/{!SelProjItem}'" /> 
            </apex:pageBlockButtons>
<apex:pageMessages id="error"/>
<script>
function changewidth()
{
	var divSpaceW = parseInt(screen.width) - 350;
	document.write ('<div id="div-space" style="padding-bottom:12px;width:'+divSpaceW+'px;overflow:auto;overflow-y:hidden;border-right: solid 1px #d8d8d8;border-left: solid 1px #d8d8d8;"></div>');
}
function scrollToLeft()
{	

	document.getElementById('div-space').scrollLeft = 0; 
}
function scrollToCenter(toRightBorder)
{	
	alert(toRightBorder);
	var divSpaceObj = document.getElementById('div-space');
	if(divSpaceObj.scrollLeft>toRightBorder) divSpaceObj.scrollLeft =  toRightBorder;
}

</script>

            <apex:pageBlockSection id="pbsJson">
                <apex:pageBlockSectionItem id="pbsiJson">
                
                <!--
                <div id="div-space-top"  style="position:relative;"><script>changewidth();</script></div>
                -->
                    <apex:inputHidden value="{!jsonContent}" id="jsonContainer" />
                 
                </apex:pageBlockSectionItem>
            </apex:pageBlockSection>
        </apex:pageBlock>
	<div id="div-space">
		<table cellspacing="0" style="background-color: white;" class="kiketable-colsizable">
			<colgroup>
				 <col style="width: 250px;"/>
                 <col style="width: 160px;"/>
                 <col style="width: 80px;"/>
                 <col style="width: 85px;"/>
                 <col style="width: 85px;"/>
                 <col style="width: 85px;"/>
                 <col style="width: 85px;"/>
                 <col style="width: 85px;"/>
                 <col style="width: 120px;"/>
                 <col style="width: 120px;"/>
                 <col style="width: 140px;"/>
                 <col style="width: 125px;"/>
                 <col style="width: 85px;"/>
                 <col style="width: 120px;"/>
                 <col style="width: 85px;"/>
                 <col style="width: 140px;"/>
                 <col style="width: 140px;"/>
                 <col style="width: 120px;"/>
                 <col style="width: 90px;"/>
                 <col style="width: 140px;"/>
                 <col style="width: 140px;"/>
                 <col style="width: 130px;"/>
                 <col style="width: 90px;"/>
                 <col style="width: 140px;"/>
                 <col style="width: 140px;"/>
                 <col style="width: 85px;"/>
                 <col style="width: 90px;"/>
			</colgroup>
	<tbody>
		<tr row_index="0">
			<td cell_index="0" style="position: absolute; left: 1px; height: 35px; width: 30px ! important;">
                 <input type="checkbox" value=""/>
			</td>
			<td cell_index="1" 
			style="position: absolute; height: 35px; width: 210px; left: 29px; border-right: 1px solid rgb(204, 204, 204);">
                 <input type="text" value="3i Group plc" id="tr0_td1" name="tr0_td1" onchange="checklookupO(0, 1,'Account');" onfocus="savelookupO(this, 0, 1);" autocomplete="off" style="color: rgb(17, 17, 17);" class="inputClass inputlookupT"/>
                 <a title="Carrier Name Lookup (New Window)" id="tr0_td1_lkwgt" href="javascript: openLookup('/_ui/common/data/LookupPage?lkfm=af&lknm=tr0_td1&lktp=' + getElementByIdCS('tr0_td1_lktp').value,670,'1','&lksrch=' + escapeUTF(getElementByIdCS('tr0_td1').value.substring(0, 80)));">
                 <img title="Carrier Name Lookup (New Window)" class="lookupIcon lookupIconT" alt="Carrier Name Lookup (New Window)" id="tr0_td1_img" onclick=" $('#tr0_td1_show').val(1);setLastMousePosition(event);" src="/s.gif"/></a>
                 <div style="position: absolute; display: none; width: 170px; background-color: rgb(255, 255, 255); border: 1px solid rgb(204, 204, 204); padding: 0px 0px 3px 3px;" id="tr0_td1list_example"></div>
                 <span id="tr0_td1loading" style="display: none; padding-top: 5px;">
                 <img src="/img/loading.gif"/>
                 </span>
                 <div style="color: red; z-index: 100;" id="tr0_td1errrordiv"></div>
                 <input type="hidden" validatormesssage="Please enter Potential Buyer/Investor Name" validatorminchars="1" validator="noempty" value="001S000000EodRqIAJ" id="tr0_td1_lkid" name="tr0_td1_lkid"/>
                 <input type="hidden" value="3i Group plc" id="tr0_td1_lkold" name="tr0_td1_lkold"/>
                 <input type="hidden" value="001" id="tr0_td1_lktp" name="tr0_td1_lktp"/>
                 <input type="hidden" value="undefined" id="tr0_td1_lspf" name="tr0_td1_lspf"/>
                 <input type="hidden" value="undefined" id="tr0_td1_mod" name="tr0_td1_mod"/>
                 <input type="hidden" value="0" id="tr0_td1_show"/>
			</td>
			<td cell_index="2" style="height: 35px;">
                 <select onfocus="scrollToCenter(0);" validatormesssage="Please select Type" validatorminchars="2" validator="noempty" style="color: rgb(17, 17, 17); width: 150px;" class="selectClass">
                 <option value=""></option>
                 <option value="Financial">Financial</option>
                 <option value="Strategic">Strategic</option>
                 <option value="Bank / Lender">Bank / Lender</option>
                 <option value="Debt">Debt</option>
                 <option value="Equity" selected="true">Equity</option>
                 <option value="Shell">Shell</option>
                 <option value="Sovereign Wealth Fund">Sovereign Wealth Fund</option>
                 <option value="SPAC">SPAC</option><option value="Other">Other</option>
                 </select>
                 <div style="color: red;" id="tr0_td2errrordiv"></div>
			</td>
			<td cell_index="3" style="height: 35px;">
                 <select onfocus="scrollToCenter(165);" style="color: rgb(17, 17, 17); width: 70px;" class="selectClass">
                 <option value=""></option><option value="Active">Active</option>
                 <option value="Hold">Hold</option><option value="Inactive" selected="true">Inactive</option></select>
                 <div style="color: red;" id="tr0_td3errrordiv"></div>
			</td>
			<td cell_index="4" style="height: 35px;"><input type="text" onfocus="scrollToCenter(245);savedateO(0, 4);" validatormesssage="Invalid Date" validatorminchars="undefined" validator="checkUSDate" style="width: 70px; color: rgb(17, 17, 17); border: 1px solid rgb(204, 204, 204); font-size: 12px; padding: 0pt 1px 2px;" value="" id="date_0_4" class="hasDatepicker"/><div style="color: red;" id="tr0_td4errrordiv"></div></td>
			<td cell_index="5" style="height: 35px;"><input type="text" onfocus="scrollToCenter(330);savedateO(0, 5);" validatormesssage="Invalid Date" validatorminchars="undefined" validator="checkUSDate" style="width: 70px; color: rgb(17, 17, 17); border: 1px solid rgb(204, 204, 204); font-size: 12px; padding: 0pt 1px 2px;" value="" id="date_0_5" class="hasDatepicker"/><div style="color: red;" id="tr0_td5errrordiv"></div></td>
            <td cell_index="6" style="height: 35px;"><input type="text" onfocus="scrollToCenter(415);savedateO(0, 6);" validatormesssage="Invalid Date" validatorminchars="undefined" validator="checkUSDate" style="width: 70px; color: rgb(17, 17, 17); border: 1px solid rgb(204, 204, 204); font-size: 12px; padding: 0pt 1px 2px;" value="8/17/2010" id="date_0_6" class="hasDatepicker"/><div style="color: red;" id="tr0_td6errrordiv"></div></td>
            <td cell_index="7" style="height: 35px;"><input type="text" onfocus="scrollToCenter(500);savedateO(0, 7);" validatormesssage="Invalid Date" validatorminchars="undefined" validator="checkUSDate" style="width: 70px; color: rgb(17, 17, 17); border: 1px solid rgb(204, 204, 204); font-size: 12px; padding: 0pt 1px 2px;" value="8/9/2010" id="date_0_7" class="hasDatepicker"/><div style="color: red;" id="tr0_td7errrordiv"></div></td>
            <td cell_index="8" style="height: 35px;"><input type="text" onfocus="scrollToCenter(585);savedateO(0, 8);" validatormesssage="Invalid Date" validatorminchars="undefined" validator="checkUSDate" style="width: 70px; color: rgb(17, 17, 17); border: 1px solid rgb(204, 204, 204); font-size: 12px; padding: 0pt 1px 2px;" value="" id="date_0_8" class="hasDatepicker"/><div style="color: red;" id="tr0_td8errrordiv"></div></td>
            <td cell_index="9" style="height: 35px;"><input type="text" onfocus="scrollToCenter(670);savedateO(0, 9);" validatormesssage="Invalid Date" validatorminchars="undefined" validator="checkUSDate" style="width: 70px; color: rgb(17, 17, 17); border: 1px solid rgb(204, 204, 204); font-size: 12px; padding: 0pt 1px 2px;" value="" id="date_0_9" class="hasDatepicker"/><div style="color: red;" id="tr0_td9errrordiv"></div></td>
            <td cell_index="10" style="height: 35px;"><input type="text" onfocus="scrollToCenter(790);savedateO(0, 10);" validatormesssage="Invalid Date" validatorminchars="undefined" validator="checkUSDate" style="width: 70px; color: rgb(17, 17, 17); border: 1px solid rgb(204, 204, 204); font-size: 12px; padding: 0pt 1px 2px;" value="" id="date_0_10" class="hasDatepicker"/><div style="color: red;" id="tr0_td10errrordiv"></div></td>
            <td cell_index="11" style="height: 35px;"><input type="text" maxlength="20" onfocus="scrollToCenter(910);" style="color: rgb(17, 17, 17);" id="rtext_0_11" value="" class="inputClass"/><div style="color: red;" id="tr0_td11errrordiv"></div></td>
            <td cell_index="12" style="height: 35px;"><input type="text" onfocus="scrollToCenter(1050);savedateO(0, 12);" validatormesssage="Invalid Date" validatorminchars="undefined" validator="checkUSDate" style="width: 70px; color: rgb(17, 17, 17); border: 1px solid rgb(204, 204, 204); font-size: 12px; padding: 0pt 1px 2px;" value="" id="date_0_12" class="hasDatepicker"/><div style="color: red;" id="tr0_td12errrordiv"></div></td>
			<td cell_index="13" style="height: 35px;"><input type="text" onfocus="scrollToCenter(1135);savedateO(0, 13);" validatormesssage="Invalid Date" validatorminchars="undefined" validator="checkUSDate" style="width: 70px; color: rgb(17, 17, 17); border: 1px solid rgb(204, 204, 204); font-size: 12px; padding: 0pt 1px 2px;" value="" id="date_0_13" class="hasDatepicker"/><div style="color: red;" id="tr0_td13errrordiv"></div></td>
            <td cell_index="14" style="height: 35px;"><input type="text" onfocus="scrollToCenter(1220);scrollToCenter(1220);savedateO(0, 14);" validatormesssage="Invalid Date" validatorminchars="undefined" validator="checkUSDate" style="width: 70px; color: rgb(17, 17, 17); border: 1px solid rgb(204, 204, 204); font-size: 12px; padding: 0pt 1px 2px;" value="" id="date_0_14" class="hasDatepicker"/><div style="color: red;" id="tr0_td14errrordiv"></div></td>
            <td cell_index="15" style="height: 35px;"><input type="text" onfocus="scrollToCenter(1340);savedateO(0, 15);" validatormesssage="Invalid Date" validatorminchars="undefined" validator="checkUSDate" style="width: 70px; color: rgb(17, 17, 17); border: 1px solid rgb(204, 204, 204); font-size: 12px; padding: 0pt 1px 2px;" value="" id="date_0_15" class="hasDatepicker"/><div style="color: red;" id="tr0_td15errrordiv"></div></td>
            <td cell_index="16" style="height: 35px;"><input type="text" onfocus="scrollToCenter(1425);" validatormesssage="Invalid Amount Entered" validatorminchars="undefined" validator="checkCurrency" style="color: rgb(17, 17, 17);" id="rtext_0_16" value="" class="inputClass"/><div style="color: red;" id="tr0_td16errrordiv"></div></td>
            <td cell_index="17" style="height: 35px;"><input type="text" onfocus="scrollToCenter(1565);" validatormesssage="Invalid Amount Entered" validatorminchars="undefined" validator="checkCurrency" style="color: rgb(17, 17, 17);" id="rtext_0_17" value="" class="inputClass"/><div style="color: red;" id="tr0_td17errrordiv"></div></td>
            <td cell_index="18" style="height: 35px;"><input type="text" onfocus="scrollToCenter(1705);savedateO(0, 18);" validatormesssage="Invalid Date" validatorminchars="undefined" validator="checkUSDate" style="width: 70px; color: rgb(17, 17, 17); border: 1px solid rgb(204, 204, 204); font-size: 12px; padding: 0pt 1px 2px;" value="" id="date_0_18" class="hasDatepicker"/><div style="color: red;" id="tr0_td18errrordiv"></div></td>
            <td cell_index="19" style="height: 35px;"><input type="text" onfocus="scrollToCenter(1825);savedateO(0, 19);" validatormesssage="Invalid Date" validatorminchars="undefined" validator="checkUSDate" style="width: 70px; color: rgb(17, 17, 17); border: 1px solid rgb(204, 204, 204); font-size: 12px; padding: 0pt 1px 2px;" value="" id="date_0_19" class="hasDatepicker"/><div style="color: red;" id="tr0_td19errrordiv"></div></td>
            <td cell_index="20" style="height: 35px;"><input type="text" onfocus="scrollToCenter(1915);" validatormesssage="Invalid Amount Entered" validatorminchars="undefined" validator="checkCurrency" style="color: rgb(17, 17, 17);" id="rtext_0_20" value="" class="inputClass"/><div style="color: red;" id="tr0_td20errrordiv"></div></td>
            <td cell_index="21" style="height: 35px;"><input type="text" onfocus="scrollToCenter(2005);" validatormesssage="Invalid Amount Entered" validatorminchars="undefined" validator="checkCurrency" style="color: rgb(17, 17, 17);" id="rtext_0_21" value="" class="inputClass"/><div style="color: red;" id="tr0_td21errrordiv"></div></td>
            <td cell_index="22" style="height: 35px;"><input type="text" onfocus="scrollToCenter(2145);savedateO(0, 22);" validatormesssage="Invalid Date" validatorminchars="undefined" validator="checkUSDate" style="width: 70px; color: rgb(17, 17, 17); border: 1px solid rgb(204, 204, 204); font-size: 12px; padding: 0pt 1px 2px;" value="" id="date_0_22" class="hasDatepicker"/><div style="color: red;" id="tr0_td22errrordiv"></div></td>
            <td cell_index="23" style="height: 35px;"><input type="text" onfocus="scrollToCenter(2285);savedateO(0, 23);" validatormesssage="Invalid Date" validatorminchars="undefined" validator="checkUSDate" style="width: 70px; color: rgb(17, 17, 17); border: 1px solid rgb(204, 204, 204); font-size: 12px; padding: 0pt 1px 2px;" value="" id="date_0_23" class="hasDatepicker"/><div style="color: red;" id="tr0_td23errrordiv"></div></td>
            <td cell_index="24" style="height: 35px;"><input type="text" onfocus="scrollToCenter(2415);" validatormesssage="Invalid Amount Entered" validatorminchars="undefined" validator="checkCurrency" style="color: rgb(17, 17, 17);" id="rtext_0_24" value="" class="inputClass"/><div style="color: red;" id="tr0_td24errrordiv"></div></td>
            <td cell_index="25" style="height: 35px;"><input type="text" onfocus="scrollToCenter(2505);" validatormesssage="Invalid Amount Entered" validatorminchars="undefined" validator="checkCurrency" style="color: rgb(17, 17, 17);" id="rtext_0_25" value="" class="inputClass"/><div style="color: red;" id="tr0_td25errrordiv"></div></td>
            <td cell_index="26" style="height: 35px;"><input type="text" onfocus="scrollToCenter(2645);savedateO(0, 26);" validatormesssage="Invalid Date" validatorminchars="undefined" validator="checkUSDate" style="width: 70px; color: rgb(17, 17, 17); border: 1px solid rgb(204, 204, 204); font-size: 12px; padding: 0pt 1px 2px;" value="" id="date_0_26" class="hasDatepicker"/><div style="color: red;" id="tr0_td26errrordiv"></div></td>    
		</tr>
	</tbody>
</table>
</div>
                    <script>

                    
var tmp = '';
                            //colsWidth : [22,230,165,85,85,85,85,85,120,120,140,125,85,120,85,140,140,120,90,140,140,130,90,140,140,85]
                            var jsonTable;
                            var d = new Date();
                            tmp = ' ------ 1: '+d.getHours()+ " : " + d.getMinutes()+ " : "+d.getSeconds()+" : "+d.getMilliseconds();
                            $(document).ready(
                                function ()
                                {
                                    
	                                 $.getJSON('/apex/trackerJSON?pid={!SelProjItem}',{},function (data, textStatus) {
	                                 var d1 = new Date();
	                                 tmp += ' ------ 2: '+d1.getHours()+ " : " + d1.getMinutes()+ " : "+d1.getSeconds()+" : "+d1.getMilliseconds();
	                                   
	                                        jsonTable = $.drawTable({
	                                            debug : false,
	                                            json : data,
	                                            divPath : "#div-space",
	                                            styles : {
	                                                colsWidth : [250,160,80,85,85,85,85,85,120,120,140,125,85,120,85,140,140,120,90,140,140,130,90,140,140,85,90]
	                                            }
	                                        }); 
	                                        
	                                        
	                                  
	                                  var d2 = new Date();    
    	                              tmp += ' ------ 3: '+d2.getHours()+ " : " + d2.getMinutes()+ " : "+d2.getSeconds()+" : "+d2.getMilliseconds();
    	                              $('#json-textarea').html(tmp);      
    	                                });
    	                            
                                }       
                            )
                            
    
function candelete()
{
	return {!canDelete};
}
/* test method*/
function saveJson4()
{ 	
	
	//loading();
	if (deleteRows(0))
	{
			var strJSON_obj = document.getElementById('thePage:saveToForm:theHiddenInput_deleleList');
			var objBtn = document.getElementById('thePage:saveToForm:saveJson_delete_btn');
			if(jsonTable.model.delList != null && jsonTable.model.delList != '')
			{
				strJSON_obj.value = jsonTable.model.delList;
					//alert(strJSON_obj.value);
				$(objBtn).click();
			}
	}
				
}


var isValidatorOnProcess = false;
function saveJson5(isClose)
{ 	
	if( isValidatorOnProcess ) return false;
	var r = $("*[validator]").validator();
    if(r == true)
    {
		try
		{
			var rowsString = document.getElementById('thePage:saveToForm:theHiddenInput_rowsString');
			var tableString = document.getElementById('thePage:saveToForm:theHiddenInput_tableString');
			var objBtn = document.getElementById('thePage:saveToForm:saveJson_save_btn');
			var objBtnClose = document.getElementById('thePage:saveToForm:saveJson_save_close_btn');
			
			var strJSON_obj = document.getElementById('thePage:saveToForm:theHiddenInput_deleleList');
			//var objBtnDel = document.getElementById('thePage:saveToForm:saveJson_delete_btn');
			
			if(jsonTable.model.delList != null && jsonTable.model.delList != '')
			{
				strJSON_obj.value = jsonTable.model.delList;
					//alert(strJSON_obj.value);
				//$(objBtnDel).click();
			}
			
			var ret_rows = [];
			var ret_table = [];
			$.each(jsonTable.model.table, function(rowIndex, rowValue)
			{
				var rowid = jsonTable.model.rows[rowIndex];
				var row = '';
				if(rowid != 'undefined')
				{
					$.each(jsonTable.model.table[rowIndex], function(cellIndex, cellValue) 
					{
						if(jsonTable.model.table[rowIndex][cellIndex].type != 'lookupO2')row += jsonTable.model.table[rowIndex][cellIndex].value +'|';
						else row += jsonTable.model.table[rowIndex][cellIndex].value.lkid +'|';
					});
					ret_rows.push(rowid);
					ret_table.push(row);
				}
				
			});
			rowsString.value += ret_rows.join(":");
			tableString.value += ret_table.join(":");
			//alert(rowsString.value+' ----------------- '+tableString.value);
			if(isClose) $(objBtnClose).click();
			else $(objBtn).click();
		}catch(Exception){}
	} else return false;
}

var addRowInd3=1;
function addRows2()
{
	try	{
			jsonTable.model.rows.push('new_'+addRowInd3);
			jsonTable.model.table.push(clone(jsonTable.params.json.newRow));
			addRowInd3++;
			//alert($("#div-space").find('tbody').html());
			$tbody1 = $("#div-space").find('tbody');
			var tmp = $tbody1.html();
			$tbody1.html(tmp+'<tr><td>fffffffffffffffff</td></tr>');
			//jsonTable.refreshTable();
			var $controls = $(".inputClass,.selectClass");
			// Edited: Sergey Brull, 08.06.2010, Task #10380
			$controls.focus(function(event) {
  					var r = $("*[validator]").validator(true);
			});
	}catch(Exception){}
	return false;
}
</script>
<apex:includeScript value="{!$Resource.jquery_tracker_functions}"/> 
<!-- 
                        <a href="/apex/trackerJSON?pid={!SelProjItem}" target="_blank">/apex/trackerJSON?pid={!SelProjItem}</a>
                      
                        <input type="button" onclick="showJson();" value="Show JSON"/><br />
   -->                      
                        <textarea id="json-textarea" cols="100" rows="15"></textarea>
                      
                     
    </apex:outputPanel>

</apex:form>
<div style="display:none;"> 
<apex:form id="saveToForm">
<apex:outputPanel id="showstate">
<apex:commandButton value="Delete" action="{!deleteObj}" id="saveJson_delete_btn" />
<apex:commandButton value="Save&Close" action="{!save}" id="saveJson_save_btn" />
<apex:commandButton value="Save" action="{!save_close}" id="saveJson_save_close_btn" />

<apex:inputHidden value="{!deleleString}" id="theHiddenInput_deleleList"/>
<apex:inputHidden value="{!rowsString}" id="theHiddenInput_rowsString"/>
<apex:inputHidden value="{!tableString}" id="theHiddenInput_tableString"/>

</apex:outputPanel>
</apex:form>
</div>
</apex:page>