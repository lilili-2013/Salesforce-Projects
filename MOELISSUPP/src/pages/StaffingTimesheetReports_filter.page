<apex:page controller="StaffingTimesheetReport_filter" id="myPage">

<style>
	.myButton	{
				display:block;
				border:2px outset #2277cc;
				padding:2px;
				background-color:#eeeeff;
				text-decoration:none;
				font-family:sans-serif;
				border-radius:5px;
			}
	.myButton:hover	{
				display:block;
				border:2px outset #2277ff;
				padding:2px;
				background-color:#ffeeff;
				text-decoration:none;
				font-family:sans-serif;
				border-radius:5px;
			}
	.myButton:active	{
				display:block;
				border:2px inset #2277ff;
				padding:2px;
				background-color:#ffcccc;
				text-decoration:none;
				font-family:sans-serif;
				border-radius:5px;
			}
</style>

<script>
	function validate(str) {
		var fromStartDate = document.getElementById('myPage:myForm:mainPanel:fromStartDate').value;
		var endStartDate = document.getElementById('myPage:myForm:mainPanel:endStartDate').value;
		if ((fromStartDate === '') || (endStartDate === '')) {
			alert('Fill both date field to continue.');
			return false;
		}
	}
</script>

<apex:form id="myForm">
	<apex:pageBlock title="Insufficient privileges" rendered="{!IF(errMsg != '','true','false')}">
		{!errMsg}
	</apex:pageBlock>

	<apex:pageBlock title="Staffing Timesheet Reports" rendered="{!IF(errMsg == '','true','false')}" id="mainPanel">
		<table>
			<tr>
				<td><b>Date Range: </b></td>
				<td>From Start Date</td>
				<td></td>
				<td>End Start Date</td>
			</tr>
			<tr>
				<td></td>
				<td>
					<apex:inputField value="{!fromStartDate.Birthdate}" id="fromStartDate" >
						<apex:actionSupport event="onChange" rerender="button1"/>
					</apex:inputField>
				</td>
				<td><b>&nbsp;-&nbsp;to&nbsp;-&nbsp;</b></td>
				<td>
					<apex:inputField value="{!endStartDate.Birthdate}" id="endStartDate">
						<apex:actionSupport event="onChange" rerender="button1"/>
					</apex:inputField>
				</td>
			</tr>
			<tr>
				<td><b>Title: </b></td>
				<td colspan="3">
					<apex:selectList value="{!titlesList}" multiselect="true" size="4" style="width:100%;">
						<apex:selectOptions value="{!titles}"/>
					</apex:selectList>
				</td>
			</tr>
			<tr>
				<td><b>Office: </b></td>
				<td colspan="3">
					<apex:selectList value="{!officesList}" multiselect="true" size="4" style="width:100%;">
						<apex:selectOptions value="{!offices}"/>
					</apex:selectList>
				</td>
			</tr>
			<tr>
				<td><b>Business Type: </b></td>
				<td colspan="3">
					<apex:selectList value="{!businessTypeList}" multiselect="true" size="4" style="width:100%;">
						<apex:selectOptions value="{!businessTypes}"/>
					</apex:selectList>
				</td>
			</tr>
			<tr>
				<td>Include inactive?</td>
				<td><apex:inputCheckbox value="{!includeInactive}"/></td>
			</tr>
			<tr>
				<td>Include All?</td>
				<td><apex:inputCheckbox value="{!includeAll}"/></td>
			</tr>
			<tr>
				<td>Output to:</td>
				<td>
				<apex:selectList value="{!outputTo}" size="1">
					<apex:selectOption itemValue="pdf" itemLabel="PDF"/>
					<apex:selectOption itemValue="xls" itemLabel="Excel"/>
				</apex:selectList>
				</td>
			</tr>
			<tr>
				<td colspan="4">
					<table>
						<tr><td>
							<apex:commandLink value="Show Summary Report" action="{!showSummaryReport}"
							target="_blank" styleClass="myButton" onClick="return validate();">
							</apex:commandLink>
						</td><td>
							<apex:commandLink value="Show Detail Report" action="{!showDetailReport}"
							target="_blank" styleClass="myButton" onClick="return validate();">
							</apex:commandLink>
						</td></tr>
					</table>
				</td>
			</tr>
		</table>
	</apex:pageBlock>
</apex:form>
</apex:page>