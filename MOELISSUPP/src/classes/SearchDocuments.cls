//Generated by wsdl2apex

public class SearchDocuments 
{
    public static testMethod void TestHarness()
    {
        CapitalIQSetup_Controller.InitOrgInfo();
        DocumentInfo[] docinfos = Last30Days(21835, null);
        SearchDocumentsServiceSoap service = new SearchDocumentsServiceSoap();
        ArrayOfInt a = new ArrayOfInt();
        FilingEntity b = new FilingEntity();
        SearchDocuments_element c = new SearchDocuments_element();
        ArrayOfString d = new ArrayOfString();
        ArrayOfFilingEntity f = new ArrayOfFilingEntity();
        ArrayOfDocumentInfo g = new ArrayOfDocumentInfo();
        ArrayOfDocumentOutputType h = new ArrayOfDocumentOutputType();
        SearchDocumentsResponse_element i = new SearchDocumentsResponse_element();
        DocumentInfo j = new DocumentInfo(); 
    }
    
    public static DocumentInfo[] Last30Days(Integer CompanyId, String ASPNETSessionId)
    {
            SearchDocuments.ArrayOfInt empty = new SearchDocuments.ArrayOfInt();
            empty.int_x = new Integer[0];
            SearchDocuments.ArrayOfInt cids = new SearchDocuments.ArrayOfInt();
            cids.int_x = new Integer[1];
            cids.int_x.add(CompanyId);
            
            SearchDocuments.ArrayOfString cnames = new SearchDocuments.ArrayOfString();
            cnames.string_x = new String[0];
            DateTime FilingStartDateUTC = DateTime.now().addDays(-90);
            DateTime FilingEndDateUTC = DateTime.now();
            
            DateTime ProcessedStartDateUTC = DateTime.now().addDays(-90);
            DateTime ProcessedEndDateUTC = DateTime.now();
            
            SearchDocuments.ArrayOfInt SourceIds = new SearchDocuments.ArrayOfInt();
            SourceIds.int_x = new Integer[3];
            SourceIds.int_x.add(1);
            SourceIds.int_x.add(7);
            SourceIds.int_x.add(16);
            
            SearchDocuments.ArrayOfInt FormTypeIds = new SearchDocuments.ArrayOfInt();
            FormTypeIds.int_x = new Integer[8];
            FormTypeIds.int_x.add(1);
            FormTypeIds.int_x.add(2);
            FormTypeIds.int_x.add(3);
            FormTypeIds.int_x.add(4);
            FormTypeIds.int_x.add(5);
            FormTypeIds.int_x.add(6);
            FormTypeIds.int_x.add(7);
            FormTypeIds.int_x.add(8);
            FormTypeIds.int_x.add(13);
            FormTypeIds.int_x.add(14);
            
            SearchDocumentsServiceSoap service = new SearchDocumentsServiceSoap();
                    
            service.inputHttpHeaders_x = new Map<String,String>();
            service.inputHttpHeaders_x.put('Cookie', ASPNETSessionId);
            service.inputHttpHeaders_x.put('Accept-Encoding', 'gzip, deflate'); 
            try
            { 
                SearchDocuments.ArrayOfDocumentInfo results = service.SearchDocuments(cids, cnames, FilingStartDateUTC, FilingEndDateUTC, null, null, empty, empty, empty, null);
                
                if(results != null && results.DocumentInfo != null && results.DocumentInfo.size() != 0)
                {
                    return results.DocumentInfo;    
                }
            }
            catch(Exception e)
            {
                System.debug('@@@@ SearchDocuments threw : ' + e);
            }
            
            return null;
    }
    public class SearchDocumentsServiceSoap 
    {
        public SearchDocumentsServiceSoap()
        {
            CapitalIQOrganization__c myOrg = [Select org.Username__c, org.Password__c, org.WebServiceUrl__c
                    From CapitalIQOrganization__c org LIMIT 1];
            endpoint_x =  myOrg.WebServiceUrl__c + '/ciqdotnet/api/1.0/SearchDocuments.asmx';
        }
        public String endpoint_x;
        public Map<String,String> inputHttpHeaders_x;
        public Map<String,String> outputHttpHeaders_x;
        public String clientCert_x;
        public String clientCertPasswd_x;
        public Integer timeout_x;
        private String[] ns_map_type_info = new String[]{'http://capitaliq.com/ciqdotnet/filings/SearchDocuments', 'SearchDocuments'};
        public SearchDocuments.ArrayOfDocumentInfo SearchDocuments(SearchDocuments.ArrayOfInt CompanyId,SearchDocuments.ArrayOfString CompanyName,DateTime FilingStartDateUTC,DateTime FilingEndDateUTC,DateTime ProcessedStartDateUTC,DateTime ProcessedEndDateUTC,SearchDocuments.ArrayOfInt SourceId,SearchDocuments.ArrayOfInt FormTypeId,SearchDocuments.ArrayOfInt FormGroupId,String KeywordText) {
            SearchDocuments.SearchDocuments_element request_x = new SearchDocuments.SearchDocuments_element();
            SearchDocuments.SearchDocumentsResponse_element response_x;
            request_x.CompanyId = CompanyId;
            request_x.CompanyName = CompanyName;
            request_x.FilingStartDateUTC = FilingStartDateUTC;
            request_x.FilingEndDateUTC = FilingEndDateUTC;
            request_x.ProcessedStartDateUTC = ProcessedStartDateUTC;
            request_x.ProcessedEndDateUTC = ProcessedEndDateUTC;
            request_x.SourceId = SourceId;
            request_x.FormTypeId = FormTypeId;
            request_x.FormGroupId = FormGroupId;
            request_x.KeywordText = KeywordText;
            Map<String, SearchDocuments.SearchDocumentsResponse_element> response_map_x = new Map<String, SearchDocuments.SearchDocumentsResponse_element>();
            response_map_x.put('response_x', response_x);
            WebServiceCallout.invoke(
              this,
              request_x,
              response_map_x,
              new String[]{endpoint_x,
              'http://capitaliq.com/ciqdotnet/filings/SearchDocuments/SearchDocuments',
              'http://capitaliq.com/ciqdotnet/filings/SearchDocuments',
              'SearchDocuments',
              'http://capitaliq.com/ciqdotnet/filings/SearchDocuments',
              'SearchDocumentsResponse',
              'SearchDocuments.SearchDocumentsResponse_element'}
            );
            response_x = response_map_x.get('response_x');
            return response_x.SearchDocumentsResult;
        }
    }
    public class ArrayOfInt {
        public Integer[] int_x;
        private String[] int_x_type_info = new String[]{'int','http://www.w3.org/2001/XMLSchema','int','0','-1','false'};
        private String[] apex_schema_type_info = new String[]{'http://capitaliq.com/ciqdotnet/filings/SearchDocuments','true','false'};
        private String[] field_order_type_info = new String[]{'int_x'};
    }
    public class FilingEntity {
        public String FullName;
        public Integer ObjectID;
        public String OwnerType;
        public Integer ElementTypeRank;
        private String[] FullName_type_info = new String[]{'FullName','http://www.w3.org/2001/XMLSchema','string','0','1','false'};
        private String[] ObjectID_type_info = new String[]{'ObjectID','http://www.w3.org/2001/XMLSchema','int','1','1','true'};
        private String[] OwnerType_type_info = new String[]{'OwnerType','http://capitaliq.com/ciqdotnet/filings/SearchDocuments','ReportingOwnerType','1','1','false'};
        private String[] ElementTypeRank_type_info = new String[]{'ElementTypeRank','http://www.w3.org/2001/XMLSchema','int','1','1','true'};
        private String[] apex_schema_type_info = new String[]{'http://capitaliq.com/ciqdotnet/filings/SearchDocuments','true','false'};
        private String[] field_order_type_info = new String[]{'FullName','ObjectID','OwnerType', 'ElementTypeRank'};
    }
    public class SearchDocuments_element {
        public SearchDocuments.ArrayOfInt CompanyId;
        public SearchDocuments.ArrayOfString CompanyName;
        public DateTime FilingStartDateUTC;
        public DateTime FilingEndDateUTC;
        public DateTime ProcessedStartDateUTC;
        public DateTime ProcessedEndDateUTC;
        public SearchDocuments.ArrayOfInt SourceId;
        public SearchDocuments.ArrayOfInt FormTypeId;
        public SearchDocuments.ArrayOfInt FormGroupId;
        public String KeywordText;
        private String[] CompanyId_type_info = new String[]{'CompanyId','http://capitaliq.com/ciqdotnet/filings/SearchDocuments','ArrayOfInt','0','1','false'};
        private String[] CompanyName_type_info = new String[]{'CompanyName','http://capitaliq.com/ciqdotnet/filings/SearchDocuments','ArrayOfString','0','1','false'};
        private String[] FilingStartDateUTC_type_info = new String[]{'FilingStartDateUTC','http://www.w3.org/2001/XMLSchema','dateTime','1','1','true'};
        private String[] FilingEndDateUTC_type_info = new String[]{'FilingEndDateUTC','http://www.w3.org/2001/XMLSchema','dateTime','1','1','true'};
        private String[] ProcessedStartDateUTC_type_info = new String[]{'ProcessedStartDateUTC','http://www.w3.org/2001/XMLSchema','dateTime','1','1','true'};
        private String[] ProcessedEndDateUTC_type_info = new String[]{'ProcessedEndDateUTC','http://www.w3.org/2001/XMLSchema','dateTime','1','1','true'};
        private String[] SourceId_type_info = new String[]{'SourceId','http://capitaliq.com/ciqdotnet/filings/SearchDocuments','ArrayOfInt','0','1','false'};
        private String[] FormTypeId_type_info = new String[]{'FormTypeId','http://capitaliq.com/ciqdotnet/filings/SearchDocuments','ArrayOfInt','0','1','false'};
        private String[] FormGroupId_type_info = new String[]{'FormGroupId','http://capitaliq.com/ciqdotnet/filings/SearchDocuments','ArrayOfInt','0','1','false'};
        private String[] KeywordText_type_info = new String[]{'KeywordText','http://www.w3.org/2001/XMLSchema','string','0','1','false'};
        private String[] apex_schema_type_info = new String[]{'http://capitaliq.com/ciqdotnet/filings/SearchDocuments','true','false'};
        private String[] field_order_type_info = new String[]{'CompanyId','CompanyName','FilingStartDateUTC','FilingEndDateUTC','ProcessedStartDateUTC','ProcessedEndDateUTC','SourceId','FormTypeId','FormGroupId','KeywordText'};
    }
    public class ArrayOfString {
        public String[] string_x;
        private String[] string_x_type_info = new String[]{'string','http://www.w3.org/2001/XMLSchema','string','0','-1','true'};
        private String[] apex_schema_type_info = new String[]{'http://capitaliq.com/ciqdotnet/filings/SearchDocuments','true','false'};
        private String[] field_order_type_info = new String[]{'string_x'};
    }
    public class ArrayOfFilingEntity {
        public SearchDocuments.FilingEntity[] FilingEntity;
        private String[] FilingEntity_type_info = new String[]{'FilingEntity','http://capitaliq.com/ciqdotnet/filings/SearchDocuments','FilingEntity','0','-1','true'};
        private String[] apex_schema_type_info = new String[]{'http://capitaliq.com/ciqdotnet/filings/SearchDocuments','true','false'};
        private String[] field_order_type_info = new String[]{'FilingEntity'};
    }
    public class ArrayOfDocumentInfo {
        public SearchDocuments.DocumentInfo[] DocumentInfo;
        private String[] DocumentInfo_type_info = new String[]{'DocumentInfo','http://capitaliq.com/ciqdotnet/filings/SearchDocuments','DocumentInfo','0','-1','true'};
        private String[] apex_schema_type_info = new String[]{'http://capitaliq.com/ciqdotnet/filings/SearchDocuments','true','false'};
        private String[] field_order_type_info = new String[]{'DocumentInfo'};
    }
    public class ArrayOfDocumentOutputType {
        public String[] DocumentOutputType;
        private String[] DocumentOutputType_type_info = new String[]{'DocumentOutputType','http://capitaliq.com/ciqdotnet/filings/SearchDocuments','DocumentOutputType','0','-1','false'};
        private String[] apex_schema_type_info = new String[]{'http://capitaliq.com/ciqdotnet/filings/SearchDocuments','true','false'};
        private String[] field_order_type_info = new String[]{'DocumentOutputType'};
    }
    public class SearchDocumentsResponse_element {
        public SearchDocuments.ArrayOfDocumentInfo SearchDocumentsResult;
        private String[] SearchDocumentsResult_type_info = new String[]{'SearchDocumentsResult','http://capitaliq.com/ciqdotnet/filings/SearchDocuments','ArrayOfDocumentInfo','0','1','false'};
        private String[] apex_schema_type_info = new String[]{'http://capitaliq.com/ciqdotnet/filings/SearchDocuments','true','false'};
        private String[] field_order_type_info = new String[]{'SearchDocumentsResult'};
    }
    public class DocumentInfo {
        public SearchDocuments.ArrayOfFilingEntity Companies;
        public String getCompanyNames()
        {
            String s = '';
            for(Integer x=0;x<Companies.FilingEntity.size();x++)
            {
                String name = Companies.FilingEntity[x].FullName;
                s = s + name;
                if(x!= Companies.FilingEntity.size() - 1)
                {
                    s = s + ', ';
                }
            }
            return s;
        }
        public SearchDocuments.ArrayOfFilingEntity ReportingOwners;
        public String getReportingOwners()
        {
            if(ReportingOwners.FilingEntity != null)
            {
                String s = '';
                for(Integer x=0;x<ReportingOwners.FilingEntity.size();x++)
                {
                    String name = ReportingOwners.FilingEntity[x].FullName;
                    s = s + name;
                    if(x!= ReportingOwners.FilingEntity.size() - 1)
                    {
                        s = s + ', ';
                    }
                }
                return s;
            }
            return '-';
        }
        public Integer VersionId;
        public Integer DocumentId;
        public String SupplierDocumentId;
        public Integer FormTypeId;
        public DateTime ProcessedDate {get; set;}
        public String Description {get; set;}
        public DateTime FiledDate {get; set;}
        public String getFiledDateAsString()
        {
            return this.FiledDate.format('MMM-dd-yyyy');
        }
        public DateTime PeriodEndDate {get; set;}
        public String getPeriodDateAsString()
        {
            if(this.PeriodEndDate != null)
            {
                if(String.valueOf(this.PeriodEndDate) != '') 
                {
                    return this.PeriodEndDate.format('MMM-dd-yyyy');
                }
            }
            return '-';
        }
        public SearchDocuments.ArrayOfDocumentOutputType VersionFormatTypeIds;
        public String getFormatNames()
        {
            String s = '';
            for(Integer x=0;x<VersionFormatTypeIds.DocumentOutputType.size();x++)
            {
                String name = VersionFormatTypeIds.DocumentOutputType[x];
                s = s + name;
                if(x!= VersionFormatTypeIds.DocumentOutputType.size() - 1)
                {
                    s = s + ', ';
                }
            }
            return s;
        }
        public Integer FileSizeInBytes;
        public Integer SourceId;
        private String[] Companies_type_info = new String[]{'Companies','http://capitaliq.com/ciqdotnet/filings/SearchDocuments','ArrayOfFilingEntity','0','1','false'};
        private String[] ReportingOwners_type_info = new String[]{'ReportingOwners','http://capitaliq.com/ciqdotnet/filings/SearchDocuments','ArrayOfFilingEntity','0','1','false'};
        private String[] VersionId_type_info = new String[]{'VersionId','http://www.w3.org/2001/XMLSchema','int','1','1','false'};
        private String[] DocumentId_type_info = new String[]{'DocumentId','http://www.w3.org/2001/XMLSchema','int','1','1','false'};
        private String[] SupplierDocumentId_type_info = new String[]{'SupplierDocumentId','http://www.w3.org/2001/XMLSchema','string','0','1','false'};
        private String[] FormTypeId_type_info = new String[]{'FormTypeId','http://www.w3.org/2001/XMLSchema','int','1','1','false'};
        private String[] Description_type_info = new String[]{'Description','http://www.w3.org/2001/XMLSchema','string','0','1','false'};
        private String[] FiledDate_type_info = new String[]{'FiledDate','http://www.w3.org/2001/XMLSchema','dateTime','1','1','false'};
        private String[] ProcessedDate_type_info = new String[]{'ProcessedDate','http://www.w3.org/2001/XMLSchema','dateTime','1','1','false'};
        private String[] PeriodEndDate_type_info = new String[]{'PeriodEndDate','http://www.w3.org/2001/XMLSchema','dateTime','1','1','true'};
        private String[] VersionFormatTypeIds_type_info = new String[]{'VersionFormatTypeIds','http://capitaliq.com/ciqdotnet/filings/SearchDocuments','ArrayOfDocumentOutputType','0','1','false'};
        private String[] FileSizeInBytes_type_info = new String[]{'FileSizeInBytes','http://www.w3.org/2001/XMLSchema','int','1','1','false'};
        private String[] SourceId_type_info = new String[]{'SourceId','http://www.w3.org/2001/XMLSchema','int','1','1','false'};
        private String[] apex_schema_type_info = new String[]{'http://capitaliq.com/ciqdotnet/filings/SearchDocuments','true','false'};
        private String[] field_order_type_info = new String[]{'Companies','ReportingOwners','VersionId','DocumentId','SupplierDocumentId','FormTypeId','Description','FiledDate','ProcessedDate','PeriodEndDate','VersionFormatTypeIds','FileSizeInBytes','SourceId'};
    }
}