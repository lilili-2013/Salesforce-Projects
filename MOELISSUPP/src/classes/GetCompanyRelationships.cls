//Generated by wsdl2apex

public class GetCompanyRelationships 
{
    public static testMethod void TestHarness()
	{
		CapitalIQSetup_Controller.InitOrgInfo();
		ArrayOfInt a = new ArrayOfInt();
		CompanyRelationship b = new CompanyRelationship();
		ArrayOfCompanyRelationship c = new ArrayOfCompanyRelationship();
		GetCompanyRelationships_element d = new GetCompanyRelationships_element();
		GetCompanyRelationshipsResponse_element e = new GetCompanyRelationshipsResponse_element();
		GetCompanyRelationshipsSoap gcr = new GetCompanyRelationshipsSoap();
		CompanyRelationship[] sample = GetDirectInv(21835, null);
		CompanyRelationship[] sample2 = GetSubs(21835, null);
	}
	
    public static CompanyRelationship[] GetDirectInv(Integer CompanyId, String ASPNetSessionId)
	{
    	ArrayOfInt cids = new ArrayOfInt();
    	cids.int_x = new Integer[1];
    	cids.int_x[0] = CompanyId;
    	
    	ArrayOfInt types = new ArrayOfInt();
    	types.int_x = new Integer[1];
    	types.int_x[0] = 1;	
    	
    	
    	GetCompanyRelationshipsSoap service = new GetCompanyRelationshipsSoap();
        try
		{
	        service.inputHttpHeaders_x = new Map<String,String>();
	        service.inputHttpHeaders_x.put('Cookie', ASPNETSessionId);
	        service.inputHttpHeaders_x.put('Accept-Encoding', 'gzip, deflate');
	        
	        ArrayOfCompanyRelationship results = service.GetCompanyRelationships(cids, types, false, false);
	    	if(results != null && results.CompanyRelationship != null && results.CompanyRelationship.size() != 0)
		    {
		        return results.CompanyRelationship;    
		    }
		}
		catch(Exception e)
		{
			System.debug('@@@ GetCompanyRelationships.GetDirectInv() threw: ' + e);
		}
		
        return null;
    }
    
    public static CompanyRelationship[] GetSubs(Integer CompanyId, String ASPNetSessionId)
	{
    	ArrayOfInt cids = new ArrayOfInt();
    	cids.int_x = new Integer[1];
    	cids.int_x[0] = CompanyId;
    	
    	ArrayOfInt types = new ArrayOfInt();
    	types.int_x = new Integer[1];	
    	types.int_x[0] = 5;	
    	
    	try
		{
	    	GetCompanyRelationshipsSoap service = new GetCompanyRelationshipsSoap();
	        service.inputHttpHeaders_x = new Map<String,String>();
	        service.inputHttpHeaders_x.put('Cookie', ASPNETSessionId);
	        service.inputHttpHeaders_x.put('Accept-Encoding', 'gzip, deflate');
	        
	        ArrayOfCompanyRelationship results = service.GetCompanyRelationships(cids, types, false, false);
	        
			if(results != null && results.CompanyRelationship != null && results.CompanyRelationship.size() != 0)
		    {
		        return results.CompanyRelationship;    
		    }
		}
		catch(Exception e)
		{
			System.debug('@@@ GetCompanyRelationships.GetSubs() threw: ' + e);
		}

        return null;
    }
    
    public class ArrayOfInt 
    {
        public Integer[] int_x;
        private String[] int_x_type_info = new String[]{'int','http://www.w3.org/2001/XMLSchema','int','0','-1','false'};
        private String[] apex_schema_type_info = new String[]{'http://www.capitaliq.com/CIQDotNet/api/1.0/GetCompanyRelationships','true','false'};
        private String[] field_order_type_info = new String[]{'int_x'};
    }
    public class CompanyRelationship {
        public Integer InputCompanyId;
        public Integer CompanyRelId;
        public Integer CompanyRelationshipTypeId;
        public String CompanyRelationshipTypeName {get;set;}
        public Integer CompanyId1;
        public String CompanyName1 {get;set;}
        public Integer CompanyId2;
        public String CompanyName2 {get;set;}
        public Integer CompanyTypeId2;
        public String CompanyTypeName2 {get;set;}
        public Integer CompanyStatusTypeId2;
        public String CompanyStatusTypeName2;
        public String BusinessDescription2 {get; set;}
        private String[] InputCompanyId_type_info = new String[]{'InputCompanyId','http://www.w3.org/2001/XMLSchema','int','1','1','false'};
        private String[] CompanyRelId_type_info = new String[]{'CompanyRelId','http://www.w3.org/2001/XMLSchema','int','1','1','false'};
        private String[] CompanyRelationshipTypeId_type_info = new String[]{'CompanyRelationshipTypeId','http://www.w3.org/2001/XMLSchema','int','1','1','false'};
        private String[] CompanyRelationshipTypeName_type_info = new String[]{'CompanyRelationshipTypeName','http://www.w3.org/2001/XMLSchema','string','0','1','false'};
        private String[] CompanyId1_type_info = new String[]{'CompanyId1','http://www.w3.org/2001/XMLSchema','int','1','1','false'};
        private String[] CompanyName1_type_info = new String[]{'CompanyName1','http://www.w3.org/2001/XMLSchema','string','0','1','false'};
        private String[] CompanyId2_type_info = new String[]{'CompanyId2','http://www.w3.org/2001/XMLSchema','int','1','1','false'};
        private String[] CompanyName2_type_info = new String[]{'CompanyName2','http://www.w3.org/2001/XMLSchema','string','0','1','false'};
        private String[] CompanyTypeId2_type_info = new String[]{'CompanyTypeId2','http://www.w3.org/2001/XMLSchema','int','1','1','false'};
        private String[] CompanyTypeName2_type_info = new String[]{'CompanyTypeName2','http://www.w3.org/2001/XMLSchema','string','0','1','false'};
        private String[] CompanyStatusTypeId2_type_info = new String[]{'CompanyStatusTypeId2','http://www.w3.org/2001/XMLSchema','int','1','1','false'};
        private String[] CompanyStatusTypeName2_type_info = new String[]{'CompanyStatusTypeName2','http://www.w3.org/2001/XMLSchema','string','0','1','false'};
        private String[] BusinessDescription2_type_info = new String[]{'BusinessDescription2','http://www.w3.org/2001/XMLSchema','string','0','1','false'};
        private String[] apex_schema_type_info = new String[]{'http://www.capitaliq.com/CIQDotNet/api/1.0/GetCompanyRelationships','true','false'};
        private String[] field_order_type_info = new String[]{'InputCompanyId','CompanyRelId','CompanyRelationshipTypeId','CompanyRelationshipTypeName','CompanyId1','CompanyName1','CompanyId2','CompanyName2','CompanyTypeId2','CompanyTypeName2','CompanyStatusTypeId2','CompanyStatusTypeName2','BusinessDescription2'};
    }
    public class ArrayOfCompanyRelationship {
        public GetCompanyRelationships.CompanyRelationship[] CompanyRelationship;
        private String[] CompanyRelationship_type_info = new String[]{'CompanyRelationship','http://www.capitaliq.com/CIQDotNet/api/1.0/GetCompanyRelationships','CompanyRelationship','0','-1','true'};
        private String[] apex_schema_type_info = new String[]{'http://www.capitaliq.com/CIQDotNet/api/1.0/GetCompanyRelationships','true','false'};
        private String[] field_order_type_info = new String[]{'CompanyRelationship'};
    }
    public class GetCompanyRelationships_element {
        public GetCompanyRelationships.ArrayOfInt CompanyId;
        public GetCompanyRelationships.ArrayOfInt CompanyRelationshipTypeId;
        public Boolean IncludeSubsidiariesFlag;
        public Boolean IncludeInvestmentsFlag;
        private String[] CompanyId_type_info = new String[]{'CompanyId','http://www.capitaliq.com/CIQDotNet/api/1.0/GetCompanyRelationships','ArrayOfInt','0','1','false'};
        private String[] CompanyRelationshipTypeId_type_info = new String[]{'CompanyRelationshipTypeId','http://www.capitaliq.com/CIQDotNet/api/1.0/GetCompanyRelationships','ArrayOfInt','0','1','false'};
        private String[] IncludeSubsidiariesFlag_type_info = new String[]{'IncludeSubsidiariesFlag','http://www.w3.org/2001/XMLSchema','boolean','1','1','false'};
        private String[] IncludeInvestmentsFlag_type_info = new String[]{'IncludeInvestmentsFlag','http://www.w3.org/2001/XMLSchema','boolean','1','1','false'};
        private String[] apex_schema_type_info = new String[]{'http://www.capitaliq.com/CIQDotNet/api/1.0/GetCompanyRelationships','true','false'};
        private String[] field_order_type_info = new String[]{'CompanyId','CompanyRelationshipTypeId','IncludeSubsidiariesFlag','IncludeInvestmentsFlag'};
    }
    public class GetCompanyRelationshipsResponse_element {
        public GetCompanyRelationships.ArrayOfCompanyRelationship GetCompanyRelationshipsResult;
        private String[] GetCompanyRelationshipsResult_type_info = new String[]{'GetCompanyRelationshipsResult','http://www.capitaliq.com/CIQDotNet/api/1.0/GetCompanyRelationships','ArrayOfCompanyRelationship','0','1','false'};
        private String[] apex_schema_type_info = new String[]{'http://www.capitaliq.com/CIQDotNet/api/1.0/GetCompanyRelationships','true','false'};
        private String[] field_order_type_info = new String[]{'GetCompanyRelationshipsResult'};
    }
    public class GetCompanyRelationshipsSoap 
    {
    	public GetCompanyRelationshipsSoap()
        {
            CapitalIQOrganization__c myOrg = [Select org.Username__c, org.Password__c, org.WebServiceUrl__c
                    From CapitalIQOrganization__c org LIMIT 1];
            endpoint_x =  myOrg.WebServiceUrl__c + '/ciqdotnet/api/1.0/GetCompanyRelationships.asmx';
        }
        public String endpoint_x;
        public Map<String,String> inputHttpHeaders_x;
        public Map<String,String> outputHttpHeaders_x;
        public String clientCert_x;
        public String clientCertPasswd_x;
        public Integer timeout_x;
        private String[] ns_map_type_info = new String[]{'http://www.capitaliq.com/CIQDotNet/api/1.0/GetCompanyRelationships', 'GetCompanyRelationships'};
        public GetCompanyRelationships.ArrayOfCompanyRelationship GetCompanyRelationships(GetCompanyRelationships.ArrayOfInt CompanyId,GetCompanyRelationships.ArrayOfInt CompanyRelationshipTypeId,Boolean IncludeSubsidiariesFlag,Boolean IncludeInvestmentsFlag) {
            GetCompanyRelationships.GetCompanyRelationships_element request_x = new GetCompanyRelationships.GetCompanyRelationships_element();
            GetCompanyRelationships.GetCompanyRelationshipsResponse_element response_x;
            request_x.CompanyId = CompanyId;
            request_x.CompanyRelationshipTypeId = CompanyRelationshipTypeId;
            request_x.IncludeSubsidiariesFlag = IncludeSubsidiariesFlag;
            request_x.IncludeInvestmentsFlag = IncludeInvestmentsFlag;
            Map<String, GetCompanyRelationships.GetCompanyRelationshipsResponse_element> response_map_x = new Map<String, GetCompanyRelationships.GetCompanyRelationshipsResponse_element>();
            response_map_x.put('response_x', response_x);
            WebServiceCallout.invoke(
              this,
              request_x,
              response_map_x,
              new String[]{endpoint_x,
              'http://www.capitaliq.com/CIQDotNet/api/1.0/GetCompanyRelationships/GetCompanyRelationships',
              'http://www.capitaliq.com/CIQDotNet/api/1.0/GetCompanyRelationships',
              'GetCompanyRelationships',
              'http://www.capitaliq.com/CIQDotNet/api/1.0/GetCompanyRelationships',
              'GetCompanyRelationshipsResponse',
              'GetCompanyRelationships.GetCompanyRelationshipsResponse_element'}
            );
            response_x = response_map_x.get('response_x');
            return response_x.GetCompanyRelationshipsResult;
        }
    }
}